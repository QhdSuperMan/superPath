(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-5f7ea231"],{"168c":function(e,t,a){},"8f80":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("售后管理")]),a("el-breadcrumb-item",{staticClass:"attrbute"},[a("span",{on:{click:e.goBack}},[e._v("公司鉴定")])]),a("el-breadcrumb-item",[e._v(" 照顾公司鉴定单")])],1),a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"销售组织:"}},[a("span",[e._v(e._s(e.params.company_name))])]),a("br"),a("el-form-item",{attrs:{label:"公司鉴定单据号:"}},[a("span",[e._v(e._s(e.params.company_appraisal_sn))])]),2===e.type?a("el-form-item",{attrs:{label:"审核状态:",size:"mini"}},[1==e.params.auditor_status?a("span",[e._v("未审核")]):e._e(),2==e.params.auditor_status?a("span",[e._v("已审核")]):e._e(),3==e.params.auditor_status?a("span",[e._v("作废")]):e._e()]):e._e(),a("el-form-item",{attrs:{label:"部门:",size:"mini"}},[a("span",[e._v(e._s(e.params.department_name))])])],1)],1),a("div",[a("div",{staticClass:"table_simulate"},[a("p",{staticClass:"title"},[e._v("照顾理赔信息 ")]),a("el-form",{ref:"elForm",attrs:{inline:!0,"label-width":"100px",model:e.params,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务日期",prop:"business_time"}},[e._v(" "+e._s(e.params.business_time)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"质检员"}},[e._v(" "+e._s(e.params.inspector_name)+" ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户名称"}},[e._v(" "+e._s(e.params.customer_name)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"品牌名称"}},[e._v(" "+e._s(e.params.brand_name)+" ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品编号"}},[e._v(" "+e._s(e.params.goods_id)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品名称",title:e.params.goods_name}},[e._v(" "+e._s(e.params.goods_name)+" ")])],1)],1),3===e.type||1===e.type?a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"仓库名称",prop:"warehouse_id",rules:e.rules.warehouse_id}},[e._v(" "+e._s(function(){0==e.params.warehouse_id&&(e.params.warehouse_id=null)}())+" "),a("el-select",{attrs:{clearable:"",disabled:3===e.type||e.params.instorage_goods_id,filterable:"",placeholder:"请选择"},on:{focus:e.warehouseInvok,change:e.warehouseChange},model:{value:e.params.warehouse_id,callback:function(t){e.$set(e.params,"warehouse_id",t)},expression:"params.warehouse_id"}},e._l(e.warehouseList,(function(e){return a("el-option",{key:e.warehouse_id,attrs:{label:e.warehouse_name,value:e.warehouse_id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"货位名称",prop:"allocation_id",rules:e.rules.allocation_id}},[e._v(" "+e._s(function(){0==e.params.allocation_id&&(e.params.allocation_id=null)}())+" "),a("el-select",{attrs:{clearable:"",disabled:3===e.type||e.params.instorage_goods_id,filterable:"",placeholder:"请选择"},on:{focus:e.InventoryInvok},model:{value:e.params.allocation_id,callback:function(t){e.$set(e.params,"allocation_id",t)},expression:"params.allocation_id"}},e._l(e.allocationInventoryList,(function(e){return a("el-option",{key:e.allocation_id,attrs:{label:e.allocation_name,value:e.allocation_id}})})),1)],1)],1)],1):e._e(),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"胎号校验状态",prop:"tire_check_status"}},[e._v(" "+e._s(e.params.tire_check_status_name)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"胎号"}},[e._v(" "+e._s(e.params.tire_un)+" ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"病象",prop:"symptom_id",rules:{required:!0,message:"请选择病象",trigger:"change"}}},[a("el-select",{attrs:{multiple:"","collapse-tags":"",disabled:"",placeholder:"请输入"},model:{value:e.params.symptom_id,callback:function(t){e.$set(e.params,"symptom_id",t)},expression:"params.symptom_id"}},e._l(e.diseaseList,(function(e){return a("el-option",{key:e.symptom_id,attrs:{label:e.symptom_name,value:e.symptom_id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司鉴定结果",prop:"company_status",rules:{required:!0,message:"请选择公司鉴定结果",trigger:"change"}}},[a("el-select",{attrs:{clearable:"",disabled:""},model:{value:e.params.company_status,callback:function(t){e.$set(e.params,"company_status",t)},expression:"params.company_status"}},[a("el-option",{attrs:{label:"待厂检",value:1}},[e._v("待厂检")]),a("el-option",{attrs:{label:"理赔",value:2}},[e._v("理赔")]),a("el-option",{attrs:{label:"不理赔",value:3}},[e._v("不理赔")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"厂家鉴定结果"}},[e._v(" "+e._s(e.params.factory_status_name)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出厂花深"}},[e._v(" "+e._s(e.params.raw_flowerdeep)+" ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"剩余花深",prop:"surplus_flowerdeep",rules:{required:!0,validator:function(t,a,r){return e.checkPositive(t,a,r,"剩余花深")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computeDeep("surplus_flowerdeep")},change:function(t){return e.changeComputeDeep(e.params,"surplus_flowerdeep")}},model:{value:e.params.surplus_flowerdeep,callback:function(t){e.$set(e.params,"surplus_flowerdeep",t)},expression:"params.surplus_flowerdeep"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"厂免花深",prop:"factory_flowerdeep",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"厂免花深")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computeDeep("factory_flowerdeep")},change:function(t){return e.changeComputeDeep(e.params,"factory_flowerdeep")}},model:{value:e.params.factory_flowerdeep,callback:function(t){e.$set(e.params,"factory_flowerdeep",t)},expression:"params.factory_flowerdeep"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司照顾花深",prop:"care_flowerdeep",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"公司照顾花深")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computeDeep("care_flowerdeep")},change:function(t){return e.changeComputeDeep(e.params,"care_flowerdeep")}},model:{value:e.params.care_flowerdeep,callback:function(t){e.$set(e.params,"care_flowerdeep",t)},expression:"params.care_flowerdeep"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收费花深",prop:"charge_flowerdeep"}},[a("span",[e._v(e._s(e.params.charge_flowerdeep))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"毫米磨损费",prop:"mm_wearprice",rules:{required:!0,validator:function(t,a,r){return e.checkPositive(t,a,r,"毫米磨损")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computeDeep("mm_wearprice")},change:function(t){return e.changeComputeDeep(e.params,"care_flowerdeep")}},model:{value:e.params.mm_wearprice,callback:function(t){e.$set(e.params,"mm_wearprice",t)},expression:"params.mm_wearprice"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"磨损费",prop:"wear_price",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"磨损费")},trigger:"blur"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computedClaimPrice("wear_price")},change:function(t){return e.changeComputedClaimPrice("wear_price")}},model:{value:e.params.wear_price,callback:function(t){e.$set(e.params,"wear_price",t)},expression:"params.wear_price"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内胎售价",prop:"intube_price",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"内胎售价")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computePrice("intube_price")},change:function(t){return e.changeComputePrice(e.params,"intube_price")}},model:{value:e.params.intube_price,callback:function(t){e.$set(e.params,"intube_price",t)},expression:"params.intube_price"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"垫带售价",prop:"flap_price",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"垫带售价")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computePrice("flap_price")},change:function(t){return e.changeComputePrice(e.params,"flap_price")}},model:{value:e.params.flap_price,callback:function(t){e.$set(e.params,"flap_price",t)},expression:"params.flap_price"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内垫费",prop:"inflap_price",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"内垫费")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computedClaimPrice("inflap_price")},change:function(t){return e.changeComputedClaimPrice("inflap_price")}},model:{value:e.params.inflap_price,callback:function(t){e.$set(e.params,"inflap_price",t)},expression:"params.inflap_price"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"最新销售价",prop:"new_goods_price",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"最新销售价")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},on:{input:function(t){return e.computedClaimPrice("new_goods_price")},change:function(t){return e.changeComputedClaimPrice("new_goods_price")}},model:{value:e.params.new_goods_price,callback:function(t){e.$set(e.params,"new_goods_price",t)},expression:"params.new_goods_price"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"理赔单价",prop:"claim_price",rules:{validator:function(t,a,r){return e.checkPositive(t,a,r,"理赔单价")},trigger:"change"}}},[a("el-input",{attrs:{type:"text"},model:{value:e.params.claim_price,callback:function(t){e.$set(e.params,"claim_price",t)},expression:"params.claim_price"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"lang",attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2},model:{value:e.params.remark,callback:function(t){e.$set(e.params,"remark",t)},expression:"params.remark"}})],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.goBack}},[e._v("取消")]),3!==e.type?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]):e._e(),1==e.params.auditor_status&&3===e.type?[1==e.authority.b_pass?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.audit("auditorPassCompanyAppraisal")}}},[e._v("审核")]):e._e(),1==e.authority.b_invalid?a("el-button",{on:{click:function(t){return e.audit("auditorInvalidCompanyAppraisal")}}},[e._v("作废")]):e._e()]:e._e()],2)])],1)},i=[],o=(a("b680"),a("a9e3"),a("a15b"),a("4de4"),a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("f957")),s={name:"aftersaleCompanyModification",data:function(){return{authority:{},TableData:{info_data:{},list:[]},timeValue:[],params:{symptom_id:[]},register_id:null}},methods:{changeComputedClaimPrice:function(e){this.$publicFution.toFixedTwo(this.params,e),this.computedClaimPrice(e)},computedClaimPrice:function(e){if(!isNaN(this.params[e]||this.params[e]<0)){var t=this.params.new_goods_price-this.params.wear_price-this.params.inflap_price;t<0||isNaN(t)?this.$set(this.params,"claim_price",0):this.$set(this.params,"claim_price",Number(t).toFixed(2))}},checkPositive:function(e,t,a,r){var i=isNaN(Number(t))?0:Number(t).toFixed(2);isNaN(Number(t))&&a(new Error(r+"必须大于等于0")),i<0&&a(new Error(r+"必须大于等于0")),a()},changeComputeDeep:function(e,t){this.$publicFution.toFixedTwo(e,t),this.computeDeep(t)},computeDeep:function(e){Object(o["a"])({row:this.params,column:{property:e}}),this.computedClaimPrice("wear_price")},changeComputePrice:function(e,t){this.$publicFution.toFixedTwo(e,t),this.computePrice(t)},computePrice:function(e){Object(o["b"])({row:this.params,column:{property:e}}),this.computedClaimPrice("wear_price")},warehouseChange:function(){this.$set(this.params,"allocation_id",null),this.$set(this.params,"allocation_name",null)},goBack:function(){this.$router.push({path:"/aftersale/companyjudgement"})},audit:function(e){var t=this;this.$axMethod[e]({company_appraisal_goods_id:this.orderId}).then((function(e){200==e.data.code&&(t.$message({message:e.data.msg?e.data.msg:e.data.data,type:"success"}),t.goBack())}))},submit:function(){var e=this;this.$refs.elForm.validate((function(t){if(t){var a=e.$publicFution.deepCopy(e.params);a.symptom_id=Array.isArray(a.symptom_id)?a.symptom_id.join(","):a.symptom_id;var r={company_appraisal_goods_id:a.company_appraisal_goods_id,business_time:a.business_time,company_id:a.company_id,inspector_id:a.inspector_id};Object.assign(r,e.$publicFution.filter(o["d"],a)),r.new_goods_price=a.new_goods_price,r.claim_price=a.claim_price,e.$axMethod.CareCompanyAppraisal(r).then((function(t){200==t.data.code&&(e.$message({message:t.data.msg?t.data.msg:t.data.data,type:"success"}),e.goBack())}))}}))}},created:function(){var e=this;this.EmployeeListInvok(),this.getNEwlist(),this.$route.query&&this.$route.query.id&&(this.orderId=this.$route.query.id,this.$axMethod.infoCompanyAppraisal({company_appraisal_goods_id:this.orderId}).then((function(t){e.params=t.data.data,e.params.company_appraisal_goods_id=e.orderId;var a=[];String(t.data.data.symptom_id).split(",").forEach((function(e){a.push(Number(e))})),e.warehouseList=[{warehouse_name:e.params.warehouse_name,warehouse_id:e.params.warehouse_id}],e.allocationInventoryList=[{allocation_name:e.params.allocation_name,allocation_id:e.params.allocation_id}],e.params.symptom_id=a,e.computedClaimPrice("new_goods_price")})))}},n=s,l=(a("fba0"),a("2877")),p=Object(l["a"])(n,r,i,!1,null,"af8dd0ca",null);t["default"]=p.exports},b680:function(e,t,a){"use strict";var r=a("23e7"),i=a("da84"),o=a("e330"),s=a("5926"),n=a("408a"),l=a("1148"),p=a("d039"),c=i.RangeError,m=i.String,u=Math.floor,d=o(l),_=o("".slice),f=o(1..toFixed),h=function(e,t,a){return 0===t?a:t%2===1?h(e,t-1,a*e):h(e*e,t/2,a)},w=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},g=function(e,t,a){var r=-1,i=a;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=u(i/1e7)},b=function(e,t){var a=6,r=0;while(--a>=0)r+=e[a],e[a]=u(r/t),r=r%t*1e7},v=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var r=m(e[t]);a=""===a?r:a+d("0",7-r.length)+r}return a},y=p((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!p((function(){f({})}));r({target:"Number",proto:!0,forced:y},{toFixed:function(e){var t,a,r,i,o=n(this),l=s(e),p=[0,0,0,0,0,0],u="",f="0";if(l<0||l>20)throw c("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return m(o);if(o<0&&(u="-",o=-o),o>1e-21)if(t=w(o*h(2,69,1))-69,a=t<0?o*h(2,-t,1):o/h(2,t,1),a*=4503599627370496,t=52-t,t>0){g(p,0,a),r=l;while(r>=7)g(p,1e7,0),r-=7;g(p,h(10,r,1),0),r=t-1;while(r>=23)b(p,1<<23),r-=23;b(p,1<<r),g(p,1,1),b(p,2),f=v(p)}else g(p,0,a),g(p,1<<-t,0),f=v(p)+d("0",l);return l>0?(i=f.length,f=u+(i<=l?"0."+d("0",l-i)+f:_(f,0,i-l)+"."+_(f,i-l))):f=u+f,f}})},f957:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return n}));a("b680"),a("a9e3"),a("d3b7"),a("159b"),a("a15b");function r(e){var t=e.row,a=e.column;if(!(isNaN(t[a.property])||t[a.property]<0)){var r=t.raw_flowerdeep-t.surplus_flowerdeep-t.factory_flowerdeep-t.care_flowerdeep;if(!isNaN(r)){r<0&&(r=0),t.charge_flowerdeep=Number(r).toFixed(2);var i=t.mm_wearprice*t.charge_flowerdeep;t.wear_price=isNaN(i)?0:Number(i).toFixed(2)}}}function i(e){var t=e.row,a=e.column;isNaN(t[a.property]||t[a.property]<0)||(t.inflap_price=(Number(t.intube_price)+Number(t.flap_price)).toFixed(2))}var o={intube_price:0,flap_price:0,raw_flowerdeep:0,factory_flowerdeep:0,care_flowerdeep:0,edit:!0,charge_flowerdeep:"",symptom_id:"",goods_id:"",brand_id:"",brand_name:"",tire_check_status:"",company_status:"",tire_un:"",wear_price:"",surplus_flowerdeep:"",mm_wearprice:"",inflap_price:"",goods_price:0,discount_price:"",remark:"",warehouse_id:"",warehouse_name:"",allocation_name:"",allocation_id:""},s={instorage_goods_id:"",goods_tire_id:"",intube_price:0,flap_price:0,raw_flowerdeep:0,factory_flowerdeep:0,care_flowerdeep:0,edit:!0,charge_flowerdeep:0,symptom_id:"",goods_id:"",goods_name:"",brand_id:"",brand_name:"",tire_check_status:"",tire_check_status_name:"",company_status:"",tire_un:"",wear_price:0,surplus_flowerdeep:0,mm_wearprice:0,inflap_price:0,goods_price:0,discount_price:"",remark:"",warehouse_id:"",warehouse_name:"",allocation_name:"",allocation_id:""},n={data:function(){var e=this,t=this.$createElement;return{editRules:{goods_name:[{required:!0,message:"请选择商品"}],warehouse_name:[{required:!0,message:"请选择仓库"}],allocation_name:[{required:!0,message:"请选择货位"}],tire_un:[{required:!0,message:"请填写胎号"}],tire_check_status_name:[{required:!0,message:"请选择胎号校验状态"}],symptom_id:[{required:!0,message:"请选择病象"}],company_status_name:[{required:!0,message:"请选择公司鉴定结果"}],raw_flowerdeep:[{required:!0,message:"出厂花深必须大于等于0",type:"number",min:0}],surplus_flowerdeep:[{required:!0,message:"剩余花深必须大于等于0",type:"number",min:0}],mm_wearprice:[{required:!0,message:"毫米磨损费必须大于等于0",type:"number",min:0}],charge_flowerdeep:[{required:!0,message:"收费花深必须大于等于0"}],inflap_price:[{required:!0,message:"内垫费费必须大于等于0",type:"number",min:0}]},tableColumn:[{type:"checkbox",width:44},{title:"品牌名称",field:"brand_name",width:76},{title:"商品编号",field:"goods_id",width:80},{title:"商品名称",field:"goods_name",width:300,editRender:{name:"vGoods",getParams:function(t){var a=t.row;return{params:{company_id:e.params.company_id},showObj:{goods_id:"商品编号",goods_name:"商品名称"},getIcon:function(){return a.goods_name?[{icon:"el-icon-close",title:"删除商品",iconMethod:function(){for(var e in a)a[e]=""}}]:[]}}},events:{change:function(t,a){var r=a.row;r.goods_id=t.goods_id,r.brand_id=t.brand_id,r.brand_name=t.brand_name;var i=e.$refs.xTable._proxy("getTableData").fullData;i[i.length-1].goods_name&&e.addOrder()}}}},{field:"warehouse_name",title:"仓库名称",width:200,editRender:{name:"vSelect",getParams:function(){return{url:"getWarehouseFocus",params:{company_id:e.params.company_id},itemObj:{id:"warehouse_id",name:"warehouse_name"}}},events:{change:function(e){var t=e.row;t.allocation_name="",t.allocation_id=""}}}},{title:"货位名称",field:"allocation_name",width:130,editRender:{name:"vAllocation",getParams:function(t){var a=t.row;return{url:"newAllocationListList",isPage:!0,params:{company_id:e.params.company_id,warehouse_id:a.warehouse_id,goods_id:a.goods_id}}}}},{title:"胎号",field:"tire_un",width:132,editRender:{name:"Vinput",autoselect:!0,formatter:"String",events:{change:function(t){var a=t.row;console.log(a),a.tire_un&&e.$axMethod.getTireSalesPrice({tire_un:a.tire_un,goods_id:a.goods_id,type:7,customer_id:e.params.customer_id}).then((function(e){var t=e.data;200===t.code&&(a.goods_price=t.data.sales_price?t.data.sales_price:a.goods_price)}))}}}},{title:"胎号校验状态",field:"tire_check_status_name",width:160,editRender:{name:"vSelect",getParams:function(){return{modelKey:"tire_check_status",list:[{label:"匹配",value:1},{label:"不匹配",value:2}]}}}},{title:"病像",field:"symptom_id",width:200,editRender:{name:"vSelect",getParams:function(){return{itemObj:{id:"symptom_id",name:"symptom_name"},popperClass:"longSymptom",list:e.diseaseList,extendParams:{multiple:!0}}},slots:function(a){var r=a.row,i=[];return Array.isArray(r.symptom_id)&&e.diseaseList.forEach((function(e){r.symptom_id.forEach((function(t){e.symptom_id===t&&i.push(e.symptom_name)}))})),[t("span",[i.join(",")])]}}},{title:"公司鉴定结果",field:"company_status_name",width:140,editRender:{name:"vSelect",getParams:function(){return{modelKey:"company_status",list:[{label:"待厂检",value:1},{label:"理赔",value:2},{label:"不理赔",value:3}]}}}},{title:"出厂花深",field:"raw_flowerdeep",width:120,editRender:{name:"Vinput",autoselect:!0,formatter:"Positive",events:{input:this.computeDeep}}},{title:"剩余花深",field:"surplus_flowerdeep",width:120,editRender:{name:"Vinput",autoselect:!0,formatter:"Positive",events:{input:this.computeDeep}}},{title:"厂免花深",field:"factory_flowerdeep",width:120,editRender:{name:"Vinput",autoselect:!0,formatter:"Positive",events:{input:this.computeDeep}}},{title:"公司照顾花深",field:"care_flowerdeep",width:120,editRender:{name:"Vinput",autoselect:!0,formatter:"Positive",events:{input:this.computeDeep}}},{title:"收费花深",field:"charge_flowerdeep",width:120},{title:"毫米磨损费",field:"mm_wearprice",width:120,editRender:{name:"Vinput",formatter:"Positive",autoselect:!0,events:{input:this.computeDeep}}},{title:"磨损费",field:"wear_price",width:80,editRender:{formatter:"Positive",name:"Vinput",autoselect:!0}},{title:"内胎售价",field:"intube_price",width:120,editRender:{name:"Vinput",autoselect:!0,formatter:"Positive",events:{input:this.computePrice}}},{title:"垫带售价",field:"flap_price",width:104,editRender:{name:"Vinput",autoselect:!0,formatter:"Positive",events:{input:this.computePrice}}},{title:"内垫费",field:"inflap_price",width:104,editRender:{name:"Vinput",formatter:"Positive",autoselect:!0}},{title:"原销售价",field:"goods_price",width:104,editRender:{name:"Vinput",formatter:"Positive",autoselect:!0}},{title:"备注",field:"remark",width:200,editRender:{name:"Vinput",autoselect:!0,formatter:"String"}}]}},methods:{deletes:function(){this.$refs.xTable._proxy("getSelectRecords").length?this.$refs.xTable._proxy("removeSelecteds"):this.$message.warning("请先选择要删除的商品！"),0===this.$refs.xTable._proxy("getTableData").fullData.length&&(this.editType=0)},isEdit:function(e){var t=e.column,a=e.row;return"goods_name"!==t.property||this.params.customer_id?"allocation_name"!==t.property&&"warehouse_name"!==t.property||2!==this.editType?!("allocation_name"===t.property&&!a.warehouse_id)||(this.$message.warning("请先选择仓库"),!1):(this.$message.warning("引用单据不可编辑"),!1):(this.$message.warning("请先选择客户"),!1)},computeDeep:r,computePrice:i}}},fba0:function(e,t,a){"use strict";a("168c")}}]);
//# sourceMappingURL=chunk-5f7ea231.69c3fe4c.js.map