{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/sales/BidManagement/BidManagement.vue?19d7","webpack://erpcode-[name]/../common/components/plugin/Classification/Classification.vue?baec","webpack://erpcode-[name]/./src/components/element/sales/BidManagement/BidManagement.vue?776d","webpack://erpcode-[name]/./src/components/element/sales/BidManagement/config/BidManagement.js","webpack://erpcode-[name]/../common/components/plugin/Classification/Classification.vue?6e42","webpack://erpcode-[name]/../common/components/plugin/Classification/Classification.vue","webpack://erpcode-[name]/../common/components/plugin/Classification/Classification.vue?26ad","webpack://erpcode-[name]/../common/components/plugin/Classification/Classification.vue?5592","webpack://erpcode-[name]/src/components/element/sales/BidManagement/BidManagement.vue","webpack://erpcode-[name]/./src/components/element/sales/BidManagement/BidManagement.vue?610c","webpack://erpcode-[name]/./src/components/element/sales/BidManagement/BidManagement.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","params","model","value","callback","$$v","$set","expression","on","onSearch","_v","gcList","change","getList","tableColumn","length","url","result","total","dealData","_e","$event","submit","staticRenderFns","TableHead","data","activateScope","type","width","title","field","headerAlign","align","editRender","name","slots","default","row","goods_price","goods_num","sales_price","methods","tags","_l","item","index","key","RemoveTag","_s","activeNames","stack","ClickOnClassification","val","goods_type_id","gc_id","goods_type_name","gc_name","vfpStack","level3Stack","props","Object","SecondaryList","splice","$emit","clear","valus","component","mixins","components","Classification","Tabledata","oneData","init","$axMethod","getselectType","code","assign","goods_type_id_1","goods_type_id_2","$refs","xTable","_getData","type_list","list","_proxy","console","log","$router","push","path","quoteManagementSalesOrdersACT","$message","warning","mounted"],"mappings":"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","file":"js/chunk-28ba8a40.c3b1b888.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BidManagement.vue?vue&type=style&index=0&id=6f8939da&lang=less&scoped=true&\"","export * from \"-!../../../../erpcode/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../erpcode/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../erpcode/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../erpcode/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../erpcode/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../erpcode/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../erpcode/node_modules/vue-loader/lib/index.js??vue-loader-options!./Classification.vue?vue&type=style&index=0&id=2ea5545f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"addFormInline\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名称/编码\"},model:{value:(_vm.params.search_condition),callback:function ($$v) {_vm.$set(_vm.params, \"search_condition\", $$v)},expression:\"params.search_condition\"}})],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")])],1)],1)],1),_c('div',[_c('Classification',{ref:\"Classification\",attrs:{\"gcList\":_vm.gcList},on:{\"change\":_vm.change,\"search\":_vm.getList}})],1),_c('div',{staticClass:\"table_container\"},[(_vm.tableColumn.length > 0)?_c('xTable',{ref:\"xTable\",attrs:{\"ajax\":{ url: \"getSalesOfferList\", params: _vm.params ,result:\"data.data.list.data\",total:\"data.data.list.total\"},\"isShowTool\":true,\"tableColumn\":_vm.tableColumn},on:{\"getData\":_vm.dealData}}):_vm._e()],1),_c('div',{staticClass:\"bottom-area\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"转销售订单\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 模板\nexport const saleRowModule = {\n\n}\n// 提交模板\nexport const sumbitRowModule = {\n\n}\nexport const TableHead = { // 需要传进来一个this对象\n  data() {\n    return {\n      activateScope: {},\n      tableColumn: [\n        {\n          type: \"checkbox\",\n          width: 44\n        },\n        {\n          type: 'seq',\n          title: '序号',\n          width: 50\n        },\n        {\n          title: '商品编号',\n          field: 'goods_id',\n          width: 80\n        },\n        {\n          title: '商品名称',\n          field: 'goods_name',\n          width: 350\n        },\n        {\n          title: '品牌',\n          field: 'brand_name',\n          width: 100\n        },\n        {\n          title: '规格',\n          field: 'specifications',\n          width: 100\n        },\n        {\n          title: '单位',\n          field: 'unit_name',\n          width: 100\n        },\n        {\n          title: '库存数量',\n          field: 'available_stocks',\n          width: 100\n        },\n        {\n          title: '最近采购价',\n          field: 'settlement_price',\n          width: 100\n        },\n        {\n          title: '指导价',\n          field: 'guide_price',\n          width: 100\n        },\n        {\n          title: '订货数量',\n          field: 'goods_num',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 110,\n          editRender: {\n            name: 'number',\n          }\n        },\n        {\n          title: '销售报价',\n          field: 'sales_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 132,\n          editRender: {\n            name: 'number'\n          }\n        },\n        {\n          title: '金额',\n          field: 'goods_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 132,\n          slots: {\n            default: ({ row }) => {\n              return row.goods_price = row.goods_num * row.sales_price\n            }\n          }\n        },\n        {\n          title: '适配车型',\n          field: 'apply_vehicle_mode',\n        }\n      ]\n    }\n  },\n  methods: {\n    // 是否可编辑\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"Accordion\"},[(_vm.tags.length)?_c('div',{staticClass:\"SelectedList\"},[_c('span',{staticClass:\"lable\"},[_vm._v(\"已选条件：\")]),_vm._l((_vm.tags),function(item,index){return _c('el-tag',{key:index,attrs:{\"size\":\"medium\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.RemoveTag(index)}}},[_vm._v(\" \"+_vm._s(index==0?'一级分类：':(index==1?\"二级分类：\":'三级分类：'))+\" \"+_vm._s(item.name)+\" \")])})],2):_vm._e(),_c('el-collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"一级分类\",\"name\":\"1\"}},[_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":_vm.stack==0?'danger':''},on:{\"click\":function($event){return _vm.ClickOnClassification({val:0,name:'全部'},1)}}},[_vm._v(\"全部\")]),_vm._l((_vm.gcList.p_id0),function(item,index){return _c('el-tag',{key:index,attrs:{\"size\":\"medium\",\"type\":_vm.stack==index+1?'danger':''},on:{\"click\":function($event){return _vm.ClickOnClassification({val:item.goods_type_id||item.gc_id,name:item.goods_type_name||item.gc_name,index: index},1)}}},[_vm._v(_vm._s(item.goods_type_name||item.gc_name))])})],2),_c('el-collapse-item',{attrs:{\"title\":\"二级分类\",\"name\":\"2\",\"disabled\":!_vm.tags[0]}},[_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":_vm.vfpStack==0?'danger':''},on:{\"click\":function($event){return _vm.ClickOnClassification({val:0,name:'全部'},2)}}},[_vm._v(\"全部\")]),_vm._l((_vm.gcList.p_id1),function(item,index){return _c('el-tag',{key:index,attrs:{\"size\":\"medium\",\"type\":_vm.vfpStack==index+1?'danger':''},on:{\"click\":function($event){return _vm.ClickOnClassification({val:item.goods_type_id||item.gc_id,name:item.goods_type_name||item.gc_name,index: index},2)}}},[_vm._v(_vm._s(item.goods_type_name||item.gc_name))])})],2),_c('el-collapse-item',{attrs:{\"title\":\"三级分类\",\"name\":\"3\",\"disabled\":!_vm.tags[1]}},_vm._l((_vm.gcList.p_id2),function(item,index){return _c('el-tag',{key:index,attrs:{\"size\":\"medium\",\"type\":_vm.level3Stack==index?'danger':''},on:{\"click\":function($event){return _vm.ClickOnClassification({val:item.goods_type_id||item.gc_id,name:item.goods_type_name||item.gc_name,index: index},3)}}},[_vm._v(_vm._s(item.goods_type_name||item.gc_name)+\" \")])}),1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: taotao\n * @Date: 2021-01-08 14:09:28\n * @LastEditTime: 2021-01-22 15:47:27\n * @FilePath: \\ERPweb\\src\\components\\plugin\\Classification\\Classification.vue\n-->\n<template>\n  <div>\n    <div class=\"Accordion\">\n      <div class=\"SelectedList\" v-if=\"tags.length\">\n        <span class=\"lable\">已选条件：</span>\n        <el-tag v-for=\"(item,index) in tags\" size=\"medium\" :key=\"index\" closable @close=\"RemoveTag(index)\">\n          {{index==0?'一级分类：':(index==1?\"二级分类：\":'三级分类：')}}\n          {{item.name}}\n        </el-tag>\n        <!-- <el-tag v-for=\"(item,index) in tags\" size=\"medium\" :key=\"index\" closable @close=\"RemoveTag(index)\">\n          {{item.name}}\n        </el-tag> -->\n      </div>\n      <el-collapse v-model=\"activeNames\" accordion>\n        <el-collapse-item title=\"一级分类\" name=\"1\">\n          <el-tag size=\"medium\" @click=\"ClickOnClassification({val:0,name:'全部'},1)\" :type=\"stack==0?'danger':''\">全部</el-tag>\n          <el-tag size=\"medium\" v-for=\"(item,index) in gcList.p_id0\" :key=\"index\" :type=\"stack==index+1?'danger':''\" @click=\"ClickOnClassification({val:item.goods_type_id||item.gc_id,name:item.goods_type_name||item.gc_name,index},1)\">{{item.goods_type_name||item.gc_name}}</el-tag>\n        </el-collapse-item>\n        <el-collapse-item title=\"二级分类\" name=\"2\" :disabled=\"!tags[0]\">\n          <el-tag size=\"medium\" @click=\"ClickOnClassification({val:0,name:'全部'},2)\" :type=\"vfpStack==0?'danger':''\">全部</el-tag>\n          <el-tag size=\"medium\" v-for=\"(item,index) in gcList.p_id1\" :key=\"index\" :type=\"vfpStack==index+1?'danger':''\" @click=\"ClickOnClassification({val:item.goods_type_id||item.gc_id,name:item.goods_type_name||item.gc_name,index},2)\">{{item.goods_type_name||item.gc_name}}</el-tag>\n        </el-collapse-item>\n        <el-collapse-item title=\"三级分类\" name=\"3\" :disabled=\"!tags[1]\">\n          <el-tag size=\"medium\" v-for=\"(item,index) in gcList.p_id2\" :key=\"index\" :type=\"level3Stack==index?'danger':''\" @click=\"ClickOnClassification({val:item.goods_type_id||item.gc_id,name:item.goods_type_name||item.gc_name,index},3)\">{{item.goods_type_name||item.gc_name}}\n          </el-tag>\n        </el-collapse-item>\n      </el-collapse>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    gcList: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n    SecondaryList: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      activeNames: [\"1\"],\n      tags: [],\n      stack: 0,\n      vfpStack: 0,\n      level3Stack: null,\n    };\n  },\n  methods: {\n    RemoveTag(index) {\n      if (index == 0) {\n        this.tags = [];\n        this.activeNames = [\"1\"];\n        this.stack = 0;\n      } else if (index == 1) {\n        this.tags.splice(index, 2);\n        this.activeNames = [\"2\"];\n        this.vfpStack = 0;\n      } else {\n        this.tags.splice(index, 1);\n        this.activeNames = [\"3\"];\n        this.level3Stack = null;\n      }\n      this.$emit(\"search\");\n    },\n    clear() {\n      this.tags = [];\n      this.activeNames = [\"1\"];\n      this.stack = 0;\n      this.vfpStack = 0;\n      this.level3Stack = null;\n    },\n    ClickOnClassification(valus, index) {\n      if (valus.val) {\n        if (index == 1) {\n          this.tags.splice(0, 3, valus);\n          if (valus.val != 0) {\n            this.activeNames = [\"2\"];\n          }\n          this.stack = valus.index + 1;\n        } else if (index == 2) {\n          this.tags.splice(1, 3, valus);\n          if (valus.val != 0) {\n            this.activeNames = [\"3\"];\n          }\n\n          this.vfpStack = valus.index + 1;\n        } else {\n          this.tags.splice(2, 3, valus);\n          this.level3Stack = valus.index;\n        }\n      } else {\n        if (index == 1) {\n          this.tags = [];\n          this.stack = 0;\n          this.vfpStack = 0;\n          this.level3Stack = 0;\n        } else if (index == 2) {\n          this.tags.splice(1, 3);\n          this.vfpStack = 0;\n          this.level3Stack = null;\n        }\n      }\n      this.$emit(\"change\", valus.val, index);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.Accordion {\n  /deep/.el-collapse-item__header {\n    height: 48px;\n    line-height: 48px;\n    font-size: 13px;\n    color: #303133;\n    border-bottom: 1px solid #ebeef5;\n  }\n  .el-collapse {\n    padding: 0;\n  }\n  .el-tag--medium {\n    cursor: pointer;\n    margin: 5px;\n  }\n  .SelectedList {\n    min-width: 1000px;\n    height: 60px;\n    line-height: 60px;\n    .lable {\n      font-size: 13px;\n      color: #303133;\n    }\n  }\n  /deep/.el-collapse-item__content {\n    padding-top: 25px;\n  }\n}\n</style>","import mod from \"-!../../../../erpcode/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../erpcode/node_modules/thread-loader/dist/cjs.js!../../../../erpcode/node_modules/babel-loader/lib/index.js!../../../../erpcode/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../erpcode/node_modules/vue-loader/lib/index.js??vue-loader-options!./Classification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../erpcode/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../erpcode/node_modules/thread-loader/dist/cjs.js!../../../../erpcode/node_modules/babel-loader/lib/index.js!../../../../erpcode/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../erpcode/node_modules/vue-loader/lib/index.js??vue-loader-options!./Classification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classification.vue?vue&type=template&id=2ea5545f&scoped=true&\"\nimport script from \"./Classification.vue?vue&type=script&lang=js&\"\nexport * from \"./Classification.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Classification.vue?vue&type=style&index=0&id=2ea5545f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../erpcode/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ea5545f\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Author: taotao\n * @Date: 2021-01-05 10:37:25\n * @LastEditTime: 2021-01-20 11:24:54\n * @FilePath: \\ERPweb\\src\\components\\element\\sales\\BidManagement\\BidManagement.vue\n-->\n<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" ref=\"addFormInline\" :model=\"params\" class=\"demo-form-inline\">\n        <el-form-item label=\"商品名称\" size=\"mini\">\n          <el-input v-model=\"params.search_condition\" placeholder=\"请输入商品名称/编码\"></el-input>\n        </el-form-item>\n        <el-form-item size=\"mini\" class=\"search-style search\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div>\n      <Classification :gcList=\"gcList\" @change=\"change\" @search=\"getList\" ref=\"Classification\"></Classification>\n    </div>\n    <div class=\"table_container\">\n      <xTable v-if='tableColumn.length > 0' @getData=\"dealData\" :ajax='{ url: \"getSalesOfferList\", params: params ,result:\"data.data.list.data\",total:\"data.data.list.total\"}' :isShowTool='true' ref='xTable' :tableColumn='tableColumn' />\n    </div>\n    <div class=\"bottom-area\">\n      <el-button type=\"primary\" @click=\"submit()\">转销售订单</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { TableHead } from \"./config/BidManagement\";\nimport { mapActions } from \"vuex\";\nimport Classification from \"common/components/plugin/Classification/Classification\";\nexport default {\n  mixins: [TableHead],\n  components: {\n    Classification,\n  },\n  data() {\n    return {\n      params: {},\n      gcList: {},\n      Tabledata: [],\n      oneData: [],\n    };\n  },\n  methods: {\n    ...mapActions([\"quoteManagementSalesOrdersACT\"]),\n    init(value = 0, index = 0) {\n      // if (value) {\n      this.$axMethod.getselectType({ p_id: value }).then(({ data }) => {\n        if (data.code == 200) {\n          if (index == 0) {\n            this.$set(this.gcList, \"p_id0\", data.data);\n          } else if (index == 1) {\n            //请求第二级\n            this.$set(this.gcList, \"p_id1\", data.data);\n          } else if (index == 2) {\n            this.$set(this.gcList, \"p_id2\", data.data);\n          }\n        }\n      });\n      // } else {\n      //   this.onSearch();\n      // }\n    },\n    getList() {\n      let tags = this.$refs.Classification.tags;\n      Object.assign(this.params, {\n        goods_type_id_1: tags[0] ? tags[0].val : \"\",\n        goods_type_id_2: tags[1] ? tags[1].val : \"\",\n        goods_type_id: tags[2] ? tags[2].val : \"\",\n      });\n      this.$refs.xTable._getData();\n    },\n    dealData(data) {\n      if (!this.oneData.length) {\n        this.oneData = data.data.data.type_list;\n      }\n    },\n    submit() {\n      var list = this.$refs.xTable._proxy(\"getSelectRecords\");\n      console.log(list);\n      if (list.length) {\n        this.$router.push({\n          path: \"/sales/salesorder/salesorderAdd\",\n        });\n        this.quoteManagementSalesOrdersACT(list);\n      } else {\n        this.$message.warning(\"请勾选\");\n      }\n\n      return false;\n    },\n    onSearch() {\n      this.$refs.Classification.clear();\n      this.getList();\n      // setTimeout(() => {\n      //   this.$set(this.gcList, \"p_id0\", this.oneData);\n      // }, 500);\n      // this.$nextTick(() => {\n      //   this.$set(this.gcList, \"p_id0\", this.oneData);\n      // });\n    },\n    change(val, index) {\n      this.init(val, index);\n      this.getList(val, index);\n    },\n  },\n  mounted() {\n    // setTimeout(() => {\n    //   this.onSearch();\n    // }, 500);\n    this.init();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.bottom-area {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BidManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BidManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BidManagement.vue?vue&type=template&id=6f8939da&scoped=true&\"\nimport script from \"./BidManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./BidManagement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BidManagement.vue?vue&type=style&index=0&id=6f8939da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f8939da\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}