(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-fe3a604a"],{"19aa":function(t,e,i){var n=i("da84"),a=i("3a9b"),r=n.TypeError;t.exports=function(t,e){if(a(e,t))return t;throw r("Incorrect invocation")}},2266:function(t,e,i){var n=i("da84"),a=i("0366"),r=i("c65b"),s=i("825a"),o=i("0d51"),l=i("e95a"),c=i("07fa"),d=i("3a9b"),u=i("9a1f"),f=i("35a1"),m=i("2a62"),p=n.TypeError,h=function(t,e){this.stopped=t,this.result=e},_=h.prototype;t.exports=function(t,e,i){var n,v,g,b,w,y,x,S=i&&i.that,k=!(!i||!i.AS_ENTRIES),T=!(!i||!i.IS_ITERATOR),j=!(!i||!i.INTERRUPTED),A=a(e,S),E=function(t){return n&&m(n,"normal",t),new h(!0,t)},C=function(t){return k?(s(t),j?A(t[0],t[1],E):A(t[0],t[1])):j?A(t,E):A(t)};if(T)n=t;else{if(v=f(t),!v)throw p(o(t)+" is not iterable");if(l(v)){for(g=0,b=c(t);b>g;g++)if(w=C(t[g]),w&&d(_,w))return w;return new h(!1)}n=u(t,v)}y=n.next;while(!(x=r(y,n)).done){try{w=C(x.value)}catch(O){m(n,"throw",O)}if("object"==typeof w&&w&&d(_,w))return w}return new h(!1)}},2626:function(t,e,i){"use strict";var n=i("d066"),a=i("9bf2"),r=i("b622"),s=i("83ab"),o=r("species");t.exports=function(t){var e=n(t),i=a.f;s&&e&&!e[o]&&i(e,o,{configurable:!0,get:function(){return this}})}},6062:function(t,e,i){"use strict";var n=i("6d61"),a=i("6566");n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(t,e,i){"use strict";var n=i("9bf2").f,a=i("7c73"),r=i("e2cc"),s=i("0366"),o=i("19aa"),l=i("2266"),c=i("7dd0"),d=i("2626"),u=i("83ab"),f=i("f183").fastKey,m=i("69f3"),p=m.set,h=m.getterFor;t.exports={getConstructor:function(t,e,i,c){var d=t((function(t,n){o(t,m),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=n&&l(n,t[c],{that:t,AS_ENTRIES:i})})),m=d.prototype,_=h(e),v=function(t,e,i){var n,a,r=_(t),s=g(t,e);return s?s.value=i:(r.last=s={index:a=f(e,!0),key:e,value:i,previous:n=r.last,next:void 0,removed:!1},r.first||(r.first=s),n&&(n.next=s),u?r.size++:t.size++,"F"!==a&&(r.index[a]=s)),t},g=function(t,e){var i,n=_(t),a=f(e);if("F"!==a)return n.index[a];for(i=n.first;i;i=i.next)if(i.key==e)return i};return r(m,{clear:function(){var t=this,e=_(t),i=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,i=_(e),n=g(e,t);if(n){var a=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=a),a&&(a.previous=r),i.first==n&&(i.first=a),i.last==n&&(i.last=r),u?i.size--:e.size--}return!!n},forEach:function(t){var e,i=_(this),n=s(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:i.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),r(m,i?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),u&&n(m,"size",{get:function(){return _(this).size}}),d},setStrong:function(t,e,i){var n=e+" Iterator",a=h(e),r=h(n);c(t,e,(function(t,e){p(this,{type:n,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),d(e)}}},"6d61":function(t,e,i){"use strict";var n=i("23e7"),a=i("da84"),r=i("e330"),s=i("94ca"),o=i("6eeb"),l=i("f183"),c=i("2266"),d=i("19aa"),u=i("1626"),f=i("861d"),m=i("d039"),p=i("1c7e"),h=i("d44e"),_=i("7156");t.exports=function(t,e,i){var v=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=v?"set":"add",w=a[t],y=w&&w.prototype,x=w,S={},k=function(t){var e=r(y[t]);o(y,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e(this,0===t?0:t)}:function(t,i){return e(this,0===t?0:t,i),this})},T=s(t,!u(w)||!(g||y.forEach&&!m((function(){(new w).entries().next()}))));if(T)x=i.getConstructor(e,t,v,b),l.enable();else if(s(t,!0)){var j=new x,A=j[b](g?{}:-0,1)!=j,E=m((function(){j.has(1)})),C=p((function(t){new w(t)})),O=!g&&m((function(){var t=new w,e=5;while(e--)t[b](e,e);return!t.has(-0)}));C||(x=e((function(t,e){d(t,y);var i=_(new w,t,x);return void 0!=e&&c(e,i[b],{that:i,AS_ENTRIES:v}),i})),x.prototype=y,y.constructor=x),(E||O)&&(k("delete"),k("has"),v&&k("get")),(O||A)&&k(b),g&&y.clear&&delete y.clear}return S[t]=x,n({global:!0,forced:x!=w},S),h(x,t),g||i.setStrong(x,t,v),x}},"6e39":function(t,e,i){"use strict";i("7b676")},"7b676":function(t,e,i){},bb2f:function(t,e,i){var n=i("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},df34:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[t._v("库存管理")]),i("el-breadcrumb-item",{staticClass:"attrbute"},[i("span",{on:{click:t.goBack}},[t._v("胎号管理")])]),i("el-breadcrumb-item",[t._v("添加胎号")])],1),i("div",{staticClass:"search_container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.params}},[i("el-form-item",{attrs:{label:"往来单位："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.btype_name))])]),i("el-form-item",{attrs:{label:"仓库名称："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.warehouse_name))])]),i("el-form-item",{attrs:{label:"货位："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.allocation_name))])]),i("el-form-item",{attrs:{label:"年周/批次："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.batch))])]),i("el-form-item",{attrs:{label:"出入库数量："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.goods_num))])]),i("el-form-item",{attrs:{label:"单价："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.unit_price))])]),i("el-form-item",{attrs:{label:"金额："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.total_price))])]),i("el-form-item",{attrs:{label:"品牌："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.brand_name))])]),i("el-form-item",{attrs:{label:"商品编号："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.goods_id))])]),i("el-form-item",{attrs:{label:"商品名称："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.goods_name))])]),i("el-form-item",{attrs:{label:"出入库单号："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.sn))])]),i("el-form-item",{attrs:{label:"关联单据号："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.reference_sn))])]),i("el-form-item",{attrs:{label:"出入库类型："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.type_name))])]),i("el-form-item",{attrs:{label:"单据状态："}},[i("p",{staticStyle:{width:"170px"}},[t._v(t._s(t.params.json_info.sn_auditor_status_name))])])],1)],1),i("div",{staticClass:"add_delet"},[i("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"mini"},on:{click:t.addF}},[t._v("增行")]),i("el-button",{attrs:{plain:"",icon:"el-icon-delete",size:"mini"},on:{click:t.deletes}},[t._v("删行")]),i("el-button",{attrs:{plain:"",icon:"el-icon-download",size:"mini"},on:{click:t.upload}},[t._v("下载模板")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"批量导入文件格式请按照文件模板格式，详情请点击【下载文件模板】，查看模板文件",placement:"top-start"}},[i("el-button",{attrs:{plain:"",icon:"el-icon-upload2",size:"mini"},on:{click:t.dialogEmployee}},[t._v("批量导入")])],1),i("el-button",{staticClass:"iconfont icon-saoma",attrs:{plain:"",size:"mini"},on:{click:t.scanCode}},[i("i"),t._v("扫码")])],1),i("div",{staticClass:"table_container"},[i("xTable",{ref:"xTable",attrs:{tableColumn:t.tableColumn,xData:t.TableData.list,isEdit:t.isEdit}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.goBack}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1),i("upload",{ref:"upload",attrs:{options:t.options},on:{receiveUploadMsg:t.receiveUploadMsg}})],1)},a=[],r=i("2909"),s=i("5530"),o=(i("d3b7"),i("159b"),i("6062"),i("3ca3"),i("ddb0"),i("4de4"),i("a630"),i("d81d"),i("e9c4"),i("2f62")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-autocomplete",{ref:"autocomplete",attrs:{"fetch-suggestions":function(e,i){t.querySearchAsync(e,i,t.scope.row)},placeholder:"请输入内容",disabled:t.scope.row.defaultTire},on:{blur:t.clear,select:t.select},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[i("ul",[i("li",[t._v(t._s(n.tire_un))])])]}}]),model:{value:t.scope.row.tire_un,callback:function(e){t.$set(t.scope.row,"tire_un",e)},expression:"scope.row.tire_un"}})},c=[],d={props:["scope","id"],methods:{focus:function(){this.$refs.autocomplete.focus()},querySearchAsync:function(t,e,i){this.$set(i,"is_select",0),this.$axMethod.getUnUseTireList({tire_goods_id:this.id,tire_un:t}).then((function(t){"200"==t.data.code&&e(t.data.data)}))},select:function(t){this.$emit("select",t)}}},u=d,f=i("2877"),m=Object(f["a"])(u,l,c,!1,null,null,null),p=m.exports,h=i("c9b7"),_={data:function(){var t=this,e=this.$createElement;return{tableColumn:[{type:"checkbox",width:44,align:"center"},{title:"序号",type:"seq",width:50},{field:"tire_un",title:"胎号",width:300,editRender:{autofocus:".el-input__inner",events:{keyup:function(){console.log(11)}}},slots:{edit:function(i){return[e(p,{attrs:{scope:i,id:t.tiremanagementAddGet.row.tire_goods_id},on:{select:function(e){t.handleSelect(e,i)}}})]},default:function(t,e){return[e("span",[t.row.tire_un])]}}},{title:"编号(条形码)",field:"tire_sn",width:300,editRender:{name:"Vinput",formatter:"String"}},{title:"商品备注",field:"remark",editRender:{name:"Vinput",formatter:"String"}}]}},methods:{isEdit:function(t){var e=t.row;return!e.defaultTire},goNextLine:Object(h["a"])((function(t,e){var i=this;this.addF(),setTimeout((function(){i.$refs.xTable._proxy("setActiveRow",i.TableData.list[e.args.rowIndex+1])}),50)}),200)}},v={name:"instorageTiremanagementTiremanagementAdd",mixins:[_],data:function(){return{aaa:11,options:{title:"胎号导入",url:"/v2/inventory/Tire/importTire"},authority:{},TableData:{list:[]},searchParams:{},infoParams:{},goPage:1,pageSize:30,loading:!0,per_page:[30,50,100,500],multipleSelection:[],defaultTableLen:0}},computed:Object(s["a"])({},Object(o["c"])(["tiremanagementIndexGet","tiremanagementAddGet"])),methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["tiremanagementIndexACT","tiremanagementSeeACT"])),{},{dialogEmployee:function(){this.$refs.upload.stateOpen()},receiveUploadMsg:function(t){this.initData(),this.goBack()},scanCode:function(){this.$message({message:"请使用扫码枪进行信息录入",type:"success"})},goBack:function(){this.$router.push({path:"/inventory/tiremanagement"}),this.tiremanagementIndexACT({params:this.tiremanagementAddGet.params,type:this.tiremanagementAddGet.row.type})},handleSelect:function(t,e){Object.assign(e,t,{is_select:t.tire_id})},goSee:function(){this.$router.push({path:"/inventory/tiremanagement/tiremanagementSee"}),this.tiremanagementSeeACT({row:this.tiremanagementAddGet.row,params:this.tiremanagementAddGet.params,type:this.tiremanagementAddGet.row.type})},upload:function(){this.$axMethod.tireDdownloadFileUrl({}).then((function(t){200==t.data.code&&(window.location.href=t.data.data.url)}))},handleCurrentChange:function(t){this.params.page=t,this.initData()},handleSelectionChange:function(t){this.multipleSelection=t},addF:function(){this.TableData.list.push({tire_un:"",tire_sn:"",remark:""})},deletes:function(){var t=!0;if(this.multipleSelection.length){if(this.multipleSelection.forEach((function(e){e.tire_id&&(t=!1)})),!t)return this.$message({message:"非新增胎号，请到查看界面删行！",type:"warning"}),!1;var e=new Set(this.TableData.list),i=new Set(this.multipleSelection),n=new Set(Object(r["a"])(e).filter((function(t){return!i.has(t)})));this.$set(this.TableData,"list",Array.from(n))}else this.$message({message:"请先选择要删除的商品！",type:"warning"})},initData:function(){var t=this;this.$axMethod.tireGetTireList(this.infoParams).then((function(e){var i=e.data;200==i.code&&(i.data.data.forEach((function(t){t.defaultTire=!0})),t.defaultTableLen=i.data.data.length,t.TableData.list=i.data.data,t.addF())}))},submit:function(){var t=this,e={},i=!0,n=this.TableData.list.filter((function(t){return 1!=t.defaultTire}));if(!n.length)return this.$message.warning("请完善胎号信息"),!1;var a=n.map((function(e){return e.tire_un?{tire_un:e.tire_un,tire_sn:e.tire_sn?e.tire_sn:"",is_select:e.is_select,remark:e.remark?e.remark:""}:(t.$message.warning("请完善胎号信息"),i=!1,!1)}));if(!i)return!1;Object.assign(e,{tire_goods_id:this.tiremanagementAddGet.row.tire_goods_id,type:this.tiremanagementAddGet.row.type},{tire_json:JSON.stringify(a)}),this.$axMethod.addTire(e).then((function(e){200==e.data.code&&(t.$message({message:e.data.msg,type:"success"}),t.goSee())}))},createdActive:function(){this.params={type:this.tiremanagementAddGet.row.type,json_info:this.tiremanagementAddGet.row,goods_id:this.tiremanagementAddGet.row.goods_id,real_num:this.tiremanagementAddGet.row.real_num},this.options.params={type:this.tiremanagementAddGet.row.type,tire_goods_id:this.tiremanagementAddGet.row.tire_goods_id,goods_id:this.tiremanagementAddGet.row.goods_id},this.infoParams={tire_goods_id:this.tiremanagementAddGet.row.tire_goods_id},this.initData()}}),activated:function(){window.vxeKeyupCallBack=this.goNextLine},created:function(){this.createdActive(),window.vxeKeyupCallBack=this.goNextLine}},g=v,b=(i("6e39"),Object(f["a"])(g,n,a,!1,null,"612512ee",null));e["default"]=b.exports},e2cc:function(t,e,i){var n=i("6eeb");t.exports=function(t,e,i){for(var a in e)n(t,a,e[a],i);return t}},f183:function(t,e,i){var n=i("23e7"),a=i("e330"),r=i("d012"),s=i("861d"),o=i("1a2d"),l=i("9bf2").f,c=i("241c"),d=i("057f"),u=i("90e3"),f=i("bb2f"),m=!1,p=u("meta"),h=0,_=Object.isExtensible||function(){return!0},v=function(t){l(t,p,{value:{objectID:"O"+h++,weakData:{}}})},g=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,p)){if(!_(t))return"F";if(!e)return"E";v(t)}return t[p].objectID},b=function(t,e){if(!o(t,p)){if(!_(t))return!0;if(!e)return!1;v(t)}return t[p].weakData},w=function(t){return f&&m&&_(t)&&!o(t,p)&&v(t),t},y=function(){x.enable=function(){},m=!0;var t=c.f,e=a([].splice),i={};i[p]=1,t(i).length&&(c.f=function(i){for(var n=t(i),a=0,r=n.length;a<r;a++)if(n[a]===p){e(n,a,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},x=t.exports={enable:y,fastKey:g,getWeakData:b,onFreeze:w};r[p]=!0}}]);
//# sourceMappingURL=chunk-fe3a604a.b5eb87ef.js.map