(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-50f71299"],{"0cb2":function(t,e,r){var a=r("e330"),o=r("7b0b"),i=Math.floor,s=a("".charAt),n=a("".replace),l=a("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,a,p,m){var d=r+t.length,_=a.length,f=u;return void 0!==p&&(p=o(p),f=c),n(m,f,(function(o,n){var c;switch(s(n,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,r);case"'":return l(e,d);case"<":c=p[l(n,1,-1)];break;default:var u=+n;if(0===u)return o;if(u>_){var m=i(u/10);return 0===m?o:m<=_?void 0===a[m-1]?s(n,1):a[m-1]+s(n,1):o}c=a[u-1]}return void 0===c?"":c}))}},5319:function(t,e,r){"use strict";var a=r("2ba4"),o=r("c65b"),i=r("e330"),s=r("d784"),n=r("d039"),l=r("825a"),c=r("1626"),u=r("5926"),p=r("50c4"),m=r("577e"),d=r("1d80"),_=r("8aa5"),f=r("dc4a"),h=r("0cb2"),b=r("14c3"),v=r("b622"),g=v("replace"),w=Math.max,y=Math.min,k=i([].concat),$=i([].push),S=i("".indexOf),x=i("".slice),N=function(t){return void 0===t?t:String(t)},z=function(){return"$0"==="a".replace(/./,"$0")}(),O=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),F=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));s("replace",(function(t,e,r){var i=O?"$":"$0";return[function(t,r){var a=d(this),i=void 0==t?void 0:f(t,g);return i?o(i,t,a,r):o(e,m(a),t,r)},function(t,o){var s=l(this),n=m(t);if("string"==typeof o&&-1===S(o,i)&&-1===S(o,"$<")){var d=r(e,s,n,o);if(d.done)return d.value}var f=c(o);f||(o=m(o));var v=s.global;if(v){var g=s.unicode;s.lastIndex=0}var z=[];while(1){var O=b(s,n);if(null===O)break;if($(z,O),!v)break;var F=m(O[0]);""===F&&(s.lastIndex=_(n,p(s.lastIndex),g))}for(var C="",P=0,I=0;I<z.length;I++){O=z[I];for(var T=m(O[0]),j=w(y(u(O.index),n.length),0),D=[],M=1;M<O.length;M++)$(D,N(O[M]));var B=O.groups;if(f){var q=k([T],D,j,n);void 0!==B&&$(q,B);var E=m(a(o,void 0,q))}else E=h(T,n,j,D,B,o);j>=P&&(C+=x(n,P,j)+E,P=j+T.length)}return C+x(n,P)}]}),!F||!z||O)},b680:function(t,e,r){"use strict";var a=r("23e7"),o=r("da84"),i=r("e330"),s=r("5926"),n=r("408a"),l=r("1148"),c=r("d039"),u=o.RangeError,p=o.String,m=Math.floor,d=i(l),_=i("".slice),f=i(1..toFixed),h=function(t,e,r){return 0===e?r:e%2===1?h(t,e-1,r*t):h(t*t,e/2,r)},b=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},v=function(t,e,r){var a=-1,o=r;while(++a<6)o+=e*t[a],t[a]=o%1e7,o=m(o/1e7)},g=function(t,e){var r=6,a=0;while(--r>=0)a+=t[r],t[r]=m(a/e),a=a%e*1e7},w=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var a=p(t[e]);r=""===r?a:r+d("0",7-a.length)+a}return r},y=c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}));a({target:"Number",proto:!0,forced:y},{toFixed:function(t){var e,r,a,o,i=n(this),l=s(t),c=[0,0,0,0,0,0],m="",f="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return p(i);if(i<0&&(m="-",i=-i),i>1e-21)if(e=b(i*h(2,69,1))-69,r=e<0?i*h(2,-e,1):i/h(2,e,1),r*=4503599627370496,e=52-e,e>0){v(c,0,r),a=l;while(a>=7)v(c,1e7,0),a-=7;v(c,h(10,a,1),0),a=e-1;while(a>=23)g(c,1<<23),a-=23;g(c,1<<a),v(c,1,1),g(c,2),f=w(c)}else v(c,0,r),v(c,1<<-e,0),f=w(c)+d("0",l);return l>0?(o=f.length,f=m+(o<=l?"0."+d("0",l-o)+f:_(f,0,o-l)+"."+_(f,o-l))):f=m+f,f}})},fc3c:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"seePage"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[t._v("库存管理")]),r("el-breadcrumb-item",{staticClass:"attrbute"},[r("span",{on:{click:t.goBack}},[t._v("商品出库")])]),r("el-breadcrumb-item",[t._v("商品出库单详情")])],1),r("div",{attrs:{id:"leixin"}},[r("div",{staticClass:"search_container"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.params}},[r("el-form-item",{attrs:{label:"库存组织：",size:"mini"}},[r("span",[t._v(t._s(t.params.company_name))])]),r("el-form-item",{attrs:{label:"三包出库单据号：",size:"mini"}},[r("span",[t._v(t._s(t.params.outstock_sn))])]),r("el-form-item",{attrs:{label:"部门：",size:"mini"}},[r("span",[t._v(t._s(t.params.department_name))])]),r("el-form-item",{attrs:{label:"业务员：",size:"mini"}},[r("span",[t._v(t._s(t.params.business_name))])]),r("el-form-item",{attrs:{label:"选择客户：",size:"mini"}},[r("span",[t._v(t._s(t.params.customer_name))])]),r("el-form-item",{attrs:{label:"业务日期：",size:"mini"}},[r("span",[t._v(t._s(t.params.business_time))])]),r("el-form-item",{attrs:{label:"出库类型：",size:"mini"}},[r("span",[t._v(t._s(t.params.outstock_type_name))])]),r("el-form-item",{attrs:{label:"送货需求：",size:"mini"}},[r("span",[t._v(t._s(t.params.delivery_demand_name))])]),r("el-form-item",{attrs:{label:"所属区域：",size:"mini"}},[r("span",[t._v(t._s(t.params.province_name)+"  "+t._s(t.params.city_name)+"  "+t._s(t.params.area_name))])]),r("el-form-item",{attrs:{label:"收货人：",size:"mini"}},[r("span",[t._v(t._s(t.params.consignee_name))])]),r("el-form-item",{attrs:{label:"手机号码：",size:"mini"}},[r("span",[t._v(t._s(t.params.consignee_mobile))])]),r("el-form-item",{attrs:{size:"mini",label:"详细地址："}},[r("span",[t._v(t._s(t.params.address))])]),r("el-form-item",{attrs:{label:"审核状态：",size:"mini"}},[t._v(" "+t._s(t.params.auditor_status_name)+" ")]),r("el-form-item",{attrs:{label:"回款方式：",size:"mini"}},[1==t.params.payment_method?r("span",[t._v("客户自结")]):r("span",[t._v("物流代收")])]),r("el-form-item",{attrs:{label:"物流公司：",size:"mini"}},[t._v(" "+t._s(t.params.settlement_customer_name)+" ")]),r("el-form-item",{attrs:{label:"摘要："}},[r("span",[t._v(t._s(t.params.abstract))])])],1)],1),r("div",{staticClass:"table_container"},[r("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:t.tableData,"summary-method":t.getSummaries,"show-summary":"","max-height":"600"}},[r("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",fixed:"left",align:"center",width:"44"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_type_name",label:"业务类型","min-width":"150"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"brand_name",label:"品牌","min-width":"150"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_id",label:"商品编号","min-width":"150"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_name",label:"商品名称","min-width":"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(e.row.goods_name))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"batch",label:"年周/批次",width:"100"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"unit_name",label:"单位",width:"80"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"warehouse_name",label:"仓库",width:"132"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"allocation_name",label:"货位",width:"180"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"real_num",label:"数量",width:"130",align:"right"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_price",label:"原销售价",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.goods_price)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"discount_unit_price",label:"原折后价",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.discount_unit_price)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"new_goods_price",label:"最新销售价",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.new_goods_price)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"abrasion_price",label:"磨损费",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.abrasion_price)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"intube_price",label:"内垫费",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.intube_price)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"claim_price",label:"理赔单价",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.claim_price)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"total_price",label:"小计金额",width:"130",align:"right"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"remark",label:"备注","min-width":"130"}})],1)],1)]),r("br"),r("div",{staticClass:"refundauditFoot"},[r("span",[t._v("本单使用返利："+t._s(t._f("priceFormatNone")(t.params.rebate_price))+"元")]),r("span",[t._v("本单使用授信："+t._s(t._f("priceFormatNone")(t.params.credit_price))+"元")]),r("span",[t._v("本单使用预收："+t._s(t.params.deposits_price)+"元")]),r("span",[t._v("本单结算金额："+t._s(t._f("priceFormatNone")(t.params.settlement_price))+"元")])]),r("br"),r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-top":"20px"}},[2==t.params.auditor_status?void 0:t._e(),1==t.params.auditor_status?[1==t.authority.b_pass?r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.auditOrUnaudit("auidtorPassThreeOutStorage")}}},[t._v("审核")]):t._e(),1==t.authority.b_invalid?r("el-button",{on:{click:function(e){return t.auditOrUnaudit("ThreeauditorInvalid")}}},[t._v("作废")]):t._e()]:t._e(),-1!=[2,3,4].indexOf(t.params.auditor_status)||1!=t.authority.b_invalid&&1!=t.authority.b_pass&&1!=t.authority.b_nopass?[r("el-button",{on:{click:t.goBack}},[t._v("返回")])]:r("el-button",{on:{click:t.goBack}},[t._v("取消")])],2)],1)},o=[],i=r("5530"),s=(r("d3b7"),r("159b"),r("d81d"),r("a9e3"),r("ac1f"),r("5319"),r("25f0"),r("b680"),r("2f62")),n=r("65b0"),l={name:"instorageThreeoutstorageThreeoutstorageSee",data:function(){return{authority:{},sum:null,tableData:[],totalPrice:0,params:{},fromSee:!0}},methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])(["threeoutstorageIndexACT"])),{},{goBack:function(){this.fromSee?(this.threeoutstorageIndexACT({goPage:this.threeoutstorageSeeGet.goPage,params:this.threeoutstorageSeeGet.params,pageSize:this.threeoutstorageSeeGet.pageSize}),this.$router.push({path:"/inventory/threeoutstorage"})):this.$router.push({path:"/sales/customrebatedetail"})},getSummaries:function(t){var e=this,r=t.columns,a=t.data,o=[];return r.forEach((function(t,r){if(1!==r){if("settlement_price"===t.property){var i=a.map((function(e){return Number(e[t.property]||0)}));o[r]=i.reduce((function(t,e){Number(e);return Number(t+e)}),0),e.totalPrice=o[r],o[r]=Number(o[r]).toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),e.countSettlementPrice()}if("total_price"===t.property){var s=a.map((function(e){return Number(e[t.property]||0)}));o[r]=s.reduce((function(t,e){Number(e);return Number(t+e)}),0),o[r]=Number(o[r]).toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}}else o[r]="合计"})),o},countSettlementPrice:function(){var t=this,e=["rebate_price","credit_price","deposits_price"];e.forEach((function(e){t.$set(t.params,e,!t.params[e]||t.params[e]<0?0:t.params[e])}));var r=Number(this.totalPrice)-Number(this.params.rebate_price)-Number(this.params.credit_price)-Number(this.params.deposits_price);this.$set(this.params,"settlement_price",r.toFixed(2))},auditOrUnaudit:function(t){var e=this,r=this;"auidtorPassThreeOutStorage"==t?this.$baseData.checkCarDoctor({bill_type:13,bill_id:r.params.outstock_id,operation_type:4}).then((function(){e.$axMethod.safetyStockCheck({bill_logogram:"tbck",order_type:2,bill_id:r.params.outstock_id}).then((function(){Object(n["m"])(e,{goods_info:r.params.outstock_id,status:2,type:1},(function(){r.$axMethod[t]({outstock_id:r.params.outstock_id}).then((function(t){var e=t.data;200==e.code&&(r.$message({message:e.msg||e.data,type:"success"}),r.goBack())}))}))}))})):this.$baseData.checkCarDoctor({bill_type:13,bill_id:this.params.outstock_id,operation_type:6}).then((function(){e.$axMethod[t]({outstock_id:e.params.outstock_id}).then((function(t){var r=t.data;200==r.code&&(e.$message({message:r.msg||r.data,type:"success"}),e.goBack())}))}))}}),computed:Object(i["a"])({},Object(s["c"])(["threeoutstorageSeeGet"])),mounted:function(){var t=this;this.authority=JSON.parse(localStorage.getItem("authority")),(this.$route.query.id||this.$route.query.outstock_sn)&&this.$axios({method:"get",url:this.$api.infoThreeOutStorage,params:{outstock_id:this.$route.query.id,outstock_sn:this.$route.query.outstock_sn}}).then((function(e){200==e.data.code&&(t.params=e.data.data,t.tableData=e.data.data.goods_info)}))}},c=l,u=r("2877"),p=Object(u["a"])(c,a,o,!1,null,"f9142112",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-50f71299.0ca0ecb9.js.map