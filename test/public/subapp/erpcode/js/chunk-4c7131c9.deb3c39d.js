(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-4c7131c9"],{"564b":function(e,s,t){"use strict";t("e223")},ddcb:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"returnRequest"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("采购管理")]),t("el-breadcrumb-item",{staticClass:"attrbute"},[t("span",{on:{click:e.goList}},[e._v("采购退货申请")])]),t("el-breadcrumb-item",[e._v(e._s(e.$route.query.id?"修改":"添加")+"采购退货申请")])],1),t("div",{staticClass:"returnRequestBox"},[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"returnRequest_left"},[t("h3",{staticClass:"rtitle"},[e._v(" 服务类型： 退货 ")]),t("div",{staticClass:"instructions"},[t("p",[e._v("操作提示")]),t("p",[e._v("1.若您对订单进行支付后想取消购买且与商家达成一致退款，请填写“订单退款”内容并提交")])]),t("div",{staticClass:"stepBar"},[t("el-steps",{attrs:{active:0,"align-center":"","finish-status":"success"}},[t("el-step",{attrs:{title:"买家申请退款",description:""}}),t("el-step",{attrs:{title:"商家处理退款申请",description:""}}),t("el-step",{attrs:{title:"买家退货给商家",description:""}}),t("el-step",{attrs:{title:"商家确认收货",description:""}}),t("el-step",{attrs:{title:"平台审核",description:""}})],1)],1),t("h3",{staticClass:"rtitle"},[e._v(" 请填写退货退款申请 ")]),t("el-form",{ref:"orderForm",staticClass:"orderForm",attrs:{model:e.params,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"退货退款原因：",size:"mini",prop:"reason_id",rules:{required:!0,message:"请选择退货退款原因",tiggle:"blur"}}},[t("el-select",{model:{value:e.params.reason_id,callback:function(s){e.$set(e.params,"reason_id",s)},expression:"params.reason_id"}},e._l(e.reason_list,(function(e,s){return t("el-option",{key:s,attrs:{label:e.reason_info,value:e.reason_id}})})),1)],1),t("el-form-item",{attrs:{label:"退款说明：",size:"mini",prop:"buyer_message",rules:{required:!0,message:"请输入退款说明",tiggle:"blur"}}},[t("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.params.buyer_message,callback:function(s){e.$set(e.params,"buyer_message",s)},expression:"params.buyer_message"}})],1),t("el-form-item",{attrs:{label:"退款金额：",size:"mini",prop:"refund_amount",rules:{required:!0,message:"请输入退款金额",tiggle:"blur"}}},[t("el-input",{on:{blur:function(s){return e.$publicFution.toFixedTwo(e.params,"refund_amount",{type:"Positive",max:e.params.goods_pay_price,message:"退款金额不能超过可退"})}},model:{value:e.params.refund_amount,callback:function(s){e.$set(e.params,"refund_amount",s)},expression:"params.refund_amount"}}),e._v(" (最多 "),t("span",{staticClass:"mainGreen"},[e._v(e._s(e.params.goods_pay_price))]),e._v("元) "),t("p",[e._v("退款金额不能超过可退")])],1),t("el-form-item",{attrs:{label:"退货数量：",size:"mini",prop:"goods_num",rules:{required:!0,message:"请输入退货数量",tiggle:"blur"}}},[t("el-input",{on:{blur:function(s){return e.$publicFution.toFixedTwo(e.params,"goods_num",{type:"PositiveInteger",max:e.params.maxGoodsNum,message:"退货数量不能超过可退"})}},model:{value:e.params.goods_num,callback:function(s){e.$set(e.params,"goods_num",s)},expression:"params.goods_num"}}),e._v(" (最多可退 "),t("span",{staticClass:"mainGreen"},[e._v(e._s(e.params.maxGoodsNum))]),e._v("个) ")],1),t("el-form-item",{attrs:{label:"上传凭证：",size:"mini",prop:"name"}},[t("cupload",{attrs:{limit:3,extendParams:e.extendParams,returnStr:"response.data.oss_file_path",url:"/service_station/open/Upload/uploadImage"},on:{success:e.success},model:{value:e.params.upload_pic,callback:function(s){e.$set(e.params,"upload_pic",s)},expression:"params.upload_pic"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[e._v("选择文件")])],1)],1)],1)],1)])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.goBack}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)},r=[],o={name:"purchasePurchaserefundReturnRequestAdd",data:function(){return{extendParams:{directory:"return_voucher"},params:{goods_num:""}}},methods:{goList:function(){this.$router.push({path:"/purchase/returnRequest"})},goBack:function(){this.$EventBus.$emit("closeTab",this.$router)},getData:function(){var e=this;this.$route.query.id&&this.$axMethod.serviceApplyReturn({ec_order_sn:this.$route.query.id,goods_id:this.$route.query.goods_id}).then((function(s){var t=s.data;200==t.code?(e.params=t.data.order,e.params.maxGoodsNum=e.params.goods_num,e.params.ec_order_sn=e.$route.query.id,e.reason_list=t.data.reason_list):e.goBack()}))},submitForm:function(){var e=this;this.$refs.orderForm.validate((function(s){if(s){var t={ec_order_sn:e.params.ec_order_sn,reason_id:e.params.reason_id,buyer_message:e.params.buyer_message?e.params.buyer_message:"   ",upload_pic:e.params.upload_pic,goods_id:e.$route.query.goods_id,refund_amount:e.params.refund_amount,goods_num:e.params.goods_num};e.$axMethod.serviceSubmitReturn(t).then((function(s){var t=s.data;200==t.code&&(e.$message.success(t.msg),e.goBack())}))}}))}},created:function(){this.getData()}},i=o,n=(t("564b"),t("2877")),u=Object(n["a"])(i,a,r,!1,null,"b6eaadd2",null);s["default"]=u.exports},e223:function(e,s,t){}}]);
//# sourceMappingURL=chunk-4c7131c9.deb3c39d.js.map