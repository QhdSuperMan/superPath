{"version":3,"sources":["webpack://erpcode-[name]/src/components/element/purchase/purchaseorder/order/orderAdd.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/js/orderAdd.js","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/sourceBill.vue?987a","webpack://erpcode-[name]/src/components/element/purchase/purchaseorder/order/sourceBill.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/sourceBill.vue?3b4b","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/sourceBill.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderAdd.vue?008e","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/js/tableHead.js","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderAdd.vue?4b74","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderAdd.vue?0164","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderAdd.vue"],"names":["name","mixins","data","title","warehouseRequired","onlyQuote","loading","order_sn_disabled","params","order_type","pay_method","rebate_balance","dialogBillVisible","supplierList","orderNum","orderAlreadyNum","disabled","username","localStorage","getItem","components","sourceBill","computed","goodsopthion","Object","assign","this","Method","methods","getCompanyList","obj","relation_company_id","$refs","ruleForm","clearValidate","goBack","$publicFution","goPage","orderAddGet","order_id","$router","push","quoteOrder","undefined","company_id","$message","error","handleEdit","num","price","goodsPrice","computeTotal","row","column","property","xTable","_proxy","addF","step","warning","dialogformInline","val","goodsList","length","map","item","goods_num","remaining_goods_num","info","$set","a","datataple","employee_id","buyer_id","employee_name","buyer_name","companyChange","$baseData","settingInfo","FDBName_business","getRebatePrice","deleteF","submit","formName","validate","valid","tableBox","goods_id","pop","mounted","eval","state","status","$axios","method","url","$api","getOrderInfoPurchase","res","plan_sn","plan_id","code","includes","Number","company_admin_id","company_name","business_time","formatData","Date","department_id","erpCompanyList","getList","sumbitRowModule","formatter","default","rowModule","tableHead","editRules","required","message","type","min","max","goods_name","tableColumn","width","align","field","editRender","getParams","showObj","unit_name","brand_name","specification_type","factory_code","getIcon","icon","iconMethod","i","events","change","value","purchase_price","result","fullData","headerAlign","autoselect","input","isEdit","supplier_id","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","callback","$$v","expression","_l","key","class","_v","_s","timeValue","supplier","supplier_name","on","employeeFocus","employeeList","staticStyle","onSearch","onReset","_m","TableData","handleCurrentChanges","TableDatas","handleSelectionChange","slot","$event","dialogCancelForm","dialogSubmitForm","staticRenderFns","AccordingParams","companyList","multipleSelection","options","tabledatas","radio","pageSize","per_page","start_time","end_time","par","$axMethod","$emit","props","$common","component","common","activated","_routeParams","$route","transferType","portStockEarlyWarningChangeOrderInfo","mapActions","brand_id","then","turnSaleOrder","salesorderAdd","Buy_order","random","Math","floor","path","stockEarlyWarningChangeOrderInfo","portParams","_info","goods_list","keys","forEach","remark","abstract","warehouse_id","opthionList","orderIndexACT","unit_id","batch","getWeek","param","totalPrice","tableData","catch","console","log","directives","rawName","ref","rules","nativeOn","apply","arguments","supplierListInvok","DepartmentListInvok","department_name","receivables_mode_id","receivablesInvok","receivables_mode_name","_e","add_user_name","add_time","auditor_name","auditor_time","update_user_name","update_time","closeDialog"],"mappings":"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","file":"js/chunk-77c04c94.68a57a94.js","sourcesContent":["<template>\n  <div v-loading=\"loading\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>采购管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">采购订单</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>{{title}}采购订单</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" :rules=\"rules\" ref=\"ruleForm\" class=\"demo-form-inline\">\n        <el-form-item label=\"采购组织\" size=\"mini\" :rules='{ required: true, message: \"请选择采购组织\" }' prop=\"company_id\">\n          <erpCompanyList v-model=\"params.company_id\" ref='erpCompanyList' @getList='getCompanyList' :fatherParams='params' @change=\"companyChange\" :disabled=\"disabled\" />\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\">\n          <el-input v-model=\"params.order_sn\" :disabled=\"order_sn_disabled\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"来源单号\" size=\"mini\">\n          <el-input v-model=\"params.plan_sn\" style=\"cursor:pointer\" readonly=\"readonly\" suffix-icon=\"el-icon-more\" @click.native=\"quoteOrder\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\">\n          <el-date-picker v-model=\"params.business_time\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\" prop=\"supplier_id\">\n          <el-select clearable v-model=\"params.supplier_id\" maxlength=\"100\" @change=\"getRebatePrice\" :filter-method=\"supplierListInvok\" @focus=\"supplierListInvok\" filterable placeholder=\"请选择\">\n            <el-option v-for=\"item in supplierList\" :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"采购仓库\" size=\"mini\" v-if='warehouseRequired' prop=\"warehouse_id\" :rules='rules.warehouse_id'>\n          <erpWarehouse v-model=\"params.warehouse_id\" :searchParams=\"{ company_id: params.company_id }\" :fatherParams='params' />\n        </el-form-item>\n\n        <el-form-item label=\"采购仓库\" size=\"mini\" v-else>\n          <erpWarehouse v-model=\"params.warehouse_id\" :searchParams=\"{ company_id: params.company_id }\" :fatherParams='params' />\n        </el-form-item>\n\n        <el-form-item label=\"订单类型\" size=\"mini\" prop=\"order_type\" :rules='{ required: true, message: \"请选择订单类型\" }'>\n          <el-select clearable v-model=\"params.order_type\">\n            <el-option label=\"普通订单\" :value=\"1\">普通订单</el-option>\n            <el-option label=\"首配订单\" :value=\"2\">首配订单</el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"支付方式\" size=\"mini\" prop=\"pay_method\" :rules='{ required: true, message: \"请选择支付方式\" }'>\n          <el-select clearable v-model=\"params.pay_method\">\n            <el-option label=\"在线支付\" :value=\"1\">在线支付</el-option>\n            <el-option label=\"线下支付\" :value=\"2\">线下支付</el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"部门\" size=\"mini\">\n          {{(function(){if(params.department_id == 0)params.department_id = null})()}}\n          <el-select clearable v-model=\"params.department_id\" placeholder=\"请选择\" @focus=\"DepartmentListInvok\" filterable :disabled=\"disabled\">\n            <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"采购员\" size=\"mini\" :rules=\"rules.buyer_id\" prop=\"buyer_id\">\n          <erpEmployee v-model=\"params.buyer_id\" :fatherParams='params' modelLabel=\"buyer_name\" title='请选择采购员' :disabled=\"disabled\" :searchParams=\"{ company_id: params.company_id }\" />\n        </el-form-item>\n        <el-form-item label=\"付款方式\" size=\"mini\">\n          {{(function(){if(params.receivables_mode_id == 0)params.receivables_mode_id = null})()}}\n          <el-select clearable v-model=\"params.receivables_mode_id\" @focus=\"receivablesInvok\" placeholder=\"请选择\">\n            <el-option :label=\"item.receivables_mode_name\" :value=\"item.receivables_mode_id\" :key=\"item.receivables_mode_id\" v-for=\"item in receivablesList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"备注\" size=\"mini\">\n          <el-input type=\"text\" v-model=\"params.remark\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n\n      </el-form>\n    </div>\n    <div class=\"add_delet\">\n      <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"addF\" class=\"addBtn\" v-if=\"!onlyQuote\" :disabled=\"disabled\" size=\"mini\">增行</el-button>\n      <el-button plain icon=\"el-icon-delete\" @click=\"deleteF\" size=\"mini\">删行</el-button>\n    </div>\n    <div class=\"table_container\">\n      <xTable ref='xTable' :edit-rules='editRules' :isEdit='isEdit' :tableColumn='tableColumn' :totalArray=\"['goods_num','subtotal_price']\" />\n    </div>\n\n    <div class=\"refundauditFoot\">\n      <!-- <div style=\"text-align: left;\">\n        使用返利: <el-input style='width:200px;' @blur=\"$publicFution.toFixedTwo(params, 'rebate_price', { min: 0,max: params.rebate_balance })\" v-model=\"params.rebate_price\"></el-input> 余额：{{ params.rebate_balance }}\n      </div> -->\n      <span v-if=\"params.add_user_name\">创建人：{{params.add_user_name}}</span>\n      <span v-else>创建人：{{username}}</span>\n      <span>创建时间：{{params.add_time}}</span>\n      <span>审核人：{{params.auditor_name}}</span>\n      <span>审核时间：{{params.auditor_time}}</span>\n      <span>修改人：{{params.update_user_name}}</span>\n      <span>修改时间：{{params.update_time}}</span>\n    </div>\n    <div class=\"dialog-footer\" style=\"text-align:center;margin-top:20px;\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit('ruleForm')\">确 定</el-button>\n      <!-- <el-button type=\"primary\" v-if='order_id' @click=\"turnSaleOrder(params)\">转 单</el-button> -->\n    </div>\n    <div v-if=\"dialogBillVisible\">\n      <el-dialog :close-on-click-modal=\"false\" title=\"引用采购计划单据\" :visible.sync=\"dialogBillVisible\" class=\"dialogForm\" width=\"70%\" @close=\"closeDialog\">\n        <source-bill @closedialog=\"dialogBillVisible = false\" @dialogformInline=\"dialogformInline\" :par=\"params\"></source-bill>\n      </el-dialog>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { opthionList } from \"common/utils/public_function/commonUtils\";\nimport sourceBill from \"./sourceBill\";\nimport { mapGetters } from \"vuex\";\nimport { common } from \"./js/tableHead\";\nimport { tableHead, rowModule, sumbitRowModule } from \"./js/orderAdd.js\";\nexport default {\n  name: \"purchaseOrderAdd\",\n  mixins: [common, tableHead],\n  data() {\n    return {\n      title: \"添加\",\n      warehouseRequired: true,\n      onlyQuote: false,\n      loading: false,\n      order_sn_disabled: false, // 单据号禁用状态\n      params: {\n        order_type: 1,\n        pay_method: 2,\n        rebate_balance: 0,\n      },\n      dialogBillVisible: false,\n      supplierList: [],\n      orderNum: \"\", //引用单据 采购数量\n      orderAlreadyNum: \"\", //引用单据 已引用的数量\n      disabled: false,\n      username: localStorage.getItem(\"realname\"),\n    };\n  },\n  components: {\n    sourceBill,\n  },\n  computed: {\n    ...mapGetters([\"orderAddGet\"]),\n    goodsopthion: function () {\n      return Object.assign(this.params, {\n        Method: \"getPurchaseInventoryGoodsListV2\",\n      });\n    },\n  },\n  methods: {\n    getCompanyList(list, obj) {\n      this.warehouseRequired = obj.relation_company_id;\n      this.$refs.ruleForm.clearValidate(\"warehouse_id\");\n    },\n    goBack() {\n      this.$publicFution.goPage(this.orderAddGet.order_id);\n      this.$router.push({ path: \"/purchase/order\" });\n    },\n    quoteOrder() {\n      //来源单号\n      if (this.params.company_id == undefined || this.params.company_id == \"\") {\n        this.$message.error(\"请选择采购组织\");\n        return false;\n      }\n      this.dialogBillVisible = true;\n    },\n    // 计算\n    handleEdit({ row, column, rowIndex }) {\n      var obj = {\n        num: \"goods_num\", // 商品数量的key\n        price: \"purchase_price\", // 商品价格的key\n        goodsPrice: \"subtotal_price\", // 商品总金额的key  数量 * 单价\n      };\n      this.$publicFution.computeTotal(row, obj, column.property, this);\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    addF(step) {\n      if (!this.params.company_id && step !== true) {\n        this.$message.warning(\"请选择采购组织\");\n        return false;\n      } else if (!this.params.supplier_id && step !== true) {\n        this.$message.warning(\"请选择供应商(厂家)\");\n        return false;\n      } else {\n        this.$refs.xTable._proxy(\n          \"insertAt\",\n          this.$publicFution.deepCopy(rowModule),\n          -1\n        );\n      }\n    },\n    dialogformInline(val) {\n      if (val.goodsList.length > 0) {\n        this.disabled = true;\n      } else {\n        return;\n      }\n      let a = this.params.business_time;\n      val.goodsList.map((item) => {\n        item.goods_num = item.remaining_goods_num;\n        return item;\n      });\n      this.$refs.xTable._proxy(\"loadData\", val.goodsList);\n      this.params = val.info;\n      this.$set(this.params, \"business_time\", a);\n      let datataple = val.info;\n      Object.assign(datataple, {\n        employee_id: val.info.buyer_id,\n        employee_name: val.info.buyer_name,\n      });\n      opthionList(this, datataple);\n      this.$set(this.params, \"buyer_id\", val.info.buyer_id);\n      this.dialogBillVisible = false;\n    },\n    companyChange(val) {\n      this.$refs.xTable._proxy(\"loadData\", []);\n      this.$set(this.params, \"supplier_id\", \"\");\n      this.$set(this.params, \"department_id\", \"\");\n      this.$set(this.params, \"buyer_id\", \"\");\n      this.$set(this.params, \"warehouse_id\", \"\");\n      this.$baseData.settingInfo({ num: 3, company_id: val.company_id }, () => {\n        if (localStorage.FDBName_business) {\n          let state = localStorage.getItem(\"FDBName_business\");\n          this.onlyQuote = eval(state)[0].status == 1 ? true : false;\n        }\n      });\n      this.getRebatePrice();\n      this.getCompanyList([], val);\n    },\n    deleteF() {\n      if (this.$refs.xTable._proxy(\"getSelectRecords\").length) {\n        this.$refs.xTable._proxy(\"removeSelecteds\");\n      } else {\n        this.$message.warning(\"请先选择要删除的商品！\");\n      }\n    },\n    submit(formName) {\n      //修改或新增提交\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          var tableBox = this.$refs.xTable\n            ._proxy(\"getTableData\")\n            .fullData.concat([]);\n          if (tableBox.length === 0) {\n            this.$message.warning(\"商品数据不能为空\");\n            return;\n          }\n          if (!tableBox[tableBox.length - 1].goods_id && tableBox.length > 1) {\n            tableBox.pop();\n            this.$refs.xTable._proxy(\"loadData\", tableBox);\n          }\n          this.$refs.xTable._proxy(\"validate\").then((errMap) => {\n            let orderNum = this.orderNum - this.orderAlreadyNum;\n            tableBox = tableBox.map((val) => {\n              // 格式化提交的表单\n              return this.$publicFution.filter(sumbitRowModule, val);\n            });\n            this.$baseData\n              .checkComputation(tableBox, {\n                goods_num: \"goods_num\",\n                total_price: \"subtotal_price\",\n                goods_price: \"purchase_price\",\n              })\n              .then(() => {\n                if (!this.orderAddGet.order_id) {\n                  var obj = this.params;\n                  obj.goods_json = JSON.stringify(tableBox);\n\n                  this.$axios({\n                    method: \"post\",\n                    url: this.$api.purchaseAddOrder,\n                    data: obj,\n                  }).then((res) => {\n                    if (res.data.code == 200) {\n                      this.$message.success(res.data.msg);\n                      this.goBack();\n                    }\n                  });\n                } else {\n                  let obj = {\n                    order_id: this.orderAddGet.order_id,\n                    buyer_id: this.params.buyer_id,\n                    supplier_id: this.params.supplier_id,\n                    department_id: this.params.department_id,\n                    company_id: this.params.company_id,\n                    goods_json: JSON.stringify(tableBox),\n                    warehouse_id: this.params.warehouse_id,\n                    order_type: this.params.order_type,\n                    pay_method: this.params.pay_method,\n                    // rebate_price: this.params.rebate_price,\n                    plan_id: this.params.plan_id,\n                    plan_sn: this.params.plan_sn,\n                    receivables_mode_id: this.params.receivables_mode_id,\n                    business_time:\n                      this.params.business_time == undefined\n                        ? \"\"\n                        : this.params.business_time,\n                    remark:\n                      this.params.remark == undefined ? \"\" : this.params.remark,\n                  };\n                  this.$axios({\n                    method: \"post\",\n                    url: this.$api.editOrder,\n                    data: obj,\n                  }).then((res) => {\n                    if (res.data.code == 200) {\n                      this.$message.success(res.data.data);\n                      this.goBack();\n                    }\n                  });\n                }\n              });\n          });\n        }\n      });\n    },\n  },\n  mounted() {\n    this.order_id = this.orderAddGet.order_id;\n    this.title = this.order_id ? \"修改\" : \"添加\";\n    /** 采购订单详情 */\n    if (localStorage.FDBName_business) {\n      let state = localStorage.getItem(\"FDBName_business\");\n      this.onlyQuote = eval(state)[0].status == 1 ? true : false;\n    }\n    if (this.orderAddGet.order_id) {\n      this.order_sn_disabled = true;\n      this.$axios({\n        method: \"get\",\n        url: this.$api.getOrderInfoPurchase,\n        params: {\n          order_id: this.order_id,\n        },\n      }).then((res) => {\n        this.$refs.xTable._proxy(\"loadData\", res.data.data.goods_list);\n        this.$set(this, \"params\", res.data.data.info);\n        opthionList(this, res.data.data.info);\n        if (res.data.data.info.plan_sn != \"\") {\n          this.disabled = true;\n          this.$axios({\n            method: \"get\",\n            url: this.$api.getPlanInfo,\n            params: {\n              plan_id: res.data.data.info.plan_id,\n            },\n          }).then((res) => {\n            if (res.data.code == 200) {\n              this.orderNum = res.data.data.info.num;\n              this.orderAlreadyNum = res.data.data.info.reference_num;\n              if (res.data.data.info.plan_sn != \"\") {\n                this.disabled = true;\n              }\n            }\n          });\n        }\n        this.getRebatePrice();\n        this.$refs.erpCompanyList.getList();\n      });\n    } else {\n      let { employee_id, company_admin_id } = localStorage;\n      if ([0, 1, 2].includes(Number(employee_id)) || company_admin_id > 0) {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          company_name: localStorage.company_name,\n          business_time: this.$publicFution.formatData(new Date()),\n          order_type: 1,\n          pay_method: 2,\n          // rebate_price: 0,\n        });\n      } else {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          company_name: localStorage.company_name,\n          department_id: Number(localStorage.department_id),\n          buyer_id: Number(localStorage.employee_id),\n          buyer_name: localStorage.employee_name,\n          business_time: this.$publicFution.formatData(new Date()),\n          order_type: 1,\n          pay_method: 2,\n          // rebate_price: 0,\n        });\n      }\n      opthionList(this, localStorage);\n      this.addF(true);\n      this.getRebatePrice();\n      this.$refs.erpCompanyList.getList();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.refundauditFoot {\n  text-align: right;\n  margin-top: 20px;\n  font-size: 13px;\n}\n.refundauditFoot span {\n  display: inline-block;\n  margin-right: 20px;\n}\n.styleInput > .el-input {\n  width: auto !important;\n}\n\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n\n.title {\n  line-height: 50px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.el-form > div:nth-child(2n + 1) {\n  clear: both;\n}\n\n.batch-ul {\n  overflow: hidden;\n}\n\n.batch-ul2 {\n  padding: 0 20px;\n}\n\n.line1 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.batch-ul li {\n  float: left;\n  line-height: 34px;\n  height: 34px;\n}\n\n.batch-ul li:nth-child(1) {\n  width: 140px;\n}\n\n.batch-ul li:nth-child(2) {\n  width: 140px;\n  text-align: right;\n}\n\n.el-table td div {\n  width: 100%;\n}\n\n.warehouse-ul li {\n  padding: 0px;\n}\n.orderBottom {\n  display: flex;\n}\n.orderBottom > .el-form-item {\n  flex: 1;\n}\n</style>\n","export const sumbitRowModule = {\n  \"goods_id\": '',\n  \"plan_goods_id\": '',\n  \"goods_num\": {\n    formatter: 'Int',\n    default: 0\n  },\n  \"purchase_price\": '',\n  \"subtotal_price\": '',\n  \"remark\": \"\"\n}\nexport const rowModule = {\n  \"goods_name\": '',\n  \"goods_id\": '',\n  \"plan_goods_id\": '',\n  \"goods_num\": '',\n  \"purchase_price\": '',\n  \"subtotal_price\": '',\n  \"remark\": \"\"\n}\nexport const tableHead = {\n  data() {\n    return {\n      editRules: {\n        goods_num: [\n          { required: true, message: '数量输入请在0-99999999之间', type: 'number', min: 1, max: 99999999 }\n        ],\n        goods_name: [\n          { required: true, message: '请选择商品' }\n        ]\n      },\n      tableColumn: [{\n        type: \"checkbox\",\n        width: 44,\n        align: 'center'\n      },\n      {\n        title: '序号',\n        type: \"seq\",\n        width: 50\n      },\n      {\n        title: '商品编号',\n        field: 'goods_id',\n        width: 80\n      },\n      {\n        title: '商品名称',\n        field: 'goods_name',\n        width: 400,\n        editRender: {\n          name: 'vGoods',\n          getParams: ({\n            row\n          }) => {\n            return {\n              // url: 'allGetSystemGoodsList',\n              params: {\n                company_id: this.params.company_id\n              },\n              showObj: {\n                goods_id: \"商品编号\",\n                goods_name: \"商品名称\",\n                unit_name: \"单位\",\n                brand_name: \"品牌\",\n                specification_type: \"规格型号\",\n                factory_code: \"工厂代码\"\n              },\n              getIcon: () => {\n                if (row.goods_name) {\n                  return [{\n                    icon: 'el-icon-close',\n                    title: '删除商品',\n                    iconMethod: () => {\n                      for (var i in row) {\n                        row[i] = ''\n                      }\n                    }\n                  }]\n                } else {\n                  return []\n                }\n              }\n            }\n          },\n          events: {\n            change: (value, {\n              row\n            }) => {\n              row.goods_id = value.goods_id\n              row.factory_code = value.factory_code\n              row.purchase_price = value.purchase_price;\n              var result = this.$refs.xTable._proxy(\"getTableData\").fullData\n              if (result[result.length - 1].goods_name) {\n                this.addF()\n              }\n            },\n          }\n        }\n      },\n      {\n        title: '工厂代码',\n        field: 'factory_code',\n        width: 100\n      },\n      {\n        title: '数量',\n        field: 'goods_num',\n        width: 132,\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        editRender: {\n          name: 'number',\n          autoselect: true,\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '采购价',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        field: 'purchase_price',\n        width: 132,\n        editRender: {\n          name: 'Vinput',\n          autoselect: true,\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '小计金额',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        field: 'subtotal_price',\n        width: 132,\n        editRender: {\n          name: 'Vinput',\n          autoselect: true,\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '备注',\n        field: 'remark',\n        editRender: {\n          name: 'Vinput',\n          formatter: 'String'\n        }\n      }\n      ]\n    }\n  },\n  methods: {\n    isEdit({ column }) {\n      if (column.property === \"goods_name\" && (!this.params.company_id || !this.params.supplier_id)) {\n        this.$message.warning('请先选择采购组织和供应商(厂家)')\n        return false\n      }\n      return true\n    }\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":\"disabled\"},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"单据日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{staticClass:\"shortSearchInput\",model:{value:(_vm.params.plan_sn),callback:function ($$v) {_vm.$set(_vm.params, \"plan_sn\", $$v)},expression:\"params.plan_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplier.options),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.employeeFocus},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}},_vm._l((_vm.employeeList.options),function(item){return _c('el-option',{key:item.employee_id,attrs:{\"label\":item.employee_name,\"value\":item.employee_id}})}),1)],1),_c('el-form-item',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1),_vm._m(0),_c('div',{staticClass:\"table_container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData,\"max-height\":\"300\"},on:{\"row-click\":_vm.handleCurrentChanges}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"plan_sn\",\"label\":\"单据号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"add_time\",\"label\":\"单据时间\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"supplier_name\",\"label\":\"供应商(厂家)\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"num\",\"label\":\"采购数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"subtotal_price\",\"label\":\"采购金额总计\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"reference_num\",\"label\":\"已下单数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"buyer_name\",\"label\":\"采购员\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"add_user_name\",\"label\":\"创建人\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"auditor_name\",\"label\":\"审核人\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"remark\",\"label\":\"备注\"}})],1)],1),_c('p',{staticStyle:{\"margin\":\"20px 0px\",\"border-bottom\":\"1px dashed #e5e5e5\"}}),_vm._m(1),_c('div',{staticClass:\"table_container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableDatas,\"max-height\":\"300\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"label\":\"商品编号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"purchase_price\",\"label\":\"采购价\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_num\",\"label\":\"采购数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"old_subtotal_price\",\"label\":\"采购金额小计\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"reference_goods_num\",\"label\":\"已下单数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"remark\",\"label\":\"行备注\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.dialogCancelForm()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dialogSubmitForm()}}},[_vm._v(\"确 定\")])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add_delet\"},[_c('p',[_vm._v(\"【采购计划】单据列表\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add_delet\"},[_c('p',[_vm._v(\"【采购计划】单据明细\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\">\n        <el-form-item label=\"采购组织\" size=\"mini\">\n          <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" disabled=\"disabled\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': ''\">{{\n                item.company_name\n                }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"单据日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\">\n          <el-input v-model=\"params.plan_sn\" class=\"shortSearchInput\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\">\n          <el-select clearable v-model=\"params.supplier_id\" filterable placeholder=\"请选择\">\n            <el-option :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\" v-for=\"item in supplier.options\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"采购员\" size=\"mini\">\n          <el-select clearable v-model=\"params.buyer_id\" filterable placeholder=\"请选择\" @focus=\"employeeFocus\">\n            <el-option :label=\"item.employee_name\" :value=\"item.employee_id\" :key=\"item.employee_id\" v-for=\"item in employeeList.options\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item size=\"mini\" style=\"margin-left:20px\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n          <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"add_delet\">\n        <p>【采购计划】单据列表</p>\n      </div>\n      <div class=\"table_container\">\n        <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableData\" style=\"width: 100%\" @row-click=\"handleCurrentChanges\" max-height=\"300\">\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"plan_sn\" label=\"单据号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"add_time\" label=\"单据时间\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"supplier_name\" label=\"供应商(厂家)\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"num\" label=\"采购数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"subtotal_price\" label=\"采购金额总计\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"reference_num\" label=\"已下单数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"buyer_name\" label=\"采购员\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"add_user_name\" label=\"创建人\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"auditor_name\" label=\"审核人\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"remark\" label=\"备注\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <p style=\"margin:20px 0px;border-bottom: 1px dashed #e5e5e5\"></p>\n      <div class=\"add_delet\">\n        <p>【采购计划】单据明细</p>\n      </div>\n      <div class=\"table_container\">\n        <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableDatas\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\" max-height=\"300\">\n          <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" label=\"商品编号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_name\" label=\"商品名称\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"purchase_price\" label=\"采购价\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_num\" label=\"采购数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"old_subtotal_price\" label=\"采购金额小计\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"reference_goods_num\" label=\"已下单数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"remark\" label=\"行备注\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogCancelForm()\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogSubmitForm()\">确 定</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getCompanyListCommon,\n  getEmployeeListCommon,\n  getDataList\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  data() {\n    return {\n      params: {},\n      AccordingParams: {},\n      timeValue: \"\",\n      companyList: [],\n      multipleSelection: [],\n      supplier: {\n        options: []\n      },\n      tabledatas: [],\n      TableData: [],\n      TableDatas: [],\n      radio: null,\n      goPage: 1,\n      employeeList: {\n        options: []\n      },\n      pageSize: 30,\n      per_page: [30, 50, 100, 500]\n    };\n  },\n  methods: {\n    onSearch() {\n      if (this.timeValue && this.timeValue.length == 2) {\n        this.params.start_time = this.timeValue[0];\n        this.params.end_time = this.timeValue[1];\n      } else {\n        this.params.start_time = this.params.end_time = \"\";\n      }\n      getDataList(\n        this,\n        {\n          API: \"referencePlanListPublics\",\n          params: this.params\n        },\n        \"TableData\"\n      );\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    onReset() {\n      this.$set(this, \"params\", {});\n      this.timeValue = [];\n      this.$set(this.params, \"company_id\", this.par.company_id);\n      getDataList(\n        this,\n        {\n          API: \"referencePlanListPublics\",\n          params: this.params\n        },\n        \"TableData\"\n      );\n    },\n    handleCurrentChanges(val) {\n      this.$axMethod\n        .referencePlanInfo({\n          plan_id: val.plan_id\n        })\n        .then(({ data }) => {\n          if (data.code == 200) {\n            this.tabledatas = data.data;\n            this.TableDatas = data.data.goodsList;\n          }\n        });\n    },\n    dialogCancelForm() {\n      this.$emit(\"closedialog\", false);\n    },\n    employeeFocus() {\n      getEmployeeListCommon(this, this.params);\n    },\n    dialogSubmitForm() {\n      if (!this.TableDatas.length) {\n        this.$message.error(\"请选择订单\");\n        return false;\n      }\n      this.tabledatas.goodsList = this.multipleSelection;\n      this.$emit(\"dialogformInline\", this.tabledatas);\n    }\n  },\n  props: [\"par\"],\n  mounted() {\n    this.params = {\n      supplier_id: this.par.supplier_id,\n      company_id: this.par.company_id,\n      buyer_id: this.par.buyer_id\n    };\n    // this.$set(this.params, \"supplier_id\", this.params);\n    getDataList(\n      this,\n      {\n        API: \"referencePlanListPublics\",\n        params: this.params\n      },\n      \"TableData\"\n    );\n    getCompanyListCommon(this); //获取组织\n    getEmployeeListCommon(this);\n    this.$common.options(\"getSupplierListOption\", this.supplier); //供应商\n  }\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sourceBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sourceBill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sourceBill.vue?vue&type=template&id=1e2b3cbb&scoped=true&\"\nimport script from \"./sourceBill.vue?vue&type=script&lang=js&\"\nexport * from \"./sourceBill.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e2b3cbb\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdd.vue?vue&type=style&index=0&id=40a33c66&scoped=true&lang=css&\"","// 采购订单公共方法\nimport {\n  mapActions,\n  mapGetters\n} from \"vuex\";\nimport {\n  opthionList\n} from \"common/utils/public_function/commonUtils\";\nexport const common = {\n  data() {\n    return {}\n  },\n  activated() {\n    let _routeParams = this.$route.params\n    if (_routeParams.transferType) { // 如果是通过库存预警过来转单的则执行\n      this.portStockEarlyWarningChangeOrderInfo(_routeParams)\n    }\n  },\n  methods: {\n    ...mapActions(['salesorderAdd']),\n    getRebatePrice() {\n      if (this.params.supplier_id && this.params.company_id) {\n        this.$axMethod\n          .getRebatePrice({\n            brand_id: -1,\n            supplier_id: this.params.supplier_id,\n            company_id: this.params.company_id\n          })\n          .then(({ data }) => {\n            if (data.code == 200) {\n              this.$set(\n                this.params,\n                \"rebate_balance\",\n                data.data.rebate_balance\n              );\n            }\n          });\n      }\n    },\n    // 转单方法\n    turnSaleOrder(row) {\n      this.salesorderAdd({\n        type: '采购单转销售订单',\n        Buy_order: row,\n        random: Math.floor(Math.random() * 10000) // 转单随机数\n      });\n      this.$router.push({\n        path: \"/sales/salesorder/salesorderAdd\"\n      });\n    },\n    // 库存预警转 - 单采购订单/采购入库(接口)\n    portStockEarlyWarningChangeOrderInfo(params) {\n      this.loading = true; // 开启加载\n      this.$axMethod.stockEarlyWarningChangeOrderInfo(params.portParams).then(({\n        data\n      }) => {\n        this.loading = false; // 关闭加载\n        if (data.code == 200) {\n          let _info = data.data.info,\n            goods_list = data.data.goods_list;\n          Object.keys(_info).forEach(key => {\n            this.$set(this.params, key, _info[key])\n            // this.params[key] = _info[key]\n          })\n          this.params.remark = _info.abstract\n          if (this.params.warehouse_id == 0) this.params.warehouse_id = ''\n          if (Number(localStorage.company_id) != _info.company_id) {\n            this.$set(this.params, 'department_id', '') // 清空部门\n            this.$set(this.params, 'buyer_id', '') // 清空采购员\n          } else if (!this.params.department_id) {\n            this.$set(this.params, 'department_id', Number(localStorage.department_id)) // 赋值部门\n            this.$set(this.params, 'buyer_id', Number(localStorage.employee_id)) // 赋值采购员\n          }\n          opthionList(this, _info);\n          switch (params.transferType) {\n            case 1: // 转单类型（采购订单）\n              if (this.orderAddGet.order_id) this.orderIndexACT({}); // 清空已有信息\n              goods_list = goods_list.map(item => {\n                item.unit_name && delete item.unit_name\n                item.unit_id && delete item.unit_id\n                item.remaining_goods_num = item.goods_num\n                this.handleEdit({ row: item, column: { property: 'goods_num' } }) // 计算一遍\n                return item\n              })\n              this.$refs.xTable._proxy(\"loadData\", goods_list);\n              break\n            case 2: // 转单类型（采购入库）\n              goods_list = goods_list.map(item => {\n                if (!item.batch) {\n                  this.$set(item, 'batch', this.getWeek())\n                }\n                this.$set(item, 'remaining_goods_num', item.goods_num)\n                item.goods_num && delete item.goods_num\n                let param = {\n                  num: \"remaining_goods_num\", // 商品数量的key\n                  price: \"purchase_price\", // 商品价格的key\n                  totalPrice: \"subtotal_price\" // 商品小计金额\n                };\n                this.$publicFution.computeTotal(item, param, \"remaining_goods_num\", this); // 计算一遍\n                return item\n              })\n              this.tableData = goods_list\n              break\n          }\n        } else {\n          // this.$message({\n          //   type: \"error\",\n          //   message: data.msg\n          // });\n        }\n      }).catch(error => {\n        console.log(error)\n        this.loading = false; // 关闭加载\n        this.$message({\n          type: \"error\",\n          message: '转单失败请重试'\n        });\n      });\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"采购管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"采购订单\")])]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.title)+\"采购订单\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\",\"rules\":{ required: true, message: \"请选择采购组织\" },\"prop\":\"company_id\"}},[_c('erpCompanyList',{ref:\"erpCompanyList\",attrs:{\"fatherParams\":_vm.params,\"disabled\":_vm.disabled},on:{\"getList\":_vm.getCompanyList,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":_vm.order_sn_disabled,\"placeholder\":\"请输入\"},model:{value:(_vm.params.order_sn),callback:function ($$v) {_vm.$set(_vm.params, \"order_sn\", $$v)},expression:\"params.order_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"来源单号\",\"size\":\"mini\"}},[_c('el-input',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"readonly\":\"readonly\",\"suffix-icon\":\"el-icon-more\"},nativeOn:{\"click\":function($event){return _vm.quoteOrder.apply(null, arguments)}},model:{value:(_vm.params.plan_sn),callback:function ($$v) {_vm.$set(_vm.params, \"plan_sn\", $$v)},expression:\"params.plan_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\",\"prop\":\"supplier_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"maxlength\":\"100\",\"filter-method\":_vm.supplierListInvok,\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.getRebatePrice,\"focus\":_vm.supplierListInvok},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplierList),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),(_vm.warehouseRequired)?_c('el-form-item',{attrs:{\"label\":\"采购仓库\",\"size\":\"mini\",\"prop\":\"warehouse_id\",\"rules\":_vm.rules.warehouse_id}},[_c('erpWarehouse',{attrs:{\"searchParams\":{ company_id: _vm.params.company_id },\"fatherParams\":_vm.params},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}})],1):_c('el-form-item',{attrs:{\"label\":\"采购仓库\",\"size\":\"mini\"}},[_c('erpWarehouse',{attrs:{\"searchParams\":{ company_id: _vm.params.company_id },\"fatherParams\":_vm.params},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"订单类型\",\"size\":\"mini\",\"prop\":\"order_type\",\"rules\":{ required: true, message: \"请选择订单类型\" }}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.order_type),callback:function ($$v) {_vm.$set(_vm.params, \"order_type\", $$v)},expression:\"params.order_type\"}},[_c('el-option',{attrs:{\"label\":\"普通订单\",\"value\":1}},[_vm._v(\"普通订单\")]),_c('el-option',{attrs:{\"label\":\"首配订单\",\"value\":2}},[_vm._v(\"首配订单\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"支付方式\",\"size\":\"mini\",\"prop\":\"pay_method\",\"rules\":{ required: true, message: \"请选择支付方式\" }}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.pay_method),callback:function ($$v) {_vm.$set(_vm.params, \"pay_method\", $$v)},expression:\"params.pay_method\"}},[_c('el-option',{attrs:{\"label\":\"在线支付\",\"value\":1}},[_vm._v(\"在线支付\")]),_c('el-option',{attrs:{\"label\":\"线下支付\",\"value\":2}},[_vm._v(\"线下支付\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.department_id == 0){ _vm.params.department_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"disabled\":_vm.disabled},on:{\"focus\":_vm.DepartmentListInvok},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\",\"rules\":_vm.rules.buyer_id,\"prop\":\"buyer_id\"}},[_c('erpEmployee',{attrs:{\"fatherParams\":_vm.params,\"modelLabel\":\"buyer_name\",\"title\":\"请选择采购员\",\"disabled\":_vm.disabled,\"searchParams\":{ company_id: _vm.params.company_id }},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"付款方式\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.receivables_mode_id == 0){ _vm.params.receivables_mode_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.receivablesInvok},model:{value:(_vm.params.receivables_mode_id),callback:function ($$v) {_vm.$set(_vm.params, \"receivables_mode_id\", $$v)},expression:\"params.receivables_mode_id\"}},_vm._l((_vm.receivablesList),function(item){return _c('el-option',{key:item.receivables_mode_id,attrs:{\"label\":item.receivables_mode_name,\"value\":item.receivables_mode_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.remark),callback:function ($$v) {_vm.$set(_vm.params, \"remark\", $$v)},expression:\"params.remark\"}})],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(!_vm.onlyQuote)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"disabled\":_vm.disabled,\"size\":\"mini\"},on:{\"click\":_vm.addF}},[_vm._v(\"增行\")]):_vm._e(),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deleteF}},[_vm._v(\"删行\")])],1),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"edit-rules\":_vm.editRules,\"isEdit\":_vm.isEdit,\"tableColumn\":_vm.tableColumn,\"totalArray\":['goods_num','subtotal_price']}})],1),_c('div',{staticClass:\"refundauditFoot\"},[(_vm.params.add_user_name)?_c('span',[_vm._v(\"创建人：\"+_vm._s(_vm.params.add_user_name))]):_c('span',[_vm._v(\"创建人：\"+_vm._s(_vm.username))]),_c('span',[_vm._v(\"创建时间：\"+_vm._s(_vm.params.add_time))]),_c('span',[_vm._v(\"审核人：\"+_vm._s(_vm.params.auditor_name))]),_c('span',[_vm._v(\"审核时间：\"+_vm._s(_vm.params.auditor_time))]),_c('span',[_vm._v(\"修改人：\"+_vm._s(_vm.params.update_user_name))]),_c('span',[_vm._v(\"修改时间：\"+_vm._s(_vm.params.update_time))])]),_c('div',{staticClass:\"dialog-footer\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"确 定\")])],1),(_vm.dialogBillVisible)?_c('div',[_c('el-dialog',{staticClass:\"dialogForm\",attrs:{\"close-on-click-modal\":false,\"title\":\"引用采购计划单据\",\"visible\":_vm.dialogBillVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogBillVisible=$event},\"close\":_vm.closeDialog}},[_c('source-bill',{attrs:{\"par\":_vm.params},on:{\"closedialog\":function($event){_vm.dialogBillVisible = false},\"dialogformInline\":_vm.dialogformInline}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderAdd.vue?vue&type=template&id=40a33c66&scoped=true&\"\nimport script from \"./orderAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./orderAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderAdd.vue?vue&type=style&index=0&id=40a33c66&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40a33c66\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}