{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/custom/customercredit/creditmanage/creditmanage_add.vue?a086","webpack://erpcode-[name]/./src/components/element/custom/customercredit/creditmanage/creditmanage_add.vue?fae1","webpack://erpcode-[name]/src/components/element/custom/customercredit/creditmanage/creditmanage_add.vue","webpack://erpcode-[name]/./src/components/element/custom/customercredit/creditmanage/creditmanage_add.vue?2668","webpack://erpcode-[name]/./src/components/element/custom/customercredit/creditmanage/creditmanage_add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","jurisdiction","moduName","staticClass","on","goBack","goBackName","atName","staticStyle","ref","params","required","message","trigger","company_id","companyListInvok","model","value","callback","$$v","$set","expression","_l","item","key","company_name","class","type","loading","clienteleListInvok","changeCustomer","customer_id","customer_name","contact_name","customer_mobile","province_name","city_name","area_name","customer_type","disabled","changeCreditType","credit_type","pickerOptions0","_e","slot","auditor_status_name","$event","submitForm","staticRenderFns","name","data","disabledDate","time","getTime","Date","now","authority","companyList","disabledInput","isDisabled","computed","methods","changeRadio","is_disabled","creditmanageIndexACT","creditmanageAdd_showGet","goPage","pageSize","$router","push","path","$axios","method","url","$api","getCustomerInfo","associated_customer_id","code","vm","customer_type_name","creditTime","credit_end_time","$refs","validate","valid","credit_limit","undefined","credit_id","addCredit","remark","res","editCredit","commont","component"],"mappings":"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","file":"js/chunk-aa84f468.a4aaa9e0.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creditmanage_add.vue?vue&type=style&index=0&id=daa351be&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.jurisdiction.moduName))]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(_vm._s(_vm.jurisdiction.goBackName))])]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.jurisdiction.atName))])],1),_c('div',{staticClass:\"customerInfoAdd errorItem  errorItemMl\"},[_c('div',{staticClass:\"dialog-box\"},[_c('p',{staticStyle:{\"text-align\":\"center\",\"background\":\"#3a8ee6\",\"color\":\"#fff\",\"font-size\":\"14px\",\"font-weight\":\"200\",\"height\":\"40px\",\"line-height\":\"40px\"}},[_vm._v(\"授信客户信息\")]),_c('el-form',{ref:\"params\",staticClass:\"table_pad\",attrs:{\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"prop\":\"company_id\",\"rules\":[{ required: true, message: '请选择销售组织', trigger: 'change' }]}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.company_id == 0){ _vm.params.company_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.companyListInvok},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"授信客户\",\"prop\":\"customer_id\",\"rules\":[{ required: true, message: '请选择授信客户', trigger: 'change' }]}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请输入\",\"clearable\":\"\",\"value-key\":\"customer_id\",\"loading\":_vm.loading,\"remote\":\"\",\"remote-method\":_vm.clienteleListInvok},on:{\"focus\":_vm.clienteleListInvok,\"change\":_vm.changeCustomer},model:{value:(_vm.params.customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"customer_id\", $$v)},expression:\"params.customer_id\"}},[_c('ul',{staticClass:\"customer customer-ul4 customer-ul2\"},[_c('li',[_vm._v(\"客户编号\")]),_c('li',[_vm._v(\"客户名称\")]),_c('li',[_vm._v(\"联系人\")]),_c('li',[_vm._v(\"联系电话\")]),_c('li',[_vm._v(\"区域\")])]),_vm._l((_vm.customerList),function(item){return _c('el-option',{key:item.customer_id,attrs:{\"label\":item.customer_name,\"value\":item.customer_id}},[_c('ul',{staticClass:\"customer customer-ul4\"},[_c('li',{attrs:{\"title\":item.customer_id}},[_vm._v(_vm._s(item.customer_id))]),_c('li',{attrs:{\"title\":item.customer_name}},[_vm._v(_vm._s(item.customer_name))]),_c('li',{attrs:{\"title\":item.contact_name}},[_vm._v(_vm._s(item.contact_name))]),_c('li',{attrs:{\"title\":item.customer_mobile}},[_vm._v(_vm._s(item.customer_mobile))]),_c('li',[_vm._v(_vm._s(item.province_name)+\"/\"+_vm._s(item.city_name)+\"/\"+_vm._s(item.area_name))])])])})],2)],1),_c('el-form-item',{attrs:{\"label\":\"客户分类\"}},[_c('span',{staticStyle:{\"padding-left\":\"15px\"}},[_vm._v(_vm._s(_vm.params.customer_type))])]),_c('el-form-item',{staticClass:\"radio-box\",attrs:{\"label\":\"授信类型\",\"prop\":\"credit_type\",\"rules\":[{ required: true, message: '请选择授信类型', trigger: 'change' }]}},[_c('el-radio-group',{attrs:{\"disabled\":_vm.disabled},on:{\"change\":_vm.changeCreditType},model:{value:(_vm.params.credit_type),callback:function ($$v) {_vm.$set(_vm.params, \"credit_type\", $$v)},expression:\"params.credit_type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"固定额度\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"临时\")])],1)],1),(_vm.params.credit_type==3)?_c('el-form-item',{attrs:{\"label\":\"有效截止日期\",\"rules\":[{ required: true, message: '请选择截止日期', trigger: 'change' }]}},[_c('el-date-picker',{staticStyle:{\"width\":\"199px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"picker-options\":_vm.pickerOptions0},model:{value:(_vm.params.credit_end_time),callback:function ($$v) {_vm.$set(_vm.params, \"credit_end_time\", $$v)},expression:\"params.credit_end_time\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"授信额度(元)\",\"prop\":\"credit_limit\",\"rules\":[{ required: true, message: '请输入授信额度', trigger: 'blur' }]}},[_c('el-input',{staticStyle:{\"width\":\"199px\"},model:{value:(_vm.params.credit_limit),callback:function ($$v) {_vm.$set(_vm.params, \"credit_limit\", $$v)},expression:\"params.credit_limit\"}})],1),_c('el-form-item',{staticClass:\"heightLabel\",attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\",\"resize\":\"none\"},attrs:{\"size\":\"small\",\"type\":\"text\",\"suffix-icon\":\"el-icon-edit-outline\",\"maxlength\":300},model:{value:(_vm.params.remark),callback:function ($$v) {_vm.$set(_vm.params, \"remark\", $$v)},expression:\"params.remark\"}})],1)],1)],1)]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),(_vm.params.auditor_status_name!='作废')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('params')}}},[_vm._v(\"确 定\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>{{jurisdiction.moduName}}</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">{{jurisdiction.goBackName}}</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>{{jurisdiction.atName}}</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"customerInfoAdd errorItem  errorItemMl\">\n      <div class=\"dialog-box\">\n        <p style=\"text-align:center;background:#3a8ee6;color:#fff;font-size:14px;font-weight:200;height:40px;line-height:40px;\">授信客户信息</p>\n        <el-form :model=\"params\" ref=\"params\" class=\"table_pad\">\n          <el-form-item label=\"销售组织\" prop=\"company_id\" :rules=\"[{ required: true, message: '请选择销售组织', trigger: 'change' }]\">\n            {{(function(){if(params.company_id == 0)params.company_id = null})()}}\n            <el-select clearable v-model=\"params.company_id\" @focus=\"companyListInvok\" placeholder=\"请选择\" filterable>\n              <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n                <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"授信客户\" prop=\"customer_id\" :rules=\"[{ required: true, message: '请选择授信客户', trigger: 'change' }]\">\n            <el-select v-model=\"params.customer_id\" filterable placeholder=\"请输入\" clearable @focus=\"clienteleListInvok\" value-key=\"customer_id\" @change=\"changeCustomer\" :loading=\"loading\" remote :remote-method=\"clienteleListInvok\">\n              <ul class=\"customer customer-ul4 customer-ul2\">\n                <li>客户编号</li>\n                <li>客户名称</li>\n                <li>联系人</li>\n                <li>联系电话</li>\n                <li>区域</li>\n              </ul>\n              <el-option v-for=\"item in customerList\" :key=\"item.customer_id\" :label=\"item.customer_name\" :value=\"item.customer_id\">\n                <ul class=\"customer customer-ul4\">\n                  <li :title=\"item.customer_id\">{{ item.customer_id }}</li>\n                  <li :title=\"item.customer_name\">{{ item.customer_name }}</li>\n                  <li :title=\"item.contact_name\">{{item.contact_name}}</li>\n                  <li :title=\"item.customer_mobile\">{{item.customer_mobile}}</li>\n                  <li>{{item.province_name}}/{{item.city_name}}/{{item.area_name}}</li>\n                </ul>\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"客户分类\">\n            <span style=\"padding-left: 15px;\">{{params.customer_type}}</span>\n          </el-form-item>\n          <el-form-item label=\"授信类型\" prop=\"credit_type\" :rules=\"[{ required: true, message: '请选择授信类型', trigger: 'change' }]\" class=\"radio-box\">\n            <el-radio-group v-model=\"params.credit_type\" @change=\"changeCreditType\" :disabled=\"disabled\">\n              <el-radio :label='1'>固定额度</el-radio>\n              <el-radio :label='3'>临时</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"有效截止日期\" v-if=\"params.credit_type==3\" :rules=\"[{ required: true, message: '请选择截止日期', trigger: 'change' }]\">\n            <el-date-picker v-model=\"params.credit_end_time\" type=\"date\" placeholder=\"选择日期\" :picker-options=\"pickerOptions0\" style=\"width: 199px;\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"授信额度(元)\" prop=\"credit_limit\" :rules=\"[{ required: true, message: '请输入授信额度', trigger: 'blur' }]\">\n            <el-input v-model=\"params.credit_limit\" style=\"width: 199px;\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"备注\" prop=\"remark\" class=\"heightLabel\">\n            <el-input size=\"small\" type=\"text\" v-model=\"params.remark\" suffix-icon=\"el-icon-edit-outline\" :maxlength=\"300\" style=\"width: 250px;resize: none\"></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submitForm('params')\" v-if=\"params.auditor_status_name!='作废'\">确 定</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getData } from \"common/utils/public_function/commonUtils\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  name: \"customeCreditmanageAdd\",\n  data() {\n    return {\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() < Date.now() - 8.64e7;\n        }\n      },\n      authority: {},\n      jurisdiction: {\n        moduName: \"客户管理\",\n        goBackName: \"信用（授信）管理\",\n        atName: \"添加客户授信\"\n      },\n      params: { customer_type: \"\", credit_type: 1, is_disabled: 0 },\n      loading: false,\n      companyList: [],\n      disabled: false,\n      disabledInput: false,\n      isDisabled: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"creditmanageAdd_showGet\"])\n  },\n  methods: {\n    ...mapActions([\n      \"creditmanageDefault_show\",\n      \"creditmanageSearch_show\",\n      \"creditmanageIndexACT\",\n      \"threeorderAdd\",\n      \"salesorderAdd\"\n    ]),\n    changeRadio() {\n      if (this.params.auditor_status_name == \"已审核\") {\n        this.disabled = true;\n        if (this.isDisabled != this.params.is_disabled) {\n          this.disabledInput = false;\n        } else {\n          this.disabledInput = true;\n        }\n      }\n    },\n    changeCreditType() {\n      // this.params.credit_end_time='';receiptaudit\n    },\n    goBack() {\n      this.creditmanageIndexACT({\n        // commont: \"creditmanageDefault\",\n        params: this.creditmanageAdd_showGet.params,\n        goPage: this.creditmanageAdd_showGet.goPage,\n        pageSize: this.creditmanageAdd_showGet.pageSize\n      });\n      this.$router.push({\n        path: \"/custom/creditmanage\"\n      });\n    },\n    changeCustomer(val) {\n      //授信客户\n      let vm = this;\n      let associated_customer_id = this.customerList.filter(\n        obj => obj.customer_id === val\n      )[0].associated_customer_id;\n      this.$axios({\n        method: \"get\",\n        url: this.$api.getCustomerInfo,\n        params: {\n          customer_id: this.params.customer_id,\n          associated_customer_id: associated_customer_id\n        }\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          vm.params.customer_type = data.data.customer_type_name;\n        }\n      });\n    },\n    submitForm(params) {\n      var vm = this;\n      var creditTime = new Date(this.params.credit_end_time);\n      var credit_end_time =\n        creditTime.getFullYear() +\n        \"-\" +\n        (creditTime.getMonth() + 1) +\n        \"-\" +\n        creditTime.getDate();\n      this.params.credit_end_time = credit_end_time;\n      this.$refs[params].validate(valid => {\n        if (valid) {\n          if (vm.params.credit_limit < 0) {\n            this.$message.error(\"授信额度不能小于0\");\n            return false;\n          }\n          if (vm.params.credit_id == undefined) {\n            vm.$axios({\n              method: \"post\",\n              url: vm.$api.addCredit,\n              data: {\n                customer_id: vm.params.customer_id,\n                company_id: vm.params.company_id,\n                credit_type: vm.params.credit_type,\n                credit_limit: vm.params.credit_limit,\n                is_disabled: vm.params.is_disabled,\n                credit_end_time:\n                  vm.params.credit_end_time == \"NaN-NaN-NaN\"\n                    ? \"\"\n                    : vm.params.credit_end_time,\n                remark: vm.params.remark == undefined ? \"\" : vm.params.remark\n              }\n            }).then(res => {\n              if (res.data.code == 200) {\n                this.$message({\n                  message: res.data.data,\n                  type: \"success\"\n                });\n                // this.creditmanageDefault_show({\n                //   commont: \"creditmanageDefault\"\n                // });\n                this.goBack();\n              } else {\n                this.$set(this, \"params\", {\n                  credit_end_time: this.$publicFution.formatData(new Date())\n                });\n              }\n            });\n          } else {\n            vm.$axios({\n              method: \"post\",\n              url: vm.$api.editCredit,\n              data: vm.params\n            }).then(res => {\n              if (res.data.code == 200) {\n                this.$message({\n                  message: res.data.data,\n                  type: \"success\"\n                });\n                this.goBack();\n                this.creditmanageIndexACT({\n                  commont: \"creditmanageDefault\"\n                });\n              }\n            });\n          }\n        }\n      });\n    }\n  },\n  computed: {\n    ...mapGetters([\"creditmanageAdd_showGet\"])\n  },\n  created() {\n    if (this.creditmanageAdd_showGet.jurisdiction == 2) {\n      this.jurisdiction = {\n        moduName: \"公司三包\",\n        goBackName: \"新增/修改三包订单\",\n        atName: \"添加客户授信\"\n      };\n      this.goBack = () => {\n        this.threeorderAdd({\n          moduleName: \"threeorderAdd\"\n        });\n      };\n    } else if (this.creditmanageAdd_showGet.jurisdiction == 1) {\n      this.jurisdiction = {\n        moduName: \"客户管理\",\n        goBackName: \"信用（授信）管理\",\n        atName: \"添加客户授信\"\n      };\n      this.goBack = () => {\n        this.salesorderAdd({\n          moduleName: \"salesorderAdd\"\n        });\n      };\n    }\n    let vm = this;\n    if (this.creditmanageAdd_showGet.credit_id != undefined) {\n      this.$axios({\n        method: \"get\",\n        url: this.$api.getCreditInfo,\n        params: { credit_id: this.creditmanageAdd_showGet.credit_id }\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          this.$set(this, \"params\", data.data);\n          this.companyList = [\n            {\n              company_name: data.data.company_name,\n              company_id: data.data.company_id\n            }\n          ];\n          this.customerList = [\n            {\n              customer_id: data.data.customer_id,\n              customer_name: data.data.customer_name,\n              contact_name: data.data.contact_name,\n              customer_mobile: data.data.customer_mobile,\n              address: data.data.address\n            }\n          ];\n\n          vm.params.is_disabled = \"\" + data.data.is_disabled + \"\";\n          this.isDisabled = this.params.is_disabled;\n          vm.params.credit_type = data.data.credit_type;\n          vm.params.customer_type = data.data.customer_type_name;\n          vm.params.credit_end_time = data.data.credit_end_time;\n          if (data.data.auditor_status_name == \"已审核\") {\n            this.disabledInput = true;\n          }\n        }\n      });\n      this.jurisdiction = {\n        moduName: \"客户管理\",\n        goBackName: \"信用（授信）管理\",\n        atName: \"修改客户授信\"\n      };\n      this.disabled = true;\n    }\n  },\n  mounted() {}\n};\n</script>\n\n<style lang=\"less\" scoped>\n.customerInfoAdd {\n  border: 1px solid #ddd;\n  padding: 20px 0;\n}\n.table_pad .el-form-item__content .el-select--small {\n  padding-left: 17px;\n}\n.table_pad .el-form-item__content .el-input,\n.el-radio-group {\n  margin-left: 17px;\n}\n\n/*.dialog-box .el-form-item__error{*/\n/*left:78% !important;*/\n/*top:39%;*/\n/*}*/\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creditmanage_add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creditmanage_add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./creditmanage_add.vue?vue&type=template&id=daa351be&scoped=true&\"\nimport script from \"./creditmanage_add.vue?vue&type=script&lang=js&\"\nexport * from \"./creditmanage_add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./creditmanage_add.vue?vue&type=style&index=0&id=daa351be&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"daa351be\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}