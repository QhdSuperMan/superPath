(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-59967344"],{"04b0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"params"},[a("div",{attrs:{id:"leixin"}},[a("div",{staticClass:"search_container"},[a("el-form",{ref:"filterFormRef",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"调出组织",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.companyListInvok,change:e.outcanpanychange},model:{value:e.params.company_id,callback:function(t){e.$set(e.params,"company_id",t)},expression:"params.company_id"}},e._l(e.companyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"调入组织",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:function(t){return e.companyListInvok("","newCompanyList")},change:e.pullcanpanychange},model:{value:e.params.new_company_id,callback:function(t){e.$set(e.params,"new_company_id",t)},expression:"params.new_company_id"}},e._l(e.newCompanyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"业务日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),a("el-form-item",{attrs:{label:"单据号",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(1)}},model:{value:e.params.transfer_sn,callback:function(t){e.$set(e.params,"transfer_sn",t)},expression:"params.transfer_sn"}})],1),a("el-form-item",{attrs:{label:"单据来源",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.params.source,callback:function(t){e.$set(e.params,"source",t)},expression:"params.source"}},[a("el-option",{attrs:{label:"全部",value:0}},[e._v("全 部")]),a("el-option",{attrs:{label:"ERP",value:2}},[e._v("ERP")]),a("el-option",{attrs:{label:"WMS",value:1}},[e._v("WMS")])],1)],1),a("el-form-item",{attrs:{label:"审核状态",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.params.auditor_status,callback:function(t){e.$set(e.params,"auditor_status",t)},expression:"params.auditor_status"}},[a("el-option",{attrs:{label:"全部",value:0}},[e._v("全部")]),a("el-option",{attrs:{label:"未审核",value:1}},[e._v("未审核")]),a("el-option",{attrs:{label:"已审核",value:2}},[e._v("已审核")]),a("el-option",{attrs:{label:"作废",value:3}},[e._v("作废")])],1)],1),a("el-form-item",{attrs:{label:"商品编号",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入",maxLength:"7",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(1)}},model:{value:e.params.goods_id,callback:function(t){e.$set(e.params,"goods_id",t)},expression:"params.goods_id"}})],1),a("el-form-item",{attrs:{label:"商品名称",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(1)}},model:{value:e.params.goods_name,callback:function(t){e.$set(e.params,"goods_name",t)},expression:"params.goods_name"}})],1),a("el-form-item",{attrs:{label:"年周/批次",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(1)}},model:{value:e.params.batch,callback:function(t){e.$set(e.params,"batch","string"===typeof t?t.trim():t)},expression:"params.batch"}})],1),a("el-form-item",{attrs:{label:"调出仓库",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.getWarehouseFouse,change:e.warehouseChange},model:{value:e.params.warehouse_id,callback:function(t){e.$set(e.params,"warehouse_id",t)},expression:"params.warehouse_id"}},e._l(e.warehouseList.options,(function(e){return a("el-option",{key:e.warehouse_id,attrs:{label:e.warehouse_name,value:e.warehouse_id}})})),1)],1),a("el-form-item",{attrs:{label:"调出货位",size:"mini"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{focus:e.allocationFocus},model:{value:e.params.allocation_id,callback:function(t){e.$set(e.params,"allocation_id",t)},expression:"params.allocation_id"}},e._l(e.allocationList.options,(function(e){return a("el-option",{key:e.allocation_id,attrs:{label:e.allocation_name,value:e.allocation_id}})})),1)],1),a("el-form-item",{attrs:{label:"调入仓库",size:"mini"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{focus:e.getNewWarehouseFouse},model:{value:e.params.new_warehouse_id,callback:function(t){e.$set(e.params,"new_warehouse_id",t)},expression:"params.new_warehouse_id"}},e._l(e.newWarehouseList.options,(function(e){return a("el-option",{key:e.warehouse_id,attrs:{label:e.warehouse_name,value:e.warehouse_id}})})),1)],1),a("el-form-item",{attrs:{label:"调入货位",size:"mini"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{focus:e.allocationNewFocus},model:{value:e.params.new_allocation_id,callback:function(t){e.$set(e.params,"new_allocation_id",t)},expression:"params.new_allocation_id"}},e._l(e.newAllocationList.options,(function(e){return a("el-option",{key:e.allocation_id,attrs:{label:e.allocation_name,value:e.allocation_id}})})),1)],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onSearch(1)}}},[e._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),1==e.authority.b_export?a("div",{staticClass:"add_delet"},[a("el-dropdown",{attrs:{placement:"bottom-start"}},[a("span",{staticStyle:{cursor:"pointer",color:"#4e90e2"},attrs:{"split-button":""}},[a("el-button",{attrs:{plain:"",icon:"iconfont icon-daochu10",size:"mini"}},[e._v("导出")])],1),a("el-dropdown-menu",{staticStyle:{"margin-top":"10px"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.exporTransfer(1)}}},[e._v("导出Excel文件")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.exporTransfer(2)}}},[e._v("导出CSV逗号分隔")])],1)],1)],1):e._e(),a("div",{staticClass:"table_container"},[a("xTable",{ref:"xTable",attrs:{ajax:{url:"getTransferDetailList",params:e.params},sign:e.indexSign,rowClassName:{name:"sign_row",isDisable:!1},footerMethod:e.footerMethod,tableColumn:e.tableColumn},on:{getData:e.dealData}})],1),a("div",{staticClass:"table_info"},[a("span",[e._v("制表时间："+e._s(e.add_time))]),a("span",{staticStyle:{float:"right"}},[e._v("制表人："+e._s(e.add_user_name))])])])])},n=[],r=(a("4de4"),a("d3b7"),a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("d12c"),a("d81d"),a("caad"),a("b680"),a("8ba4"),a("a9e3"),{data:function(){return{footerData:{},tableColumn:[{type:"index",title:"序号",width:50},{title:"调出组织",field:"company_name",width:150},{title:"调入组织",field:"new_company_name",width:150},{title:"业务日期",field:"business_time",width:130},{title:"单据号",field:"transfer_sn",width:150},{title:"商品编号",field:"goods_id",width:100},{title:"商品名称",field:"goods_name",width:500},{title:"年周/批次",field:"batch",width:100,headerAlign:"right",align:"right"},{title:"调出仓库",field:"warehouse_name",width:100,headerAlign:"right",align:"right"},{title:"调出货位",field:"allocation_name",width:100,headerAlign:"right",align:"right"},{title:"调入仓库",field:"new_warehouse_name",width:100,headerAlign:"right",align:"right"},{title:"调入货位",field:"new_allocation_name",width:100,headerAlign:"right",align:"right"},{title:"调仓数量",field:"goods_num",width:100,headerAlign:"right",align:"right"},{title:"调仓单价",field:"cost_price",width:100,headerAlign:"right",align:"right"},{title:"调仓金额",field:"subtotal_cost_price",width:100,headerAlign:"right",align:"right"},{title:"创建人",field:"add_user_name",width:130},{title:"单据时间",field:"add_time",width:130},{title:"单据来源",field:"source",width:140},{title:"审核状态",field:"auditor_status_name",width:130},{title:"审核人",field:"auditor_name",width:130},{title:"审核时间",field:"auditor_time",width:130},{title:"修改人",field:"update_user_name",width:130},{title:"修改时间",field:"update_time",width:130}]}},methods:{dealData:function(e){200===e.data.code&&(this.footerData=e.data.data.desc)},footerMethod:function(e){var t=this,a=e.columns,i=e.data;return[a.map((function(e,a){if(1===a)return"页小计";if(["goods_num","subtotal_cost_price"].includes(e.property)){var n=t.$utils.sum(i,e.property);return"subtotal_cost_price"===e.property?n.toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"goods_num"===e.property?n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):Number.isInteger(n)?n:n.toFixed(2)}return null})),a.map((function(e,a){return 1===a?"合计":"goods_num"===e.property&&void 0!==t.footerData.total_goods_num?t.footerData.total_goods_num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"subtotal_cost_price"===e.property&&void 0!==t.footerData.total_subtotal_cost_price?(t.footerData.total_subtotal_cost_price-0).toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):["goods_num","subtotal_cost_price"].includes(e.property)?"加载中...":null}))]}}}),o={name:"instorageTransferwareTransferwareDetail",mixins:[r],data:function(){return{authority:{},postageTypeList:{options:[]},params:{auditor_status:0},loading:!0,timeValue:[],companyList:[],newCompanyList:[],warehouseList:{options:[]},newWarehouseList:{options:[]},multipleSelection:[],allocationList:{options:[]},newAllocationList:{options:[]},add_user_name:"",add_time:""}},methods:{outcanpanychange:function(e){this.$set(this.params,"warehouse_id",""),this.$set(this.params,"allocation_id","")},pullcanpanychange:function(e){this.$set(this.params,"new_warehouse_id",""),this.$set(this.params,"new_allocation_id","")},warehouseChange:function(e){e&&(this.params.warehouse_name=this.warehouseList.options.filter((function(t){return t.warehouse_id===e}))[0].warehouse_name)},getWarehouseFouse:function(){this.$common.options("getWarehouseListOption",this.warehouseList,{company_id:this.params.company_id})},getNewWarehouseFouse:function(){this.$common.options("getWarehouseListOption",this.newWarehouseList,{company_id:this.params.new_company_id})},allocationFocus:function(){var e=this;this.$axMethod.allocationInventoryList({warehouse_id:this.params.warehouse_id?this.params.warehouse_id:""}).then((function(t){var a=t.data;"200"==a.code&&(e.allocationList.options=a.data)}))},allocationNewFocus:function(){var e=this;this.$axMethod.allocationInventoryList({warehouse_id:this.params.new_warehouse_id?this.params.new_warehouse_id:""}).then((function(t){var a=t.data;"200"==a.code&&(e.newAllocationList.options=a.data)}))},exporTransfer:function(e){Object.assign(this.params,{export_type:e});this.$axMethod.exportTransferDetailUrl(this.params).then((function(e){200==e.data.code&&(window.location.href=e.data.data.url)}))},warehouseFocus:function(){this.$common.options("getWarehouseListOption",this.warehouseList,{company_id:this.params.company_id})},onReset:function(){this.$set(this,"params",{auditor_status:0}),this.timeValue=[],this.onSearch(1)},onSearch:function(e){this.timeValue?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="",this.footerData={},this.$refs.xTable._proxy("updateFooter"),this.$refs.xTable._getData(e)},dateFtt:function(e,t){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e}},created:function(){this.companyListInvok(),this.authority=JSON.parse(localStorage.getItem("authority")),this.add_user_name=localStorage.getItem("employee_name");var e=new Date;this.add_time=this.dateFtt("yyyy-MM-dd hh:mm:ss",e)},activated:function(){this.onSearch()}},s=o,l=(a("2239"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"ce20a01a",null);t["default"]=c.exports},"0cb2":function(e,t,a){var i=a("e330"),n=a("7b0b"),r=Math.floor,o=i("".charAt),s=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,i,d,p){var h=a+e.length,f=i.length,m=u;return void 0!==d&&(d=n(d),m=c),s(p,m,(function(n,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,a);case"'":return l(t,h);case"<":c=d[l(s,1,-1)];break;default:var u=+s;if(0===u)return n;if(u>f){var p=r(u/10);return 0===p?n:p<=f?void 0===i[p-1]?o(s,1):i[p-1]+o(s,1):n}c=i[u-1]}return void 0===c?"":c}))}},2239:function(e,t,a){"use strict";a("cd46")},2626:function(e,t,a){"use strict";var i=a("d066"),n=a("9bf2"),r=a("b622"),o=a("83ab"),s=r("species");e.exports=function(e){var t=i(e),a=n.f;o&&t&&!t[s]&&a(t,s,{configurable:!0,get:function(){return this}})}},"2c3e":function(e,t,a){var i=a("da84"),n=a("83ab"),r=a("9f7f").UNSUPPORTED_Y,o=a("c6b6"),s=a("9bf2").f,l=a("69f3").get,c=RegExp.prototype,u=i.TypeError;n&&r&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!l(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},"4d63":function(e,t,a){var i=a("83ab"),n=a("da84"),r=a("e330"),o=a("94ca"),s=a("7156"),l=a("9112"),c=a("9bf2").f,u=a("241c").f,d=a("3a9b"),p=a("44e7"),h=a("577e"),f=a("ad6d"),m=a("9f7f"),_=a("6eeb"),g=a("d039"),v=a("1a2d"),b=a("69f3").enforce,w=a("2626"),y=a("b622"),x=a("fce3"),k=a("107c"),$=y("match"),A=n.RegExp,L=A.prototype,S=n.SyntaxError,E=r(f),D=r(L.exec),M=r("".charAt),C=r("".replace),O=r("".indexOf),R=r("".slice),F=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,I=/a/g,z=/a/g,T=new A(I)!==I,N=m.UNSUPPORTED_Y,W=i&&(!T||N||x||k||g((function(){return z[$]=!1,A(I)!=I||A(z)==z||"/a/i"!=A(I,"i")}))),V=function(e){for(var t,a=e.length,i=0,n="",r=!1;i<=a;i++)t=M(e,i),"\\"!==t?r||"."!==t?("["===t?r=!0:"]"===t&&(r=!1),n+=t):n+="[\\s\\S]":n+=t+M(e,++i);return n},P=function(e){for(var t,a=e.length,i=0,n="",r=[],o={},s=!1,l=!1,c=0,u="";i<=a;i++){if(t=M(e,i),"\\"===t)t+=M(e,++i);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:D(F,R(e,i+1))&&(i+=2,l=!0),n+=t,c++;continue;case">"===t&&l:if(""===u||v(o,u))throw new S("Invalid capture group name");o[u]=!0,r[r.length]=[u,c],l=!1,u="";continue}l?u+=t:n+=t}return[n,r]};if(o("RegExp",W)){for(var j=function(e,t){var a,i,n,r,o,c,u=d(L,this),f=p(e),m=void 0===t,_=[],g=e;if(!u&&f&&m&&e.constructor===j)return e;if((f||d(L,e))&&(e=e.source,m&&(t="flags"in g?g.flags:E(g))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),g=e,x&&"dotAll"in I&&(i=!!t&&O(t,"s")>-1,i&&(t=C(t,/s/g,""))),a=t,N&&"sticky"in I&&(n=!!t&&O(t,"y")>-1,n&&(t=C(t,/y/g,""))),k&&(r=P(e),e=r[0],_=r[1]),o=s(A(e,t),u?this:L,j),(i||n||_.length)&&(c=b(o),i&&(c.dotAll=!0,c.raw=j(V(e),a)),n&&(c.sticky=!0),_.length&&(c.groups=_)),e!==g)try{l(o,"source",""===g?"(?:)":g)}catch(v){}return o},U=function(e){e in j||c(j,e,{configurable:!0,get:function(){return A[e]},set:function(t){A[e]=t}})},J=u(A),Y=0;J.length>Y;)U(J[Y++]);L.constructor=j,j.prototype=L,_(n,"RegExp",j)}w("RegExp")},5319:function(e,t,a){"use strict";var i=a("2ba4"),n=a("c65b"),r=a("e330"),o=a("d784"),s=a("d039"),l=a("825a"),c=a("1626"),u=a("5926"),d=a("50c4"),p=a("577e"),h=a("1d80"),f=a("8aa5"),m=a("dc4a"),_=a("0cb2"),g=a("14c3"),v=a("b622"),b=v("replace"),w=Math.max,y=Math.min,x=r([].concat),k=r([].push),$=r("".indexOf),A=r("".slice),L=function(e){return void 0===e?e:String(e)},S=function(){return"$0"==="a".replace(/./,"$0")}(),E=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),D=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,a){var r=E?"$":"$0";return[function(e,a){var i=h(this),r=void 0==e?void 0:m(e,b);return r?n(r,e,i,a):n(t,p(i),e,a)},function(e,n){var o=l(this),s=p(e);if("string"==typeof n&&-1===$(n,r)&&-1===$(n,"$<")){var h=a(t,o,s,n);if(h.done)return h.value}var m=c(n);m||(n=p(n));var v=o.global;if(v){var b=o.unicode;o.lastIndex=0}var S=[];while(1){var E=g(o,s);if(null===E)break;if(k(S,E),!v)break;var D=p(E[0]);""===D&&(o.lastIndex=f(s,d(o.lastIndex),b))}for(var M="",C=0,O=0;O<S.length;O++){E=S[O];for(var R=p(E[0]),F=w(y(u(E.index),s.length),0),I=[],z=1;z<E.length;z++)k(I,L(E[z]));var T=E.groups;if(m){var N=x([R],I,F,s);void 0!==T&&k(N,T);var W=p(i(n,void 0,N))}else W=_(R,s,F,I,T,n);F>=C&&(M+=A(s,C,F)+W,C=F+R.length)}return M+A(s,C)}]}),!D||!S||E)},"8ba4":function(e,t,a){var i=a("23e7"),n=a("eac5");i({target:"Number",stat:!0},{isInteger:n})},b680:function(e,t,a){"use strict";var i=a("23e7"),n=a("da84"),r=a("e330"),o=a("5926"),s=a("408a"),l=a("1148"),c=a("d039"),u=n.RangeError,d=n.String,p=Math.floor,h=r(l),f=r("".slice),m=r(1..toFixed),_=function(e,t,a){return 0===t?a:t%2===1?_(e,t-1,a*e):_(e*e,t/2,a)},g=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},v=function(e,t,a){var i=-1,n=a;while(++i<6)n+=t*e[i],e[i]=n%1e7,n=p(n/1e7)},b=function(e,t){var a=6,i=0;while(--a>=0)i+=e[a],e[a]=p(i/t),i=i%t*1e7},w=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var i=d(e[t]);a=""===a?i:a+h("0",7-i.length)+i}return a},y=c((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!c((function(){m({})}));i({target:"Number",proto:!0,forced:y},{toFixed:function(e){var t,a,i,n,r=s(this),l=o(e),c=[0,0,0,0,0,0],p="",m="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return d(r);if(r<0&&(p="-",r=-r),r>1e-21)if(t=g(r*_(2,69,1))-69,a=t<0?r*_(2,-t,1):r/_(2,t,1),a*=4503599627370496,t=52-t,t>0){v(c,0,a),i=l;while(i>=7)v(c,1e7,0),i-=7;v(c,_(10,i,1),0),i=t-1;while(i>=23)b(c,1<<23),i-=23;b(c,1<<i),v(c,1,1),b(c,2),m=w(c)}else v(c,0,a),v(c,1<<-t,0),m=w(c)+h("0",l);return l>0?(n=m.length,m=p+(n<=l?"0."+h("0",l-n)+m:f(m,0,n-l)+"."+f(m,n-l))):m=p+m,m}})},c607:function(e,t,a){var i=a("da84"),n=a("83ab"),r=a("fce3"),o=a("c6b6"),s=a("9bf2").f,l=a("69f3").get,c=RegExp.prototype,u=i.TypeError;n&&r&&s(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!l(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},cd46:function(e,t,a){},d12c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-cascader",{attrs:{filterable:e.filterable,placeholder:"请选择",options:e.options,clearable:"",size:"mini",props:e.prop},on:{change:e.changes,"expand-change":e.handleItemChange},model:{value:e.newDefaultArea,callback:function(t){e.newDefaultArea=t},expression:"newDefaultArea"}})],1)},n=[],r=(a("e3df"),a("42aa"),a("b1f0"),{data:function(){return{options:[],newDefaultArea:[]}},props:{defaultArea:{type:Array},filterable:{type:Boolean,default:!1},Level:{type:Number,default:3},prop:{type:Object,default:function(){return{value:"value",children:"cities"}}}},methods:{changes:function(e){var t=this;this.$nextTick((function(){t.$emit("changeDefaultArea",t.newDefaultArea)}))},handleItemChange:function(e){var t,a=this;1==e.length&&(t=e[0]),2==e.length&&(t=e[1]),this.$axios({method:"get",url:this.$api.getAreaListOption,params:{p_id:t,is_page:1}}).then((function(t){for(var i in a.options){if(1==e.length&&a.options[i].value==e[0]&&!a.options[i].cities.length)for(var n in t.data.data){var r={};r.label=t.data.data[n].area_name,r.value=t.data.data[n].area_id,3==a.Level&&(r.cities=[]),a.options[i].cities.push(r)}if(2==e.length&&3==a.Level)for(var o in a.options[i].cities)if(a.options[i].cities[o].value==e[1]&&!a.options[i].cities[o].cities.length)for(var s in t.data.data){var l={};l.label=t.data.data[s].area_name,l.value=t.data.data[s].area_id,a.options[i].cities[o].cities.push(l)}}}))},initAddress:function(){var e=this,t={level:2},a=this;a.$axMethod.getAreaList(t).then((function(t){var i={};for(var n in t.data.data){i={label:t.data.data[n].area_name,value:t.data.data[n].area_id,cities:[]};a.options.push(i)}if(e.defaultArea.length<=1)return!1;var r={level:3,p_id:a.defaultArea[0]};a.$axMethod.getAreaList(r).then((function(t){for(var i in a.options)if(a.options[i].value==r.p_id&&!a.options[i].cities.length)for(var n in t.data.data){var o={label:t.data.data[n].area_name,value:t.data.data[n].area_id,cities:[]};a.options[i].cities.push(o)}if(e.defaultArea.length<=2)return!1;var s={level:4,p_id:a.defaultArea[1]};a.$axMethod.getAreaList(s).then((function(e){for(var t in a.options)for(var i in a.options[t].cities)if(a.options[t].cities[i].value==s.p_id&&!a.options[t].cities[i].cities.length)for(var n in e.data.data){var r={label:e.data.data[n].area_name,value:e.data.data[n].area_id};a.options[t].cities[i].cities.push(r)}}))}))}))}},mounted:function(){var e=this;if(this.defaultArea.length>1)this.newDefaultArea=this.defaultArea.filter((function(e){return e})),this.initAddress();else{var t={level:2};this.$axMethod.getAreaList(t).then((function(t){var a={};for(var i in t.data.data){a={label:t.data.data[i].area_name,value:t.data.data[i].area_id,cities:[]};e.options.push(a)}}))}},watch:{defaultArea:{handler:function(e,t){this.options=[],this.newDefaultArea=this.defaultArea,this.initAddress()},deep:!0}}}),o=r,s=a("2877"),l=Object(s["a"])(o,i,n,!1,null,null,null);t["a"]=l.exports},eac5:function(e,t,a){var i=a("861d"),n=Math.floor;e.exports=Number.isInteger||function(e){return!i(e)&&isFinite(e)&&n(e)===e}}}]);
//# sourceMappingURL=chunk-59967344.c75f81aa.js.map