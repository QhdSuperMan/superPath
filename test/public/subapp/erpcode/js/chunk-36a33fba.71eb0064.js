(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-36a33fba"],{"52be":function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));t("410a"),t("1269");var n,r,i,l=t("1a53"),o=(t("fca2"),navigator.userAgent),m=o.match(/Chrome\D?\d+/i);function s(){try{if(o.match(/Windows\sPhone/i))return!0;if(o.match(/iPhone|iPod|iPad/i))return!0;if(o.match(/Android/i))return!0;if(o.match(/Edge\D?\d+/i))return!0;var e=o.match(/Trident\D?\d+/i),a=o.match(/MSIE\D?\d+/i),t=o.match(/OPR\D?\d+/i),n=o.match(/Firefox\D?\d+/i),r=o.match(/x64/i);if(!e&&!a&&r)return!0;if(n){if(n=n[0].match(/\d+/),n[0]>=41||r)return!0}else if(t){if(t=t[0].match(/\d+/),t[0]>=32)return!0}else if(!e&&!a&&m&&(m=m[0].match(/\d+/),m[0]>=41))return!0;return!1}catch(i){return!0}}function d(){}function u(){if("loading"!=i&&"complete"!=i){i="loading";var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script"),t=document.createElement("script"),n="https://localhost:8443/CLodopfuncs.js?priority=1",l="https://localhost:8444/CLodopfuncs.js?priority=0",o="https://localhost.lodop.net:8443/CLodopfuncs.js?priority=1",s="https://localhost.lodop.net:8444/CLodopfuncs.js?priority=0";try{var u=m[0].match(/\d+/)[0];u>=84?(a.src=o,t.src=s):(a.src=n,t.src=l)}catch(p){a.src="https://localhost:8443/CLodopfuncs.js?priority=1",t.src="https://localhost:8444/CLodopfuncs.js?priority=0"}a.onload=t.onload=function(){i="complete",d()},a.onerror=t.onerror=function(e){i="complete",d()},e.insertBefore(a,e.firstChild),e.insertBefore(t,e.firstChild),r=!!(a.src+t.src).match(/\/\/localho|\/\/127.0.0./i)}}function p(e,a){var t=y&&!!g.match(/x64/i);m[0].match(/\d+/)[0]>=84?t?"install_lodop64":"install_lodop32":"CLodop_Setup_for_Win32NT_https_3.083Extend";var o,d="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='https://gyl.taijierp.com/open/TjerpLop/DownLodTJERPLodop' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",u="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='https://gyl.taijierp.com/open/TjerpLop/DownLodTJERPLodop' target='_self'>执行升级</a>,升级后请重新进入。</font>",p="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='https://gyl.taijierp.com/open/TjerpLop/DownLodTJERPLodop' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",c="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='https://gyl.taijierp.com/open/TjerpLop/DownLodTJERPLodop' target='_self'>执行升级</a>,升级后请重新进入。</font>",_="<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>",b="<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>",h="<br><font color='#FF00FF'>Web打印服务CLodop未安装启动，点击这里<a href='https://gyl.taijierp.com/open/TjerpLop/DownLodTJERPLodop' target='_self'>下载执行安装</a>",f="<br>（若此前已安装过，可<a href='CLodop.protocol:setup' target='_self'>点这里直接再次启动</a>）",v="，成功后请刷新本页面。</font>",w="<br><font color='#FF00FF'>Web打印服务CLodop需升级!点击这里<a href='https://gyl.taijierp.com/open/TjerpLop/DownLodTJERPLodop' target='_self'>执行升级</a>,升级后请刷新页面。</font>";try{var g=navigator.userAgent,y=!!g.match(/MSIE/i)||!!g.match(/Trident/i);if(s()){try{o=getCLodop()}catch(F){}if(!o&&"complete"!==i)return void("loading"==i?Object(l["b"])({title:"消息",message:"网页还没下载完毕，请稍等一下再操作",dangerouslyUseHTMLString:!0}):Object(l["b"])({title:"消息",message:"没有加载CLodop的主js，请先调用loadCLodop过程",dangerouslyUseHTMLString:!0}));if(!o)return void Object(l["b"])({title:"消息",message:h+(r?f:"")+v,dangerouslyUseHTMLString:!0});CLODOP.CVERSION<"4.1.0.1"&&m[0].match(/\d+/)[0]>=84&&Object(l["b"])({title:"消息",message:w,dangerouslyUseHTMLString:!0}),a&&a.parentNode&&a.parentNode.removeChild(a),e&&e.parentNode&&e.parentNode.removeChild(e)}else{t=y&&!!g.match(/x64/i);if(e||a?o=y?e:a:n?o=n:(o=document.createElement("object"),o.setAttribute("width",0),o.setAttribute("height",0),o.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),y?o.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):o.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(o),n=o),!o||!o.VERSION){if(g.indexOf("Chrome")>=0&&Object(l["b"])({title:"消息",message:b,dangerouslyUseHTMLString:!0}),g.indexOf("Firefox")>=0){var T=t?p:d;Object(l["b"])({title:"消息",message:_+T,dangerouslyUseHTMLString:!0})}return o}}if(o.VERSION<"6.2.2.0"&&m[0].match(/\d+/)[0]>=84&&!s()){var D=t?c:u;Object(l["b"])({title:"消息",message:D,dangerouslyUseHTMLString:!0})}return o.SET_LICENSES("甲乙丙丁（北京）电子商务股份有限公司","3A6CA10946B11B73566A29C9FB3098D5","",""),o}catch(F){alert("getLodop出错:"+F)}}s()&&u()},"78d2":function(e,a,t){"use strict";var n={};t.r(n),t.d(n,"serviceOutbound",(function(){return d}));var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[null!=e.params?t("div",[t("div",{attrs:{id:"print-body"}},[t("TABLE",{staticStyle:{"border-collapse":"collapse","word-break":"break-all","word-wrap":"break-word"},attrs:{border:"1",cellSpacing:"0",cellPadding:"1",width:"100%",bordercolor:"#333333"}},[t("thead",[t("TR",e._l(e.printData.printBody,(function(a,n){return t("TD",{key:n,attrs:{width:a.width}},[t("DIV",{attrs:{align:"center"}},[t("b",[e._v(e._s(a.name))])])],1)})),1)],1),t("TBODY",e._l(e.tableData,(function(a,n){return t("TR",{key:a.id},e._l(e.printData.printBody,(function(r){return t("td",{key:r,attrs:{align:"center"}},[t("font",[e._v(e._s(r.value?a[r.value]:n+1))])],1)})),0)})),1),t("tfoot",[t("tr",e._l(e.printData.printBody,(function(a,n){return t("td",{key:n,attrs:{align:"center"}},[t("font",[e._v(e._s(a.formatter?e.updateThis(a.formatter,[e.params[a.sum],e.params,a,e.allData]):a.sum?"合计"!=a.sum?e.params[a.sum]:"合计":""))])],1)})),0)])],1)],1),t("div",{attrs:{id:"print-footer"}},[t("TABLE",{attrs:{border:"0",cellSpacing:"0",cellPadding:"0",width:"100%"}},[t("TBODY",e._l(e.printData.printFooter,(function(a,n){return t("TR",{key:n},e._l(a,(function(n,r){return t("TD",{key:r,attrs:{colspan:n.colspan?n.colspan:0}},[t("font",[e._v(e._s(n.label)+": "),t("SPAN",[e._v(e._s(n.formatter?n.formatter(e.params[n.name],e.params,a,e.allData):""!=n.name?e.params[n.name]:"_______"))])],1)],1)})),1)})),1)],1)],1),t("div",{attrs:{id:"print-header"}},[t("DIV",{staticClass:"size16",staticStyle:{"LINE-HEIGHT":"30px"},attrs:{align:"center"}},[t("STRONG",[t("font",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.params.company_name)+e._s(e.printData.printHeader.title))])],1)],1),t("TABLE",{attrs:{border:"0",cellSpacing:"0",cellPadding:"0",width:"100%"}},[t("TBODY",e._l(e.printData.printHeader.Header,(function(a,n){return t("TR",{key:n},e._l(a,(function(a,n){return t("TD",{key:n,attrs:{colspan:a.colspan?a.colspan:0}},[t("font",[e._v(e._s(a.label)+": "),t("SPAN",[e._v(e._s(a.formatter?a.formatter(a,e.params,e.allData):e.params[a.name]))])],1)],1)})),1)})),1)],1)],1)]):e._e()])},i=[],l=t("5530"),o=(t("1e09"),t("42aa"),t("b1f0"),t("7801"),t("3c64"),t("e326"),t("3736"),t("52be")),m=t("2f62"),s=(t("410a"),t("6f78"),t("fca2")),d={printData:{printHeader:{title:"销售出库打印单",data:{id:"outstock_id",url:"serviceStationGetDeliveryPrintSalesOutInfo",type:1},Header:[[{label:"单据日期",name:"add_time"},{label:"单据号",name:"outstock_sn"}],[{label:"业务员",name:"add_user_name"},{label:"客户",name:"customer_name"}]]},printBody:[{width:"20%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"10%",name:"单位",value:"unit_name"},{width:"10%",name:"数量",value:"real_num",sum:"all_num",formatter:function(e,a,t,n){return this.$utils.sum(n.goods_list,"real_num")}},{width:"10%",name:"单价",value:"unit_price",formatter:s["c"].priceFormatNone},{width:"10%",name:"金额",value:"total_price",sum:"all_price",formatter:function(e,a,t,n){return this.$utils.sum(n.goods_list,"total_price")}},{width:"10%",name:"仓库",value:"warehouse_name"},{width:"10%",name:"货位",value:"allocation_name"},{width:"15%",name:"年周批次",value:"batch"}],printFooter:[[{label:"收货人",name:"customer_name"},{label:"电话",name:"customer_mobile"},{label:"详细地址",name:"address"}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"本单结算金额",name:"settlement_price"}],[{label:"摘要",name:"abstract",colspan:3}]]}},u={printData:{printBody:[{width:"32%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"10%",name:"年周/批次",value:"batch"},{width:"15%",name:"货位",value:"allocation_name"},{width:"8%",name:"数量",value:"goods_num",sum:"goods_num"},{width:"10%",name:"采购价",value:"purchase_price"},{width:"10%",name:"金额",value:"goods_price",sum:"goods_price"},{width:"15%",name:"工厂代码",value:"factory_code"}],printFooter:[[{label:"备注",name:"remark"}],[{colspan:2,label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""}]],printHeader:{title:"采购退货单",data:{id:"refund_id",url:"printReturnGoods",type:8},Header:[[{label:"单据日期",name:"add_time"},{label:"单据号",name:"refund_sn"},{label:"仓库名称",name:"warehouse_name"}],[{colspan:2,label:"供应商",name:"supplier_name"},{label:"采购员",name:"buyer_name"}],[{colspan:3,label:"部门",name:"department_name"}]]}}},p={printData:{printBody:[{width:"5%",name:"序号"},{width:"25%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"5%",name:"单位",value:"unit_name"},{width:"5%",name:"数量",value:"real_num",sum:"outstock_num"},{width:"10%",name:"单价",value:"true_unit_price"},{width:"10%",name:"金额",value:"subtotal_price",sum:"subtotal_price",formatter:s["c"].priceFormatNone},{width:"15%",name:"仓库",value:"warehouse_name"},{width:"15%",name:"货位",value:"allocation_name"},{width:"10%",name:"年周/批次",value:"batch"}],printFooter:[[{label:"收货人",name:"consignee_name_mobile"},{colspan:3,label:"收货地址",name:"customer_address"}],[{colspan:3,label:"摘要",name:"abstract"},{label:"本单结算金额",name:"settlement_price",formatter:s["c"].priceFormatNone}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""},{label:"收货人(签字)",name:""}]],printHeader:{title:"销售出库单",data:{id:"outstock_id",url:"printOutstock",type:1},Header:[[{label:"单据日期",name:"business_time"},{label:"单据号",name:"outstock_sn"},{label:"商城订单号",name:"ec_order_sn"}],[{label:"业务员",name:"business_name"},{colspan:2,label:"客户",name:"customer_name"}],[{label:"部门",name:"department_name"},{label:"回款方式",name:"payment_method"},{label:"物流公司",name:"settlement_customer_name"}]]}}},c={printData:{printBody:[{width:"5%",name:"序号"},{width:"23%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"5%",name:"单位",value:"unit_name"},{width:"5%%",name:"数量",value:"real_num",sum:"outstock_num"},{width:"10%",name:"单价",value:"true_unit_price"},{width:"10%",name:"金额",value:"subtotal_price",sum:"subtotal_price",formatter:s["c"].priceFormatNone},{width:"10%",name:"仓库",value:"warehouse_name"},{width:"10%",name:"货位",value:"allocation_name"},{width:"10%",name:"工厂代码",value:"factory_code"}],printFooter:[[{label:"返利",name:"rebate_price"},{label:"授信",name:"credit_price"},{label:"预收",name:"deposits_price"},{label:"结算金额",name:"settlement_price"}],[{label:"收货人",name:"consignee_name_mobile"},{colspan:3,label:"收货地址",name:"customer_address"}],[{colspan:2,label:"摘要",name:"abstract"}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""},{label:"收货人(签字)",name:""}]],printHeader:{title:"汽配单",data:{id:"outstock_id",url:"printPartsList",type:15},Header:[[{label:"单据日期",name:"business_time"},{label:"单据号",name:"outstock_sn"},{label:"商城订单号",name:"ec_order_sn"}],[{label:"业务员",name:"business_name"},{colspan:2,label:"客户",name:"customer_name"}],[{label:"部门",name:"department_name"},{label:"回款方式",name:"payment_method"},{label:"物流公司",name:"settlement_customer_name"}]]}}},_={printData:{printBody:[{width:"13%",name:"仓库名称",value:"warehouse_name",sum:"合计"},{width:"10%%",name:"业务类型",value:"business_type"},{width:"26%",name:"商品名称",value:"goods_name"},{width:"7%",name:"单位",value:"unit_name"},{width:"5%",name:"数量",value:"real_num",sum:"total_num"},{width:"10%",name:"价格",value:"new_goods_price",formatter:s["c"].priceFormatNone},{width:"8%",name:"磨损费",value:"abrasion_price",sum:"total_abrasion_price"},{width:"8%",name:"内垫费",value:"intube_price",sum:"total_intube_price"},{width:"13%",name:"小计金额",value:"total_price",formatter:s["c"].priceFormatNone,sum:"total_price"}],printFooter:[[{label:"收货人",name:"consignee_name_mobile"},{colspan:3,label:"收货人地址",name:"customer_address"}],[{colspan:3,label:"备注",name:"abstract"},{label:"本单结算金额",name:"settlement_price"}],[{label:"库管人(签字)",name:""},{label:"收货人(签字)",name:""}]],printHeader:{title:"三包出库单",data:{id:"outstock_id",url:"inventoryPrintThree",type:10},Header:[[{colspan:2,label:"客户名称",name:"customer_name"},{label:"业务员",name:"business_name"}],[{label:"回款方式",name:"payment_method"},{label:"物流公司",name:"settlement_customer_name"},{label:"单据号",name:"outstock_sn"}]]}}},b={printData:{printBody:[{width:"35%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"25%",name:"年周/批次",value:"batch"},{width:"15%",name:"仓库",value:"warehouse_name"},{width:"15%",name:"货位",value:"allocation_name"},{width:"10%",name:"单位",value:"unit_name"},{width:"10%",name:"数量",value:"real_num",sum:"total_num"}],printFooter:[[{label:"收货人",name:"consignee_name_mobile"},{colspan:3,label:"收货人地址",name:"customer_address"}],[{label:"备注",name:"abstract"}],[{label:"库管人(签字)",name:""},{label:"收货人(签字)",name:""}]],printHeader:{title:"三包出库拣货单",data:{id:"outstock_id",url:"inventoryPrintPickThree",type:11},Header:[[{colspan:2,label:"客户名称",name:"customer_name"},{label:"业务员",name:"business_name"}],[{label:"回款方式",name:"payment_method"},{label:"物流公司",name:"settlement_customer_name"},{label:"单据号",name:"outstock_sn"}]]}}},h={printData:{printBody:[{width:"5%",name:"序号"},{width:"30%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"20%",name:"年周/批次",value:"batch"},{width:"15%",name:"仓库名称",value:"warehouse_name"},{width:"15%",name:"货位",value:"allocation_name"},{width:"15%",name:"数量",value:"real_num",sum:"subtotal_num"}],printFooter:[[{label:"收货人",name:"consignee_name_mobile"},{colspan:3,label:"收货地址",name:"customer_address"}],[{colspan:3,label:"摘要",name:"abstract"},{colspan:3,label:"本单结算金额",name:"settlement_price",formatter:s["c"].priceFormatNone}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""},{label:"收货人(签字)",name:""}]],printHeader:{title:"销售拣货单",data:{id:"outstock_id",url:"printPick",type:2},Header:[[{label:"单据日期",name:"outstock_time"},{label:"单据号",name:"outstock_sn"},{label:"商城订单号",name:"ec_order_sn"}],[{label:"业务员",name:"business_name"},{label:"客户",name:"customer_name"},{label:"交货方式",name:"hand_over_name"}],[{label:"送货需求",name:"delivery_demand_name"},{label:"回款方式",name:"payment_method"},{label:"物流公司",name:"settlement_customer_name"}]]}}},f={printData:{printBody:[{width:"15%",name:"客户名称",value:"customer_name"},{width:"30%",name:"商品名称",value:"goods_name"},{width:"10%",name:"发货数量",value:"delivery_num",sum:"delivery_num"},{width:"10%",name:"物流公司",value:"logistics_name"},{width:"10%",name:"物流票号",value:"logistics_number"},{width:"10%",name:"运费金额",value:"postage_price",sum:"postage_price"},{width:"15%",name:"运费结算方式",value:"postage_type_name"}],printFooter:[[{colspan:3,label:"备注",name:"remark"}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{colspan:2,label:"发货人(签字)",name:""}]],printHeader:{title:"销售发货单",data:{id:"delivery_id",url:"printDelivery",type:3},Header:[[{label:"业务日期",name:"business_time"},{label:"单据号",name:"delivery_sn"},{label:"部门",name:"department_name"}],[{label:"物流公司",name:"logistics_name"},{colspan:2,label:"物流票号",name:"logistics_number"}],[{label:"运费金额",name:"postage_price"},{colspan:2,label:"运费结算方式",name:"postage_type_name"}]]}}},v={printData:{printBody:[{width:"10%",name:"客户名称",value:"customer_name"},{width:"20%",name:"商品名称",value:"goods_name"},{width:"10%",name:"发货数量",value:"delivery_goods_num",sum:"delivery_num"},{width:"15%",name:"物流公司",value:"logistics_name"},{width:"10%",name:"物流票号",value:"logistics_number"},{width:"10%",name:"运费金额",value:"postage_price",sum:"postage_price"},{width:"10%",name:"运费结算方式",value:"postage_type_name"},{width:"15%",name:"意向物流",value:"intentional_logistics"}],printFooter:[[{colspan:3,label:"备注",name:"remark"}],[{label:"制单人",name:"username"},{label:"审核人",name:"auditor_name"},{colspan:2,label:"发货人(签字)",name:""}]],printHeader:{title:"发货单",data:{id:"other_delivery_id",url:"printOtherDelivery",type:13},Header:[[{label:"物流公司",name:"logistics_name"},{colspan:2,label:"物流票号",name:"logistics_number"}],[{label:"运费金额",name:"postage_price"},{colspan:2,label:"运费结算方式",name:"postage_type_name"}],[{colspan:3,label:"单据号",name:"other_delivery_sn"}]]}}},w={printData:{printBody:[{width:"32%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"10%",name:"年周/批次",value:"batch"},{width:"15%",name:"货位",value:"allocation_name"},{width:"8%",name:"数量",value:"goods_num",sum:"num"},{width:"10%",name:"采购价",value:"purchase_price"},{width:"10%",name:"金额",value:"subtotal_price",sum:"subtotal_price"},{width:"15%",name:"工厂代码",value:"factory_code"}],printFooter:[[{colspan:3,label:"备注",name:"remark"}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""}]],printHeader:{title:"采购入库单",data:{id:"instorage_id",url:"printInStorage",type:4},Header:[[{label:"单据日期",name:"add_time"},{label:"单据号",name:"instorage_sn"},{label:"仓库名称",name:"warehouse_name"}],[{colspan:2,label:"供应商",name:"supplier_name"},{label:"采购员",name:"buyer_name"}],[{label:"部门",name:"department_name"},{label:"分摊方式",name:"other_price_type"},{label:"其它费用",name:"other_price"}]]}}},g={printData:{printBody:[{width:"35%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"10%",name:"年周/批次",value:"batch"},{width:"15%",name:"货位",value:"allocation_name"},{width:"15%",name:"入库数量",value:"goods_num",sum:"num"},{width:"10%",name:"采购价",value:"purchase_price"},{width:"15%",name:"小计金额",value:"subtotal_price",sum:"subtotal_price"}],printFooter:[[{colspan:3,label:"备注",name:"remark"}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""}]],printHeader:{title:"其它入库",data:{id:"instorage_id",url:"otherStoragePrintOtherInStorage",type:4},Header:[[{label:"单据日期",name:"add_time"},{label:"单据号",name:"instorage_sn"},{label:"仓库名称",name:"warehouse_name"}],[{colspan:2,label:"供应商",name:"supplier_name"},{label:"采购员",name:"buyer_name"}],[{label:"部门",name:"department_name"},{label:"分摊方式",name:"other_price_type"},{label:"其它费用",name:"other_price"}]]}}},y={printData:{printBody:[{width:"20%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"10%",name:"年周/批次",value:"batch"},{width:"10%",name:"调出仓库",value:"warehouse_name"},{width:"10%",name:"调出货位",value:"allocation_name"},{width:"10%",name:"调入仓库",value:"new_warehouse_name"},{width:"10%",name:"调入货位",value:"new_allocation_name"},{width:"10%",name:"数量",value:"new_goods_num",sum:"sum"}],printFooter:[[{label:"备注",name:"remark",colspan:3}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""}]],printHeader:{title:"调仓移库单",data:{id:"transfer_id",url:"printrTransfer",type:5},Header:[[{label:"单据日期",name:"business_time"},{label:"单据号",name:"transfer_sn"}],[{label:"调入组织",name:"new_company_name"}]]}}},T={printData:{printBody:[{width:"20%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"5%",name:"年周/批次",value:"batch"},{width:"5%",name:"数量",value:"goods_num",sum:"sum_number",formatter:s["c"].priceFormatNone},{width:"5%",name:"单价",value:"unit_price"},{width:"5%",name:"小计金额",value:"subtotal_price",formatter:s["c"].priceFormatNone,sum:"sum_price"},{width:"5%",name:"调出仓库",value:"warehouse_name"},{width:"5%",name:"调入仓库",value:"after_warehouse_name"}],printFooter:[[{label:"收货人",name:"remark",formatter:function(e,a){return a.consignee_name+a.consignee_mobile?a.consignee_mobile:""}},{label:"收货人地址",name:"customer_address"}],[{label:"备注",name:"remark",colspan:3}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""}]],printHeader:{title:"销售调拨单",data:{id:"transfer_id",url:"printrAllotPrint",type:6},Header:[[{label:"单据日期",name:"business_time"},{label:"单据号",name:"transfer_sn"},{label:"调出部门",name:"department_name"}],[{label:"调入组织",name:"after_company_name"},{label:"调入部门",name:"after_department_name"}]]}}},D={printData:{printBody:[{width:"25%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"15%",name:"数量",value:"goods_num",sum:"total_num"},{width:"15%",name:"单价",value:"sales_price"},{width:"15%",name:"小计金额",value:"total_price",sum:"total_subtotal_amount"},{width:"15%",name:"仓库",value:"warehouse_name"},{width:"15%",name:"年周/批次",value:"batch"}],printFooter:[[{label:"收货人",name:"remark",formatter:function(e,a){return a.consignee_name+a.consignee_mobile?a.consignee_mobile:""}},{label:"收货人地址",name:"address"}],[{label:"备注",name:"abstract",colspan:2},{label:"本单结算金额",name:"settlement_price"}],[{label:"制单人",name:"username"},{label:"审核人",name:"auditor_name"},{label:"库管人(签字)",name:""},{label:"收货人(签字)",name:""}]],printHeader:{title:"其它出库单",data:{id:"outstock_id",url:"printOtherStock",type:14},Header:[[{label:"单据日期",name:"add_time",formatter:function(e,a){return a.add_time?a.add_time.split(" ")[0]:""}},{label:"单据号",name:"outstock_sn"},{label:"部门",name:"department_name"},{label:"业务员",name:"business_name"}],[{label:"客户名称",name:"customer_name"}]]}}},F={printData:{printBody:[{width:"20%",name:"商品名称",value:"goods_name",sum:"合计"},{width:"10%",name:"数量",value:"outstock_goods_num",sum:"all_num",formatter:function(e,a,t,n){return s["c"].priceFormatNone(n.desc.all_num)}},{width:"10%",name:"单价",value:"unit_price",formatter:s["c"].priceFormatNone},{width:"10%",name:"金额",value:"subtotal_price",sum:"all_price",formatter:function(e,a,t,n){return s["c"].priceFormatNone(n.desc.all_price)}},{width:"10%",name:"仓库",value:"warehouse_name"},{width:"10%",name:"货位",value:"allocation_name"},{width:"15%",name:"工厂代码",value:"factory_code"}],printFooter:[[{label:"备注",name:"remark",colspan:3}],[{label:"制单人",name:"add_user_name"},{label:"审核人",name:"auditor_name"}]],printHeader:{title:"三包退货单",data:{id:"return_id",url:"printThressReturn",type:7},Header:[[{label:"单据日期",name:"business_time"},{label:"单据号",name:"return_sn"},{label:"部门",name:"department_name"}],[{label:"业务员",name:"business_name"},{label:"客户名称",colspan:2,name:"customer_name"}],[{label:"退货原因",name:"reason_name"},{label:"意向物流",name:"intentional_logistics"}]]}}},P=Object(l["a"])({salesReturn:u,outboundOrder:p,autoPartsList:c,warrantyOutbound:_,warrantyPickingOrders:b,salesPickingOrders:h,purchaseReceipt:w,salesToDeliverGoodsToPrint:f,otherShipmentToPrint:v,otherStoragePrint:g,warehouseTransfer:y,salesAllocation:T,otherOutboundSinglesToPrint:D,threeReturn:F},n),L={data:function(){return{P_ID:null,params:null,refundArry:[],currentIndex:0,printsNumber:0,dataI:0,outname:"",printData:{},indexStatus:0,status:!1,contains:[{typeName:"outboundOrder",id:"outstock_id",url:"printOutstock",type:1,params:{primary_id:1}},{typeName:"autoPartsList",id:"outstock_id",url:"printOutstock",type:1,params:{primary_id:2}},{typeName:"salesPickingOrders",id:"outstock_id",url:"printOutstock",type:1,params:{primary_id:3}}],tableData:null}},props:{title:String,ExcludeFooter:{type:Array,default:function(){return[]}},fieldUrl:{type:String,default:""},returnParams:{type:String,default:"info"},returnTableData:{type:String,default:"goods_list"}},watch:{title:function(e){this.init(e)}},methods:Object(l["a"])(Object(l["a"])({},Object(m["b"])(["printingStatus"])),{},{printPdf:function(e){var a=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r="",i=this.$publicFution.deepCopy(e);this.status?(this.refundArry.push(e[this.contains[this.indexStatus].id]),r=this.contains[this.indexStatus].url,i=Object.assign(i,this.contains[this.indexStatus].params)):(this.refundArry.push(e[this.printData.printHeader.data.id]),r=this.printData.printHeader.data.url);var o=this;this.$axios({method:"get",url:this.$api[r],params:Object(l["a"])(Object(l["a"])({},i),{},{repeat:!0})}).then((function(e){var r=e.data;200==r.code&&(a.status&&(a.printData=a.$publicFution.deepCopy(r.data.tmp),a.initPrint()),a.params=r.data[a.returnParams]?r.data[a.returnParams]:r.data,a.tableData=r.data[[a.returnTableData]],a.allData=r.data,a.$nextTick((function(){o.CreatePrintPage(t)})),n&&n(),a.fieldUrl&&a.dealPower(r.data.notFieldAuthHeader))})).catch((function(){n&&n()}))},updateThis:function(e,a){return e.apply(this,a)},dealPower:function(e){this.printData.printHeader&&this.printData.printHeader.Header&&(this.printData.printHeader.Header=P[this.title].printData.printHeader.Header.map((function(a){return a.filter((function(a){for(var t=0;t<e.length;t++)if(e[t]===a.name)return!1;return!0}))}))),this.printData.printFooter&&this.printData.printFooter&&(this.printData.printFooter=P[this.title].printData.printFooter.map((function(a){return a.filter((function(a){for(var t=0;t<e.length;t++)if(e[t]===a.name)return!1;return!0}))})))},printList:function(e,a){var t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length,i={};Array.isArray(a)&&a.forEach((function(a){i[a]=e[n][a]})),this.printPdf(i,0===n||n,(function(){n<r-1&&t.printList(e,a,n+1)}))},CreatePrintPage:function(e){var a=Object(o["a"])();a.PRINT_INIT(this.printData.printHeader.title),a.SET_PRINT_MODE("AUTO_CLOSE_PREWINDOW",1);var t="<style> table,td,th {border-width: 1px;border-style: solid;border-collapse: collapse;}</style>";a.ADD_PRINT_TABLE(110,"1.875%","95%",374,t+document.getElementById("print-body").innerHTML),a.SET_PRINT_STYLEA(0,"Vorient",3),a.ADD_PRINT_HTM(6,"2.25%","95%",77,document.getElementById("print-header").innerHTML),a.SET_PRINT_STYLEA(0,"ItemType",1),a.ADD_PRINT_HTM(489,19,"92.625%",80,document.getElementById("print-footer").innerHTML),a.SET_PRINT_STYLEA(0,"ItemType",1),a.SET_PRINT_STYLEA(0,"Horient",2),a.SET_PRINT_STYLEA(0,"Vorient",1),a.SET_PRINT_STYLEA(0,"LinkedItem",1),a.ADD_PRINT_HTM(1,680,200,100,'<span style="font-size:15px">第'.concat(this.params.print_times,"次打印</span>")),a.SET_PRINT_STYLEA(0,"ItemType",1),a.SET_PRINT_STYLEA(0,"Horient",0),a.ADD_PRINT_HTM(3,34,196,20,"<font><span tdata='pageNO'>第##页</span>/<span tdata='pageCount'>共##页</span></font>"),a.SET_PRINT_STYLEA(0,"ItemType",1);var n=this;e?a.PRINT():a.PREVIEW(),a.On_Return_Remain=!0,a.On_Return=function(e,a){n.P_ID=a,n.dataI++,1==a&&n.$axMethod.printTimesAdd({bill_id:n.refundArry.length?n.refundArry[n.currentIndex]:n.dataI,name:n.outname,type:n.printData.printHeader.data.type,hideLoding:!0}).then((function(e){n.printsNumber++,n.printsNumber>=n.refundArry.length&&(n.$emit("Search",""),n.currentIndex=0,n.printsNumber=0,n.refundArry=[])})),n.currentIndex++}},initPrint:function(){var e=this;this.printData.printFooter&&(this.printData.printFooter=this.printData.printFooter.map((function(a){return Array.isArray(a)&&(a=a.filter((function(a){if(!e.ExcludeFooter.includes(a.name))return!0}))),a})))},getFieldpower:function(){var e=this;this.$axios({url:"v2/open/FieldAuth/getFieldList",method:"get",params:{menu_action:this.fieldUrl}}).then((function(a){var t=a.data;t.code&&e.printData.printBody&&(e.printData.printBody=e.printData.printBody.filter((function(e){for(var a=0;a<t.data.length;a++)if(t.data[a].field===e.value)return!0})))}))},init:function(){var e=this;this.title&&(this.status=this.contains.some((function(a,t){return e.indexStatus=t,a.typeName==e.title})),this.status||(this.printData=this.$publicFution.deepCopy(P[this.title].printData),this.initPrint())),this.fieldUrl&&this.getFieldpower()}}),mounted:function(){this.init()}},S=L,H=t("2877"),E=Object(H["a"])(S,r,i,!1,null,"0f7315dc",null);a["a"]=E.exports}}]);
//# sourceMappingURL=chunk-36a33fba.71eb0064.js.map