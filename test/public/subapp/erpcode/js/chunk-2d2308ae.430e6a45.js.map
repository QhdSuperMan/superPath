{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/promotionpolicy.vue?19b0","webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/config/promotionpolicy.js","webpack://erpcode-[name]/src/components/element/sales/salesbefore/promotionpolicy/promotionpolicy.vue","webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/promotionpolicy.vue?2687","webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/promotionpolicy.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","params","on","companyChange","companyListInvok","model","value","callback","$$v","$set","expression","_l","item","key","company_id","company_name","class","type","_v","_s","clearTime","timeValue","staticStyle","$event","onSearch","onReset","authority","b_add","add_message","_e","b_del","deletes","b_pass","ditor","b_close","rubbishgb","ref","url","tableColumn","staticRenderFns","tableHeader","data","width","fixed","title","field","slots","default","scope","h","b_info","row","is_look","SeeInfo","policy_id","auditor_status_name","b_edit","handleEdit","goLookuser","policy_name","component"],"mappings":"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IC,UADzD,UACiF,WACpF,EAAKC,QAAQL,EAAMG,IAAIG,cAFpB,KAIDN,EAAMG,IAAIQ,YAJT,UASb,CACEf,MAAO,SACPC,MAAO,aACPH,MAAO,KAET,CACEE,MAAO,SACPC,MAAO,WACPH,MAAO,KAET,CACEE,MAAO,OACPC,MAAO,iBACPH,MAAO,KAET,CACEE,MAAO,OACPC,MAAO,iBACPH,MAAO,KAET,CACEE,MAAO,MACPC,MAAO,eACPH,MAAO,KAET,CACEE,MAAO,OACPC,MAAO,sBACPH,MAAO,KAET,CACEE,MAAO,OACPC,MAAO,WACPH,MAAO,UCxBf,GACA,4BACA,WACA,KAHA,WAIA,OACA,aACA,UACA,UAEA,QACA,kBAEA,UACA,oBAGA,SACA,UADA,SACA,GACA,iBACA,oCACA,6BAGA,cAPA,SAOA,GACA,IACA,kDACA,uCACA,kBAGA,QAdA,WAeA,4CACA,kBACA,kBAEA,SAnBA,SAmBA,GACA,gBACA,yCACA,wCAEA,+CAEA,+BAEA,WA5BA,SA4BA,GACA,qCACA,yBACA,6DAGA,QAlCA,WAmCA,mCAKA,OAJA,eACA,sBACA,kBAEA,EAGA,IADA,SACA,wCACA,4CAEA,mBACA,GACA,UACA,wBAEA,uCACA,MACA,gCACA,oBACA,qBAGA,qCAGA,UA7DA,WA8DA,mCAKA,OAJA,eACA,sBACA,kBAEA,EAGA,IADA,SACA,wCACA,4CAEA,mBACA,GACA,UACA,wBAEA,gCACA,MACA,gCACA,oBACA,qBAGA,qCAEA,MAvFA,SAuFA,GACA,mCAKA,OAJA,eACA,qBACA,kBAEA,EAOA,IALA,MACA,KACA,6BACA,gCACA,KACA,wCACA,4CAEA,OACA,iCACA,SACA,MACA,gCACA,oBACA,kCAGA,qCAEA,WAlHA,SAkHA,GAEA,mBACA,wCACA,gBAGA,QAzHA,SAyHA,GACA,mBACA,sCACA,gBAGA,YA/HA,WAgIA,mBACA,wCACA,iBAIA,QAtIA,WAuIA,OACA,mBACA,kCACA,6BACA,MACA,gCACA,oBACA,kCAGA,iDAEA,QAnJA,SAmJA,KAEA,OACA,uBACA,qBAEA,2CAGA,UA5KA,WA6KA,+BCjOqZ,I,YCOjZkB,EAAY,eACd,EACApE,EACA+C,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E","file":"js/chunk-2d2308ae.430e6a45.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"params\"},[_c('div',{attrs:{\"id\":\"leixin\"}},[_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"change\":_vm.companyChange,\"focus\":_vm.companyListInvok},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"政策日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{\"change\":_vm.clearTime},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"促销状态\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.auditor_status),callback:function ($$v) {_vm.$set(_vm.params, \"auditor_status\", $$v)},expression:\"params.auditor_status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":0}},[_vm._v(\"全部\")]),_c('el-option',{attrs:{\"label\":\"未审核\",\"value\":1}},[_vm._v(\"未审核\")]),_c('el-option',{attrs:{\"label\":\"已审核\",\"value\":2}},[_vm._v(\"已审核\")]),_c('el-option',{attrs:{\"label\":\"关闭\",\"value\":4}},[_vm._v(\"关闭\")])],1)],1),_c('el-form-item',{attrs:{\"size\":\"mini\"}},[_c('el-checkbox',{staticStyle:{\"margin\":\"0px 22px 0 62px\"},attrs:{\"false-label\":\"\",\"true-label\":\"1\",\"name\":\"type\"},model:{value:(_vm.params.past_due),callback:function ($$v) {_vm.$set(_vm.params, \"past_due\", $$v)},expression:\"params.past_due\"}},[_vm._v(\"已过期/已关闭\")])],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onSearch(1)}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(_vm.authority.b_add==1)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.add_message}},[_vm._v(\"新增 \")]):_vm._e(),(_vm.authority.b_del==1)?_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deletes}},[_vm._v(\"删除 \")]):_vm._e(),(_vm.authority.b_pass==1)?_c('el-button',{attrs:{\"icon\":\"iconfont icon-pass\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.ditor(1)}}},[_vm._v(\"审核 \")]):_vm._e(),(_vm.authority.b_close==1)?_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"iconfont icon-zuofei\",\"size\":\"mini\"},on:{\"click\":_vm.rubbishgb}},[_vm._v(\"关闭 \")]):_vm._e()],1),_c('xTable',{ref:\"xTable\",attrs:{\"ajax\":{ url: \"getPromotionPolicyList\", params: _vm.params },\"idssss\":\"11\",\"tableColumn\":_vm.tableColumn}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const tableHeader = {\n  data () {\n    return {\n      tableColumn: [{\n        type: \"checkbox\",\n        width: 44,\n        fixed: 'left'\n      },\n      {\n        title: '销售组织',\n        field: 'company_name'\n      },\n      {\n        field: 'name',\n        title: '操作',\n        width: 160,\n        fixed: \"right\",\n        slots: {\n          default: (scope, h) => {\n            return [\n              <el-button size=\"small\" type=\"text\" disabled={!(this.authority.b_info == 1 && scope.row.is_look == 1)} onClick={() => this.SeeInfo(scope.row.policy_id)} > 查看 </el-button>,\n              <el-button size=\"small\" type=\"text\" disabled={!(scope.row.auditor_status_name == '未审核' && this.authority.b_edit == 1 && scope.row.is_look == 1)}\n                onClick={() => this.handleEdit(scope.row.policy_id)}  > 修改  </el-button>,\n              <el-button type=\"text\" size=\"small\" disabled={!this.authority.b_info} onClick={() => { this.goLookuser(scope.row.policy_id) }}>使用情况明细</el-button>\n            ]\n          }\n        }\n      },\n      {\n        field: 'policy_name',\n        width: 156,\n        title: '政策名称',\n        slots: {\n          default: (scope, h) => {\n            return [\n              <el-link disabled={ !(this.authority.b_info == 1 && scope.row.is_look == 1)} onClick={() => {\n                this.SeeInfo(scope.row.policy_id)\n              }\n              }> {scope.row.policy_name} </el-link>\n            ]\n          }\n        }\n      },\n      {\n        title: '政策起始日期',\n        field: 'start_time',\n        width: 110\n      },\n      {\n        title: '政策截止日期',\n        field: 'end_time',\n        width: 110\n      },\n      {\n        title: '促销类型',\n        field: 'unit_type_name',\n        width: 120\n      },\n      {\n        title: '促销规则',\n        field: 'full_type_name',\n        width: 120\n      },\n      {\n        title: '审核人',\n        field: 'auditor_name',\n        width: 120\n      },\n      {\n        title: '促销状态',\n        field: 'auditor_status_name',\n        width: 120\n      },\n      {\n        title: '录入时间',\n        field: 'add_time',\n        width: 170\n      }\n      ]\n    }\n  }\n}","<template>\n\t<div class=\"params\">\n\t\t<div id=\"leixin\">\n\t\t\t<!-- <h3 class=\"title_container\">促销政策管理</h3> -->\n\t\t\t<div class=\"search_container\">\n\t\t\t\t<el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\">\n\t\t\t\t\t<el-form-item label=\"销售组织\" size=\"mini\">\n\t\t\t\t\t\t<el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" @change=\"companyChange\" @focus=\"companyListInvok\" filterable>\n\t\t\t\t\t\t\t<el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n\t\t\t\t\t\t\t\t<span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"政策日期\" size=\"mini\">\n\t\t\t\t\t\t<el-date-picker @change=\"clearTime\" v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n\t\t\t\t\t\t</el-date-picker>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"促销状态\" size=\"mini\">\n\t\t\t\t\t\t<el-select clearable v-model=\"params.auditor_status\">\n\t\t\t\t\t\t\t<el-option label=\"全部\" :value=\"0\">全部</el-option>\n\t\t\t\t\t\t\t<el-option label=\"未审核\" :value=\"1\">未审核</el-option>\n\t\t\t\t\t\t\t<el-option label=\"已审核\" :value=\"2\">已审核</el-option>\n\t\t\t\t\t\t\t<!-- <el-option label=\"作废\" :value=\"3\">作废</el-option> -->\n\t\t\t\t\t\t\t<el-option label=\"关闭\" :value=\"4\">关闭</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item size=\"mini\">\n\t\t\t\t\t\t<el-checkbox v-model=\"params.past_due\" false-label=\"\" true-label=\"1\" name=\"type\" style=\"margin:0px 22px 0 62px\">已过期/已关闭</el-checkbox>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item size=\"mini\" class=\"search-style search\">\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"onSearch(1)\" size=\"mini\">查询</el-button>\n\t\t\t\t\t\t<el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t\t<div class=\"add_delet\">\n\t\t\t\t<el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"add_message\" class=\"addBtn\" size=\"mini\" v-if=\"authority.b_add==1\">新增\n\t\t\t\t</el-button>\n\t\t\t\t<el-button plain icon=\"el-icon-delete\" @click=\"deletes\" size=\"mini\" v-if=\"authority.b_del==1\">删除\n\t\t\t\t</el-button>\n\t\t\t\t<el-button @click=\"ditor(1)\" icon=\"iconfont icon-pass\" type=\"primary\" size=\"mini\" v-if=\"authority.b_pass==1\">审核\n\t\t\t\t</el-button>\n\t\t\t\t<el-button plain icon=\"iconfont icon-zuofei\" @click=\"rubbishgb\" size=\"mini\" v-if=\"authority.b_close==1\">关闭\n\t\t\t\t</el-button>\n\t\t\t</div>\n\t\t\t<xTable :ajax='{ url: \"getPromotionPolicyList\", params: params }' idssss='11' ref='xTable'  :tableColumn='tableColumn' />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport { tableHeader } from \"./config/promotionpolicy\";\n\texport default {\n\t\tname: \"salesPromotionpolicy\",\n\t\tmixins: [tableHeader],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\toption_show: {\n\t\t\t\t\tSecond: false,\n\t\t\t\t\tThird: false\n\t\t\t\t},\n\t\t\t\tparams: {\n\t\t\t\t\tauditor_status: 0\n\t\t\t\t},\n\t\t\t\tisShow: true,\n\t\t\t\tshowDepartment: true\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tclearTime(val) {\n\t\t\t\tif (val == null) {\n\t\t\t\t\tdelete this.searchParams.start_time;\n\t\t\t\t\tdelete this.searchParams.end_time;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcompanyChange(val) {\n\t\t\t\tif (val) {\n\t\t\t\t\tthis.params.company_name = this.companyList.filter(\n\t\t\t\t\t\tobj => obj.company_id === val\n\t\t\t\t\t)[0].company_name;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonReset() {\n\t\t\t\tthis.$set(this, \"params\", { auditor_status: 0 });\n\t\t\t\tthis.timeValue = [];\n\t\t\t\tthis.onSearch(1);\n\t\t\t},\n\t\t\tonSearch(number) {\n\t\t\t\tif (this.timeValue) {\n\t\t\t\t\tthis.params.start_time = this.timeValue[0];\n\t\t\t\t\tthis.params.end_time = this.timeValue[1];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params.start_time = this.params.end_time = \"\";\n\t\t\t\t}\n\t\t\t\tthis.$refs.xTable._getData(number);\n\t\t\t},\n\t\t\tgoLookuser(policy_id) {\n\t\t\t\tlocalStorage.removeItem(\"policy_id\");\n\t\t\t\tlocalStorage.policy_id = policy_id;\n\t\t\t\tthis.$router.push({ path: \"/sales/promotionpolicy/lookuser\" });\n\t\t\t},\n\t\t\t//   作废的方法\n\t\t\trubbish() {\n\t\t\t\tif (this.multipleSelection.length < 1) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"请选择需要作废的信息！\",\n\t\t\t\t\t\ttype: \"warning\"\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet addr = [];\n\t\t\t\tfor (var i = 0; i < this.multipleSelection.length; i++) {\n\t\t\t\t\taddr.push(this.multipleSelection[i].policy_id);\n\t\t\t\t}\n\t\t\t\tlet creditArr = addr.toString();\n\t\t\t\tlet funcan = {\n\t\t\t\t\teachData: {\n\t\t\t\t\t\tpolicy_id: creditArr.toString()\n\t\t\t\t\t},\n\t\t\t\t\tUrlApi: \"auditorInvalidPromotionPolicy\",\n\t\t\t\t\tlist: {\n\t\t\t\t\t\tUrlApi: \"getPromotionPolicyList\",\n\t\t\t\t\t\tdata: this.TableData,\n\t\t\t\t\t\tesData: this.params\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.$common.audit(funcan, this.onSearch);\n\t\t\t},\n\t\t\t//关闭\n\t\t\trubbishgb() {\n\t\t\t\tif (this.multipleSelection.length < 1) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"请选择需要关闭的信息！\",\n\t\t\t\t\t\ttype: \"warning\"\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet addr = [];\n\t\t\t\tfor (var i = 0; i < this.multipleSelection.length; i++) {\n\t\t\t\t\taddr.push(this.multipleSelection[i].policy_id);\n\t\t\t\t}\n\t\t\t\tlet creditArr = addr.toString();\n\t\t\t\tlet funcan = {\n\t\t\t\t\teachData: {\n\t\t\t\t\t\tpolicy_id: creditArr.toString()\n\t\t\t\t\t},\n\t\t\t\t\tUrlApi: \"v2closePromotionPolicy\",\n\t\t\t\t\tlist: {\n\t\t\t\t\t\tUrlApi: \"getPromotionPolicyList\",\n\t\t\t\t\t\tdata: this.TableData,\n\t\t\t\t\t\tesData: this.params\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.$common.audit(funcan, this.onSearch);\n\t\t\t},\n\t\t\tditor(val) {\n\t\t\t\tif (this.multipleSelection.length < 1) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"请选择需要审核的信息\",\n\t\t\t\t\t\ttype: \"warning\"\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet api =\n\t\t\t\t\tval == 1\n\t\t\t\t\t\t? \"auditorPassPromotionPolicy\"\n\t\t\t\t\t\t: \"auditorInvalidPromotionPolicy\";\n\t\t\t\tlet policy_idArr = [];\n\t\t\t\tfor (var i = 0; i < this.multipleSelection.length; i++) {\n\t\t\t\t\tpolicy_idArr.push(this.multipleSelection[i].policy_id);\n\t\t\t\t}\n\t\t\t\tvar funcan = {\n\t\t\t\t\teachData: { policy_id: policy_idArr.join(\",\") },\n\t\t\t\t\tUrlApi: api,\n\t\t\t\t\tlist: {\n\t\t\t\t\t\tUrlApi: \"getPromotionPolicyList\",\n\t\t\t\t\t\tdata: this.TableData,\n\t\t\t\t\t\tesData: this.searchParams.params\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.$common.audit(funcan, this.onSearch);\n\t\t\t},\n\t\t\thandleEdit(val) {\n\t\t\t\t// 点击修改跳新增页面，根据传递的参数不同\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/sales/promotionpolicy/policyadd\",\n\t\t\t\t\tquery: { id: val }\n\t\t\t\t});\n\t\t\t},\n\t\t\tSeeInfo(val) {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/sales/promotionpolicy/seeInfo\",\n\t\t\t\t\tquery: { id: val }\n\t\t\t\t});\n\t\t\t},\n\t\t\tadd_message() {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/sales/promotionpolicy/policyadd\",\n\t\t\t\t\tquery: { id: \"\" }\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 对列表进行删除处理\n\t\t\tdeletes() {\n\t\t\t\tvar deledata = {\n\t\t\t\t\tdeleID: \"policy_id\",\n\t\t\t\t\tdeleSelect: this.multipleSelection,\n\t\t\t\t\tdeleApi: \"delPromotionPolicy\",\n\t\t\t\t\tlist: {\n\t\t\t\t\t\tUrlApi: \"getPromotionPolicyList\",\n\t\t\t\t\t\tdata: this.TableData,\n\t\t\t\t\t\tesData: this.searchParams.params\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.$common.deletes(deledata, \"删除\", this, this.onSearch);\n\t\t\t},\n\t\t\texamine(val, index) {\n\t\t\t\t//查看\n\t\t\t\tlet str = {\n\t\t\t\t\tcommont: \"goodsexamine\",\n\t\t\t\t\tgoods_id: index.goods_id\n\t\t\t\t};\n\t\t\t\tthis.$store.commit(types.examine_hide, str);\n\t\t\t}\n\t\t},\n\t\tactivated() {\n\t\t\tthis.onSearch(window.goPage);\n\t\t}\n\t};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promotionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promotionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./promotionpolicy.vue?vue&type=template&id=7ad082f9&scoped=true&\"\nimport script from \"./promotionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./promotionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ad082f9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}