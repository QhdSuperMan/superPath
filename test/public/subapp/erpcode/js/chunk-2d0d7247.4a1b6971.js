(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-2d0d7247"],{"760b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"销售组织",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.companyListInvok,change:e.clearBusiss},model:{value:e.params.company_id,callback:function(t){e.$set(e.params,"company_id",t)},expression:"params.company_id"}},e._l(e.companyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"客户分类",size:"mini"}},[a("el-select",{attrs:{clearable:""},on:{focus:e.customerTypeInvok,change:e.clearCustomer},model:{value:e.params.customer_type_id,callback:function(t){e.$set(e.params,"customer_type_id",t)},expression:"params.customer_type_id"}},e._l(e.customerTypeList,(function(e){return a("el-option",{key:e.customer_type_id,attrs:{label:e.customer_type_name,value:e.customer_type_id}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",size:"mini"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入",loading:e.loading,remote:"","remote-method":e.clienteleListInvok},on:{focus:e.clienteleListInvok,change:e.getCustomerChange},model:{value:e.params.customer_id,callback:function(t){e.$set(e.params,"customer_id",t)},expression:"params.customer_id"}},[a("ul",{staticClass:"customer customer-ul4 customer-ul2"},[a("li",[e._v("客户编号")]),a("li",[e._v("客户名称")]),a("li",[e._v("联系人")]),a("li",[e._v("联系电话")]),a("li",[e._v("区域")])]),e._l(e.customerList,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_name,value:t.customer_id}},[a("ul",{staticClass:"customer customer-ul4"},[a("li",{attrs:{title:t.customer_id}},[e._v(e._s(t.customer_id))]),a("li",{attrs:{title:t.customer_name}},[e._v(e._s(t.customer_name))]),a("li",{attrs:{title:t.contact_name}},[e._v(e._s(t.contact_name))]),a("li",{attrs:{title:t.customer_mobile}},[e._v(e._s(t.customer_mobile))]),a("li",[e._v(e._s(t.province_name)+"/"+e._s(t.city_name)+"/"+e._s(t.area_name))])])])}))],2)],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.tableData,"max-height":"600"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.authority.b_info?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.examine(t.row)}}},[e._v(" 查看 ")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_name",label:"销售组织"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"customer_name",label:"客户名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"customer_type_name",label:"客户分类"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"credit_balance",align:"right",label:"本年固定授信总额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.credit_balance))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"temporary_credit_balance",align:"right",label:"本年临时授信总额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormatNone")(t.row.temporary_credit_balance))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"use_credit",align:"right",label:"本年累积使用授信额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.use_credit))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"credit_occupying_price",align:"right",label:"本年累积授信占用额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.credit_occupying_price))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"surplus_credit",align:"right",label:"当前可使用授信额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormatNone")(t.row.surplus_credit))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"return_credit",align:"right",label:"本年已回款授信总额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.return_credit))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"non_return_credit",align:"right",label:"本年未回款授信总额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.non_return_credit))+" ")]}}])})],1)],1),a("div",{staticClass:"page_container"},[a("div",{staticClass:"pageNumber"},[e._v("每页显示")]),a("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":e.goPage,"page-size":e.pageSize1,"page-sizes":e.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:e.TableData.total},on:{"size-change":e.handleSizeChange,"update:currentPage":function(t){e.goPage=t},"update:current-page":function(t){e.goPage=t},"current-change":e.handleCurrentChange}})],1)])},i=[],r=a("5530"),o=(a("4de4"),a("d3b7"),a("65b0")),n=a("2f62"),l={name:"customeCreditfindDefault",data:function(){return{authority:{},timeValue:[],companyList:[],TableData:{tableData:[],per_page:[30,50,100,500],total:10},per_page:[30,50,100,500],pageSize:30,multipleSelection:[],is_disableds:!1,goPage:1,loading:!1,isSearch:!0}},computed:Object(r["a"])({},Object(n["c"])(["creditfindDefault_showGet"])),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["creditfindSearch_show","creditfindIndexACT"])),{},{clearBusiss:function(e){e&&(this.params.company_name=this.companyList.filter((function(t){return t.company_id===e}))[0].company_name)},getCustomerChange:function(e){e&&(this.params.customer_name=this.customerList.filter((function(t){return t.customer_id===e}))[0].customer_name)},clearCustomer:function(e){this.$set(this.params,"customer_id",""),e&&(this.params.customer_type_name=this.customerTypeList.filter((function(t){return t.customer_type_id===e}))[0].customer_type_name)},changeDate:function(e){this.params.start_time=e[0],this.params.end_time=e[1]},onSearch:function(){this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="",1==this.is_disableds?this.params.is_disabled=1:this.params.is_disabled="",Object.assign(this.searchParams.params,this.params,{page:1}),this.creditfindIndexACT({params:this.params,goPage:this.goPage,pageSize:this.pageSize}),Object(o["g"])(this.searchParams)},onReset:function(){this.timeValue=[],this.is_disableds=!1,this.$set(this,"params",{}),this.$set(this,"searchParams",{params:{},TableData:this.TableData,API:"getCustomerCreditList",vm:this}),this.onSearch()},examine:function(e){this.creditfindSearch_show({customer_id:e.customer_id,company_id:e.company_id,customer_name:e.customer_name,company_name:e.company_name,customer_type_name:e.customer_type_name,params:this.params,goPage:this.goPage,pageSize:this.pageSize}),this.$router.push({path:"/custom/creditfind/creditfind_search"})},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){Object.assign(this.searchParams.params,{per_page:e,page:1}),Object(o["g"])(this.searchParams)},handleCurrentChange:function(e){Object.assign(this.searchParams.params,{page:e}),Object(o["g"])(this.searchParams)},getCustomerType:function(){this.$common.options("getCustomerTypeListOption",this.customerType,{company_id:this.params.company_id})}}),mounted:function(){this.authority=JSON.parse(localStorage.getItem("authority")),this.creditfindDefault_showGet&&this.creditfindDefault_showGet.params&&(this.$set(this,"params",this.creditfindDefault_showGet.params),Object(o["l"])(this,this.creditfindDefault_showGet.params)),this.creditfindDefault_showGet&&this.creditfindDefault_showGet.goPage&&(this.params.page=this.creditfindDefault_showGet.goPage,this.params.per_page=this.creditfindDefault_showGet.pageSize),this.$set(this,"searchParams",{params:this.params,TableData:this.TableData,API:"getCustomerCreditList",vm:this}),Object(o["g"])(this.searchParams)}},c=l,m=a("2877"),u=Object(m["a"])(c,s,i,!1,null,"33ada525",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0d7247.4a1b6971.js.map