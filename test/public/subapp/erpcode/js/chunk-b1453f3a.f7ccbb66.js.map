{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderIndex.vue?26be","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/js/orderIndexHead.js","webpack://erpcode-[name]/src/components/element/purchase/purchaseorder/order/orderIndex.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderIndex.vue?b3dd","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/orderIndex.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/js/tableHead.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","params","on","companyListInvok","companyChange","model","value","callback","$$v","$set","expression","_l","item","key","company_id","company_name","class","type","_v","_s","timeValue","nativeOn","$event","indexOf","_k","keyCode","onSearch","supplierListInvok","supplierChangesave","supplier_id","supplier_name","DepartmentListInvok","departmentChange","department_id","department_name","checkTime","is_company_service","_e","onReset","authority","b_add","orderAdd","b_del","deletes","b_pass","shenHe","b_nopass","AUDIT_GET","closeF","b_import","dialogEmployee","downloadF","tableColumn","length","url","TableData","tableData","dealData","options","receiveUploadMsg","staticRenderFns","paramsModule","auditor_status","order_type","pay_method","tableHeader","data","console","log","width","align","title","field","fixed","slots","default","scope","a","Number","row","order_source","order_status","push","payMoney","b_turn","is_relation","turnSaleOrder","is_instorage","orderModify","storage","b_info","orderSee","h","order_sn","headerAlign","formatter","visible","Boolean","localStorage","getItem","methods","initParams","$route","Object","assign","$router","path","query","order_id","refund","id","ec_order_sn","return","name","mixins","$publicFution","deepCopy","newresult","computed","$refs","upload","stateOpen","$axMethod","multipleSelection","$message","message","addr","i","orderArr","toString","employeeChange","val","buyer_name","employeeList","filter","buyer_id","downloadFileUrlOrder","then","res","code","window","location","href","companyList","supplierList","departmentList","selectRowChangeBg","funcan","examineID","eachData","examineApi","list","UrlApi","esData","$common","examineFun","zuofei","orderSeeACT","goPage","pageSize","orderAddACT","timeF","start_time","end_time","audit_start_time","audit_end_time","xTable","_getData","number","deledata","deleID","deleSelect","deleApi","page","activated","component","common","_routeParams","transferType","portStockEarlyWarningChangeOrderInfo","mapActions","getRebatePrice","brand_id","rebate_balance","salesorderAdd","Buy_order","random","Math","floor","loading","stockEarlyWarningChangeOrderInfo","portParams","_info","info","goods_list","keys","forEach","remark","abstract","warehouse_id","employee_id","opthionList","orderAddGet","orderIndexACT","map","unit_name","unit_id","remaining_goods_num","goods_num","handleEdit","column","property","_proxy","batch","getWeek","param","num","price","totalPrice","computeTotal","catch","error"],"mappings":"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","file":"js/chunk-b1453f3a.f7ccbb66.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"params\"},[_c('div',{attrs:{\"id\":\"leixin\"}},[_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"filterFormRef\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"maxlength\":\"100\"},on:{\"focus\":_vm.companyListInvok,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"placeholder\":\"请输入\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearch(1)}},model:{value:(_vm.params.order_sn),callback:function ($$v) {_vm.$set(_vm.params, \"order_sn\", $$v)},expression:\"params.order_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"maxlength\":\"100\",\"filter-method\":_vm.supplierListInvok,\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.supplierChangesave,\"focus\":_vm.supplierListInvok},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplierList),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"订单类型\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.order_type),callback:function ($$v) {_vm.$set(_vm.params, \"order_type\", $$v)},expression:\"params.order_type\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}},[_vm._v(\"全部\")]),_c('el-option',{attrs:{\"label\":\"普通订单\",\"value\":1}},[_vm._v(\"普通订单\")]),_c('el-option',{attrs:{\"label\":\"首配订单\",\"value\":2}},[_vm._v(\"首配订单\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"maxlength\":\"100\"},on:{\"focus\":_vm.DepartmentListInvok,\"change\":_vm.departmentChange},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\"}},[_c('erpEmployee',{attrs:{\"title\":\"请选择采购员\",\"searchParams\":{ company_id: _vm.params.company_id }},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"来源单号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearch(1)}},model:{value:(_vm.params.plan_sn),callback:function ($$v) {_vm.$set(_vm.params, \"plan_sn\", $$v)},expression:\"params.plan_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"审核日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.checkTime),callback:function ($$v) {_vm.checkTime=$$v},expression:\"checkTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"支付方式\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.pay_method),callback:function ($$v) {_vm.$set(_vm.params, \"pay_method\", $$v)},expression:\"params.pay_method\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":0}},[_vm._v(\"全部\")]),_c('el-option',{attrs:{\"label\":\"在线支付\",\"value\":1}},[_vm._v(\"在线支付\")]),_c('el-option',{attrs:{\"label\":\"线下支付\",\"value\":2}},[_vm._v(\"线下支付\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"审核状态\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.auditor_status),callback:function ($$v) {_vm.$set(_vm.params, \"auditor_status\", $$v)},expression:\"params.auditor_status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":0}},[_vm._v(\"全部\")]),_c('el-option',{attrs:{\"label\":\"未审核\",\"value\":1}},[_vm._v(\"未审核\")]),_c('el-option',{attrs:{\"label\":\"已审核\",\"value\":2}},[_vm._v(\"已审核\")]),_c('el-option',{attrs:{\"label\":\"作废\",\"value\":3}},[_vm._v(\"作废\")]),_c('el-option',{attrs:{\"label\":\"关闭\",\"value\":4}},[_vm._v(\"关闭\")])],1)],1),(_vm.is_company_service != 1)?_c('el-form-item',{attrs:{\"label\":\"转单状态\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.params.turn_order_status),callback:function ($$v) {_vm.$set(_vm.params, \"turn_order_status\", $$v)},expression:\"params.turn_order_status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":0}},[_vm._v(\"全部\")]),_c('el-option',{attrs:{\"label\":\"未转单\",\"value\":1}},[_vm._v(\"未转单\")]),_c('el-option',{attrs:{\"label\":\"已转单\",\"value\":2}},[_vm._v(\"已转单\")])],1)],1):_vm._e(),(_vm.is_company_service)?_c('el-form-item',{attrs:{\"label\":\"商城订单号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearch(1)}},model:{value:(_vm.params.ec_order_sn),callback:function ($$v) {_vm.$set(_vm.params, \"ec_order_sn\", $$v)},expression:\"params.ec_order_sn\"}})],1):_vm._e(),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSearch(1)}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(_vm.authority.b_add==1)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.orderAdd}},[_vm._v(\"新增\")]):_vm._e(),(_vm.authority.b_del==1)?_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deletes}},[_vm._v(\"删除\")]):_vm._e(),(_vm.authority.b_pass==1)?_c('el-button',{staticClass:\"iconfont icon-pass\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.shenHe}},[_vm._v(\"审核\")]):_vm._e(),(_vm.authority.b_nopass==1)?_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.AUDIT_GET}},[_vm._v(\"弃审\")]):_vm._e(),(_vm.authority.b_close)?_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-circle-close-outline\",\"size\":\"mini\"},on:{\"click\":_vm.closeF}},[_vm._v(\"关闭\")]):_vm._e(),(_vm.authority.b_import == 1)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"plain\":\"\",\"icon\":\"iconfont icon-daoru5\",\"size\":\"mini\"},on:{\"click\":_vm.dialogEmployee}},[_vm._v(\"导入\")]):_vm._e(),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-download\",\"size\":\"mini\"},on:{\"click\":_vm.downloadF}},[_vm._v(\"下载模板\")])],1),(_vm.tableColumn.length > 0)?_c('xTable',{ref:\"xTable\",attrs:{\"ajax\":{ url: \"orderGetOrderList\", params: _vm.params },\"tableColumn\":_vm.tableColumn,\"xData\":_vm.TableData.tableData},on:{\"getData\":_vm.dealData}}):_vm._e(),_c('upload',{ref:\"upload\",attrs:{\"options\":_vm.options},on:{\"receiveUploadMsg\":_vm.receiveUploadMsg}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const paramsModule = {\n  auditor_status: 0,\n  order_type: '',\n  pay_method: 0\n}\nexport const tableHeader = {\n  data() {\n    console.log(this.is_company_service)\n    return {\n      tableColumn: [\n        {\n          type: \"checkbox\",\n          width: 44,\n          align: 'center'\n        },\n        {\n          title: '采购组织',\n          field: 'company_name',\n          width: 130\n        },\n        {\n          title: '订单类型',\n          field: 'order_type_name',\n          width: 85\n        },\n        {\n          title: '操作',\n          width: 150,\n          fixed: \"right\",\n          slots: {\n            default: (scope) => {\n              var a = []\n              if (Number(scope.row.order_source) === 2) {\n                var order_status = Number(scope.row.order_status)\n                if (order_status === 10) {\n                  a.push(<el-button size=\"small\" type=\"text\" disabled={scope.row.auditor_status == 4} onClick={() => this.payMoney(scope)} > 付款 </el-button>)\n                } else {\n                  if (this.authority.b_turn == 1 && scope.row.is_relation != 1 && this.is_company_service != 1) {\n                    a.push(<el-button type=\"text\" size=\"small\" onClick={() => { this.turnSaleOrder(scope.row) }}>转单</el-button>)\n                  }\n                }\n              }\n              if (this.is_company_service == 1) {\n                a.push(<el-button size=\"small\" type=\"text\" disabled={scope.row.is_relation == 1 || scope.row.auditor_status == 1 || Number(scope.row.is_instorage) === 0 || scope.row.order_status < 30 ? true : false} onClick={() => this.orderModify(scope, scope.row)} onClick={() => this.storage(scope)} > 入库 </el-button>)\n              }\n              return [\n                <el-button size=\"small\" type=\"text\" disabled={this.authority.b_info != 1 ? true : false} onClick={() => this.orderSee(scope, scope.row)} > 查看 </el-button>,\n                <el-button size=\"small\" type=\"text\" disabled={scope.row.auditor_status !== 1 ? true : false} onClick={() => this.orderModify(scope, scope.row)}  > 修改  </el-button>,\n                a,\n              ]\n            }\n          }\n        },\n        {\n          field: 'order_sn',\n          width: 156,\n          title: '单据号',\n          slots: {\n            default: (scope, h) => {\n              return [\n                <a onClick={() => this.orderSee(scope, scope.row)} > {scope.row.order_sn} </a>\n              ]\n            }\n          }\n        },\n        {\n\n          title: '供应商(厂家)',\n          field: 'supplier_name',\n          width: 150\n        },\n        {\n          title: '采购数量',\n          field: 'num',\n          headerAlign: \"right\",\n          align: \"right\",\n          width: 70\n        },\n        {\n          title: '总计金额',\n          field: 'total_price',\n          headerAlign: \"right\",\n          align: \"right\",\n          width: 100,\n          formatter: 'priceFormat'\n        },\n        {\n          title: '部门',\n          field: 'department_name',\n          width: 100\n        },\n        {\n          title: '采购员',\n          field: 'buyer_name',\n          width: 100\n        },\n        {\n          title: '创建人',\n          field: 'add_user_name',\n          width: 84,\n        },\n        {\n          title: '支付方式',\n          field: 'pay_method_name',\n          width: 85\n        },\n        {\n          title: '业务日期',\n          field: 'business_time',\n          width: 100,\n        },\n        {\n          title: '单据时间',\n          field: 'add_time',\n          width: 150\n        },\n        {\n          title: '来源单号',\n          field: 'plan_sn',\n          width: 156\n        },\n        {\n          title: '商城订单号',\n          field: 'ec_order_sn',\n          visible: Boolean(Number(localStorage.getItem(\"is_company_service\"))),\n          width: 156\n        },\n        {\n          title: '审核状态',\n          field: 'auditor_status_name',\n          width: 70,\n        },\n        {\n          title: '订单状态',\n          field: 'order_status_name',\n          width: 70,\n        },\n        {\n          title: '审核人',\n          field: 'auditor_name',\n          width: 84\n        },\n        {\n          title: '审核时间',\n          field: 'auditor_time',\n          width: 150\n        },\n        {\n          title: '修改人',\n          field: 'update_user_name',\n          width: 84\n        },\n        {\n          title: '修改时间',\n          field: 'update_time',\n          width: 150\n        },\n        {\n          title: '转单次数',\n          field: 'turn_order_count',\n          width: 140\n        },\n        {\n          title: '备注',\n          field: 'remark',\n          width: 120,\n        }\n      ]\n    }\n  },\n  methods: {\n    initParams() {\n      if (this.$route.params.type) {\n        this.params = Object.assign({}, this.params, {\n          auditor_status: 1\n        });\n      } else {\n        this.params = Object.assign({}, this.params, this.$route.params);\n      }\n      this.onSearch(1)\n    },\n    // 入库\n    storage({ row }) {\n      this.$router.push({\n        path: \"/purchase/instorage/instorageAdd\",\n        query: { order_id: row.order_id }\n      });\n    },\n    // 退款\n    refund({ row }) {\n      this.$router.push({\n        path: \"/purchase/refundRequest/refundRequestAdd\",\n        query: { id: row.ec_order_sn }\n      });\n    },\n    // 退货\n    return({ row }) {\n      this.$router.push({\n        path: \"/purchase/order/jybdorderSee\",\n        query: { id: row.ec_order_sn }\n      });\n    },\n  },\n}","<template>\n  <div class=\"params\">\n    <div id=\"leixin\">\n      <div class=\"search_container\">\n        <!-- 采购订单 -->\n        <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\" ref=\"filterFormRef\">\n          <el-form-item label=\"采购组织\" size=\"mini\">\n            <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" @focus=\"companyListInvok\" @change=\"companyChange\" filterable maxlength=\"100\">\n              <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n                <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"业务日期\" size=\"mini\">\n            <el-date-picker v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"单据号\" size=\"mini\">\n            <el-input v-model=\"params.order_sn\" maxlength=\"100\" placeholder=\"请输入\" clearable @keyup.enter.native=\"onSearch(1)\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"供应商(厂家)\" size=\"mini\">\n            <el-select clearable v-model=\"params.supplier_id\" @change=\"supplierChangesave\" maxlength=\"100\" :filter-method=\"supplierListInvok\" @focus=\"supplierListInvok\" filterable placeholder=\"请选择\">\n              <el-option v-for=\"item in supplierList\" :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"订单类型\" size=\"mini\">\n            <el-select clearable v-model=\"params.order_type\">\n              <el-option label=\"全部\" value=\"\">全部</el-option>\n              <el-option label=\"普通订单\" :value=\"1\">普通订单</el-option>\n              <el-option label=\"首配订单\" :value=\"2\">首配订单</el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"部门\" size=\"mini\">\n            <el-select clearable v-model=\"params.department_id\" placeholder=\"请选择\" @focus=\"DepartmentListInvok\" @change=\"departmentChange\" filterable maxlength=\"100\">\n              <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"采购员\" size=\"mini\">\n            <erpEmployee v-model=\"params.buyer_id\" title='请选择采购员' :searchParams=\"{ company_id: params.company_id }\" />\n          </el-form-item>\n          <el-form-item label=\"来源单号\" size=\"mini\">\n            <el-input v-model=\"params.plan_sn\" maxlength=\"100\" clearable @keyup.enter.native=\"onSearch(1)\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"审核日期\" size=\"mini\">\n            <el-date-picker v-model=\"checkTime\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"支付方式\" size=\"mini\">\n            <el-select clearable v-model=\"params.pay_method\">\n              <el-option label=\"全部\" :value=\"0\">全部</el-option>\n              <el-option label=\"在线支付\" :value=\"1\">在线支付</el-option>\n              <el-option label=\"线下支付\" :value=\"2\">线下支付</el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"审核状态\" size=\"mini\">\n            <el-select clearable v-model=\"params.auditor_status\">\n              <el-option label=\"全部\" :value=\"0\">全部</el-option>\n              <el-option label=\"未审核\" :value=\"1\">未审核</el-option>\n              <el-option label=\"已审核\" :value=\"2\">已审核</el-option>\n              <el-option label=\"作废\" :value=\"3\">作废</el-option>\n              <el-option label=\"关闭\" :value=\"4\">关闭</el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"转单状态\" size=\"mini\" v-if='is_company_service != 1'>\n            <el-select clearable v-model=\"params.turn_order_status\">\n              <el-option label=\"全部\" :value=\"0\">全部</el-option>\n              <el-option label=\"未转单\" :value=\"1\">未转单</el-option>\n              <el-option label=\"已转单\" :value=\"2\">已转单</el-option>\n            </el-select>\n          </el-form-item>\n          <!-- <el-form-item label=\"订单状态\" size=\"mini\" v-if='is_company_service'>\n            <el-select clearable v-model=\"params.order_status\">\n              <el-option label=\"待付款\" :value=\"1\">待付款</el-option>\n              <el-option label=\"待发货\" :value=\"2\">待发货</el-option>\n              <el-option label=\"已发货\" :value=\"3\">已发货</el-option>\n              <el-option label=\"已完成\" :value=\"4\">已完成</el-option>\n            </el-select>\n          </el-form-item> -->\n          <el-form-item label=\"商城订单号\" size=\"mini\" v-if='is_company_service'>\n            <el-input v-model=\"params.ec_order_sn\" maxlength=\"100\" clearable @keyup.enter.native=\"onSearch(1)\"></el-input>\n          </el-form-item>\n          <el-form-item size=\"mini\" class=\"search-style search\">\n            <el-button @click=\"onSearch(1)\" size=\"mini\" type=\"primary\">查询</el-button>\n            <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class=\"add_delet\">\n        <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"orderAdd\" class=\"addBtn\" size=\"mini\" v-if=\"authority.b_add==1\">新增</el-button>\n        <el-button plain icon=\"el-icon-delete\" @click=\"deletes\" size=\"mini\" v-if=\"authority.b_del==1\">删除</el-button>\n        <el-button @click=\"shenHe\" class=\"iconfont icon-pass\" type=\"primary\" size=\"mini\" v-if=\"authority.b_pass==1\">审核</el-button>\n        <el-button plain @click=\"AUDIT_GET\" v-if=\"authority.b_nopass==1\" size=\"mini\">弃审</el-button>\n        <!-- <el-button plain class=\"iconfont icon-zuofei\" @click=\"zuofei\" size=\"mini\" v-if=\"authority.b_invalid==1\">作废</el-button> -->\n        <el-button plain icon=\"el-icon-circle-close-outline\" @click=\"closeF\" size=\"mini\" v-if=\"authority.b_close\">关闭</el-button>\n        <el-button plain icon=\"iconfont icon-daoru5\" @click=\"dialogEmployee\" v-if=\"authority.b_import == 1\" class=\"addBtn\" size=\"mini\">导入</el-button>\n        <el-button plain icon=\"el-icon-download\" @click=\"downloadF\" size=\"mini\">下载模板</el-button>\n      </div>\n      <xTable v-if='tableColumn.length > 0' :ajax='{ url: \"orderGetOrderList\", params: params }' ref='xTable' :tableColumn='tableColumn' :xData='TableData.tableData' @getData='dealData' />\n\n      <upload :options=\"options\" @receiveUploadMsg=\"receiveUploadMsg\" ref=\"upload\"></upload>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { common } from \"./js/tableHead\";\nimport { opthionList } from \"common/utils/public_function/commonUtils\";\nimport { tableHeader, paramsModule } from \"./js/orderIndexHead\";\nexport default {\n  name: \"purchaseOrderIndex\",\n  mixins: [common, tableHeader],\n  data() {\n    return {\n      options: {\n        title: \"导入\",\n        url: \"/purchase/OrderExcel/importClaim\",\n      },\n      checkTime: [], // 审核日期\n      authority: {},\n      params: this.$publicFution.deepCopy(paramsModule),\n      timeValue: [],\n      newresult: [],\n    };\n  },\n  computed: {\n    ...mapGetters([\"orderIndexGet\"]),\n  },\n  methods: {\n    ...mapActions([\"orderAddACT\", \"orderSeeACT\", \"orderIndexACT\"]),\n    dialogEmployee() {\n      this.$refs.upload.stateOpen();\n    },\n    receiveUploadMsg(response) {\n      this.onSearch();\n    },\n    // 付款\n    payMoney({ row }) {\n      if (row.pay_method == 1) {\n        //线上\n        this.$axMethod\n          .OrderdoPay({ order_id: row.order_id })\n          .then(({ data }) => {\n            if (data.code == 200) {\n              console.log(data);\n              const queryParams = {\n                cashier_token: data.data.pay_data.cashier_token, // 收银台支付token\n                pay_trade_no: data.data.pay_data.pay_trade_no, // 支付单号\n                token: data.data.pay_data.user_pay_token, // 用户token\n              };\n              this.$router.push({\n                name: \"PlaceholderPaycenter\",\n                params: queryParams,\n              });\n            }\n          });\n      } else {\n        this.$router.push({\n          path: \"/MoneyManagement/Checkstand\",\n          query: { id: row.ec_pay_sn },\n        });\n      }\n    },\n    closeF() {\n      if (this.multipleSelection.length < 1) {\n        this.$message({\n          message: \"请选择需要关闭的订单\",\n          type: \"warning\",\n        });\n        return false;\n      }\n      var addr = [];\n      for (var i = 0; i < this.multipleSelection.length; i++) {\n        addr.push(this.multipleSelection[i].order_id);\n      }\n      var orderArr = addr.toString();\n      this.$axMethod\n        .closePurchaseOrder({\n          order_id: orderArr,\n        })\n        .then((res) => {\n          if (res.data.code == 200) {\n            this.$message({\n              message: res.data.data,\n              type: \"success\",\n            });\n            this.onSearch();\n          }\n        });\n      //关闭\n    },\n    employeeChange(val) {\n      if (val) {\n        this.params.buyer_name = this.employeeList.filter(\n          (obj) => obj.employee_id === val\n        )[0].employee_name;\n      } else {\n        this.params.buyer_name = \"\";\n        this.params.buyer_id = \"\";\n      }\n    },\n    AUDIT_GET() {\n      if (this.multipleSelection.length < 1) {\n        this.$message({\n          message: \"请选择需要弃审的信息\",\n          type: \"warning\",\n        });\n        return false;\n      }\n      var addr = [];\n      for (var i = 0; i < this.multipleSelection.length; i++) {\n        addr.push(this.multipleSelection[i].order_id);\n      }\n      var orderArr = addr.toString();\n      this.$axMethod\n        .auditorNoPassOrder({\n          order_id: orderArr,\n        })\n        .then((res) => {\n          if (res.data.code == 200) {\n            this.$message({\n              message: res.data.data,\n              type: \"success\",\n            });\n            this.onSearch();\n          }\n        });\n      //弃审\n    },\n    downloadF() {\n      // 下载模板\n      this.$axMethod.downloadFileUrlOrder().then((res) => {\n        if (res.data.code == 200) {\n          window.location.href = res.data.data.url;\n        }\n      });\n    },\n    companyChange(val) {\n      if (val) {\n        this.params.company_name = this.companyList.filter(\n          (obj) => obj.company_id === val\n        )[0].company_name;\n      } else {\n        this.params.company_name = \"\";\n        this.params.company_id = \"\";\n      }\n      this.$set(this.params, \"supplier_id\", \"\");\n      this.$set(this.params, \"department_id\", \"\");\n      this.$set(this.params, \"buyer_id\", \"\");\n    },\n    supplierChangesave(val) {\n      if (val) {\n        this.params.supplier_name = this.supplierList.filter(\n          (obj) => obj.supplier_id === val\n        )[0].supplier_name;\n      } else {\n        this.params.supplier_name = \"\";\n        this.params.supplier_id = \"\";\n      }\n    },\n    departmentChange(val) {\n      if (val) {\n        this.params.department_name = this.departmentList.filter(\n          (obj) => obj.department_id === val\n        )[0].department_name;\n      } else {\n        this.params.department_name = \"\";\n        this.params.department_id = \"\";\n      }\n      this.$set(this.params, \"buyer_id\", \"\");\n    },\n    selectRowChangeBg({ row, rowIndex }) {\n      if (\n        this.multipleSelection.length &&\n        this.multipleSelection.map((obj) => obj.order_id).includes(row.order_id)\n      ) {\n        return \"background:#d4e1ee\";\n      } else {\n        return \"\";\n      }\n    },\n    shenHe() {\n      if (this.multipleSelection.length < 1) {\n        this.$message({\n          message: \"请选择需要审核的数据！\",\n          type: \"warning\",\n        });\n        return false;\n      }\n      var addr = [];\n      for (var i = 0; i < this.multipleSelection.length; i++) {\n        addr.push(this.multipleSelection[i].order_id);\n      }\n      var funcan = {\n        examineID: \"order_id\",\n        eachData: {\n          order_id: addr.toString(),\n        },\n        examineApi: \"orderAuditorOrder\",\n        list: {\n          UrlApi: \"orderGetOrderList\",\n          data: this.TableData,\n          esData: this.params,\n        },\n      };\n      this.$common.examineFun(funcan, this.onSearch);\n    },\n\n    // 作废\n    zuofei() {\n      if (this.multipleSelection.length < 1) {\n        this.$message({\n          message: \"请选择废除的数据！\",\n          type: \"warning\",\n        });\n        return false;\n      }\n      var addr = [];\n      for (var i = 0; i < this.multipleSelection.length; i++) {\n        addr.push(this.multipleSelection[i].order_id);\n      }\n      var funcan = {\n        examineID: \"order_id\",\n        eachData: {\n          order_id: addr.toString(),\n        },\n        examineApi: \"orderAuditorInvalid\",\n        list: {\n          UrlApi: \"orderGetOrderList\",\n          data: this.TableData,\n          esData: this.params,\n        },\n      };\n      this.$common.examineFun(funcan, this.onSearch);\n    },\n    onReset() {\n      this.timeValue = [];\n      this.checkTime = [];\n      this.params = this.$publicFution.deepCopy(paramsModule);\n      /** 重置时 如需保存默认参数，则： */\n      this.onSearch(1);\n    },\n    orderSee(scope, row) {\n      this.orderSeeACT({\n        // commont: \"orderSee\",\n        order_id: row.order_id,\n        goPage: this.goPage,\n        params: this.params,\n        pageSize: this.pageSize,\n      });\n      this.$router.push({ path: \"/purchase/order/orderSee\" });\n    },\n    orderAdd() {\n      this.$router.push({ path: \"/purchase/order/orderAdd\" });\n      this.orderAddACT({\n        order_id: \"\",\n        goPage: this.goPage,\n        params: this.params,\n        pageSize: this.pageSize,\n      });\n    },\n    orderModify(scope, row) {\n      this.orderAddACT({\n        // commont: \"orderAdd\",\n        order_id: row.order_id,\n        goPage: this.goPage,\n        params: this.params,\n        pageSize: this.pageSize,\n      });\n      this.$router.push({ path: \"/purchase/order/orderAdd\" });\n    },\n    timeF() {\n      if (this.timeValue) {\n        this.params.start_time = this.timeValue[0];\n        this.params.end_time = this.timeValue[1];\n      } else {\n        this.params.start_time = this.params.end_time = \"\";\n      }\n      if (this.checkTime) {\n        this.params.audit_start_time = this.checkTime[0];\n        this.params.audit_end_time = this.checkTime[1];\n      } else {\n        this.params.audit_start_time = this.params.audit_end_time = \"\";\n      }\n    },\n    onSearch(number) {\n      this.timeF();\n      this.$refs.xTable._getData(number);\n    },\n    //删除\n    deletes() {\n      var deledata = {\n        deleID: \"order_id\",\n        deleSelect: this.multipleSelection,\n        deleApi: \"delOrder\",\n        list: {\n          UrlApi: \"orderGetOrderList\",\n          data: this.TableData,\n          esData: {\n            page: this.goPage,\n          },\n        },\n      };\n      this.$common.deletes(deledata, \"删除\", this, this.onSearch);\n    },\n  },\n  activated() {\n    this.$set(this, \"params\", {\n      company_id: Number(localStorage.company_id),\n    });\n    opthionList(this, localStorage);\n    this.initParams();\n  },\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderIndex.vue?vue&type=template&id=c9b3a6a2&scoped=true&\"\nimport script from \"./orderIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./orderIndex.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9b3a6a2\",\n  null\n  \n)\n\nexport default component.exports","// 采购订单公共方法\nimport {\n  mapActions,\n  mapGetters\n} from \"vuex\";\nimport {\n  opthionList\n} from \"common/utils/public_function/commonUtils\";\nexport const common = {\n  data() {\n    return {}\n  },\n  activated() {\n    let _routeParams = this.$route.params\n    if (_routeParams.transferType) { // 如果是通过库存预警过来转单的则执行\n      this.portStockEarlyWarningChangeOrderInfo(_routeParams)\n    }\n  },\n  methods: {\n    ...mapActions(['salesorderAdd']),\n    getRebatePrice() {\n      if (this.params.supplier_id && this.params.company_id) {\n        this.$axMethod\n          .getRebatePrice({\n            brand_id: -1,\n            supplier_id: this.params.supplier_id,\n            company_id: this.params.company_id\n          })\n          .then(({ data }) => {\n            if (data.code == 200) {\n              this.$set(\n                this.params,\n                \"rebate_balance\",\n                data.data.rebate_balance\n              );\n            }\n          });\n      }\n    },\n    // 转单方法\n    turnSaleOrder(row) {\n      this.salesorderAdd({\n        type: '采购单转销售订单',\n        Buy_order: row,\n        random: Math.floor(Math.random() * 10000) // 转单随机数\n      });\n      this.$router.push({\n        path: \"/sales/salesorder/salesorderAdd\"\n      });\n    },\n    // 库存预警转 - 单采购订单/采购入库(接口)\n    portStockEarlyWarningChangeOrderInfo(params) {\n      this.loading = true; // 开启加载\n      this.$axMethod.stockEarlyWarningChangeOrderInfo(params.portParams).then(({\n        data\n      }) => {\n        this.loading = false; // 关闭加载\n        if (data.code == 200) {\n          let _info = data.data.info,\n            goods_list = data.data.goods_list;\n          Object.keys(_info).forEach(key => {\n            this.$set(this.params, key, _info[key])\n            // this.params[key] = _info[key]\n          })\n          this.params.remark = _info.abstract\n          if (this.params.warehouse_id == 0) this.params.warehouse_id = ''\n          if (Number(localStorage.company_id) != _info.company_id) {\n            this.$set(this.params, 'department_id', '') // 清空部门\n            this.$set(this.params, 'buyer_id', '') // 清空采购员\n          } else if (!this.params.department_id) {\n            this.$set(this.params, 'department_id', Number(localStorage.department_id)) // 赋值部门\n            this.$set(this.params, 'buyer_id', Number(localStorage.employee_id)) // 赋值采购员\n          }\n          opthionList(this, _info);\n          switch (params.transferType) {\n            case 1: // 转单类型（采购订单）\n              if (this.orderAddGet.order_id) this.orderIndexACT({}); // 清空已有信息\n              goods_list = goods_list.map(item => {\n                item.unit_name && delete item.unit_name\n                item.unit_id && delete item.unit_id\n                item.remaining_goods_num = item.goods_num\n                this.handleEdit({ row: item, column: { property: 'goods_num' } }) // 计算一遍\n                return item\n              })\n              this.$refs.xTable._proxy(\"loadData\", goods_list);\n              break\n            case 2: // 转单类型（采购入库）\n              goods_list = goods_list.map(item => {\n                if (!item.batch) {\n                  this.$set(item, 'batch', this.getWeek())\n                }\n                this.$set(item, 'remaining_goods_num', item.goods_num)\n                item.goods_num && delete item.goods_num\n                let param = {\n                  num: \"remaining_goods_num\", // 商品数量的key\n                  price: \"purchase_price\", // 商品价格的key\n                  totalPrice: \"subtotal_price\" // 商品小计金额\n                };\n                this.$publicFution.computeTotal(item, param, \"remaining_goods_num\", this); // 计算一遍\n                return item\n              })\n              this.tableData = goods_list\n              break\n          }\n        } else {\n          // this.$message({\n          //   type: \"error\",\n          //   message: data.msg\n          // });\n        }\n      }).catch(error => {\n        console.log(error)\n        this.loading = false; // 关闭加载\n        this.$message({\n          type: \"error\",\n          message: '转单失败请重试'\n        });\n      });\n    },\n  },\n}\n"],"sourceRoot":""}