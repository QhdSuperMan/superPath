(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-d56432b4"],{"0cb5":function(e,t,a){},"0fef":function(e,t,a){},"7d61":function(e,t,a){"use strict";a("0fef")},9830:function(e,t,a){},b680:function(e,t,a){"use strict";var i=a("23e7"),r=a("da84"),s=a("e330"),o=a("5926"),l=a("408a"),n=a("1148"),c=a("d039"),m=r.RangeError,p=r.String,d=Math.floor,u=s(n),h=s("".slice),_=s(1..toFixed),b=function(e,t,a){return 0===t?a:t%2===1?b(e,t-1,a*e):b(e*e,t/2,a)},f=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},v=function(e,t,a){var i=-1,r=a;while(++i<6)r+=t*e[i],e[i]=r%1e7,r=d(r/1e7)},g=function(e,t){var a=6,i=0;while(--a>=0)i+=e[a],e[a]=d(i/t),i=i%t*1e7},y=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var i=p(e[t]);a=""===a?i:a+u("0",7-i.length)+i}return a},w=c((function(){return"0.000"!==_(8e-5,3)||"1"!==_(.9,0)||"1.25"!==_(1.255,2)||"1000000000000000128"!==_(0xde0b6b3a7640080,0)}))||!c((function(){_({})}));i({target:"Number",proto:!0,forced:w},{toFixed:function(e){var t,a,i,r,s=l(this),n=o(e),c=[0,0,0,0,0,0],d="",_="0";if(n<0||n>20)throw m("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return p(s);if(s<0&&(d="-",s=-s),s>1e-21)if(t=f(s*b(2,69,1))-69,a=t<0?s*b(2,-t,1):s/b(2,t,1),a*=4503599627370496,t=52-t,t>0){v(c,0,a),i=n;while(i>=7)v(c,1e7,0),i-=7;v(c,b(10,i,1),0),i=t-1;while(i>=23)g(c,1<<23),i-=23;g(c,1<<i),v(c,1,1),g(c,2),_=y(c)}else v(c,0,a),v(c,1<<-t,0),_=y(c)+u("0",n);return n>0?(r=_.length,_=d+(r<=n?"0."+u("0",n-r)+_:h(_,0,r-n)+"."+h(_,r-n))):_=d+_,_}})},bb45:function(e,t,a){"use strict";a("0cb5")},da9c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a(e.commont,{tag:"component"})],1)},r=[],s=a("5530"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_container"},[a("el-form",{ref:"filterFormRef",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"财务组织",size:"mini"}},[a("el-select",{attrs:{placeholder:"请选择","filter-method":e.companyListInvok,filterable:""},on:{focus:e.companyListInvok,change:e.companyChange},model:{value:e.params.company_id,callback:function(t){e.$set(e.params,"company_id",t)},expression:"params.company_id"}},e._l(e.companyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"业务日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:e.change},model:{value:e.timeValue1,callback:function(t){e.timeValue1=t},expression:"timeValue1"}})],1),a("el-form-item",{attrs:{label:"审核日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:e.change},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),a("el-form-item",{attrs:{label:"部门",size:"mini"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{focus:e.DepartmentListInvok,change:e.departmentChange},model:{value:e.params.department_id,callback:function(t){e.$set(e.params,"department_id",t)},expression:"params.department_id"}},e._l(e.departmentList,(function(e){return a("el-option",{key:e.department_id,attrs:{label:e.department_name,value:e.department_id}})})),1)],1),a("el-form-item",{attrs:{label:"业务员",size:"mini"}},[a("el-select",{on:{focus:e.EmployeeListInvok,change:e.employeeChange},model:{value:e.params.business_id,callback:function(t){e.$set(e.params,"business_id",t)},expression:"params.business_id"}},e._l(e.employeeList,(function(e){return a("el-option",{key:e.employee_id,attrs:{label:e.employee_name,value:e.employee_id}})})),1)],1),a("el-form-item",{attrs:{label:"往来类型",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.getCurrentAccountListInvok,change:e.accountsTypeChange},model:{value:e.params.accounts_type_id,callback:function(t){e.$set(e.params,"accounts_type_id",t)},expression:"params.accounts_type_id"}},e._l(e.accountypeList,(function(e){return a("el-option",{key:e.accounts_type_id,attrs:{label:e.accounts_type_name,value:e.accounts_type_id}})})),1)],1),a("el-form-item",{attrs:{label:"结算方式",size:"mini"}},[a("el-select",{attrs:{clearable:""},on:{focus:e.getNewrece,change:e.getPaymentChange},model:{value:e.params.receivables_mode_id,callback:function(t){e.$set(e.params,"receivables_mode_id",t)},expression:"params.receivables_mode_id"}},e._l(e.receivablesList,(function(e){return a("el-option",{key:e.receivables_mode_id,attrs:{label:e.receivables_mode_name,value:e.receivables_mode_id}})})),1)],1),a("el-form-item",{attrs:{label:"创建人",size:"mini"}},[a("el-select",{attrs:{filterable:""},on:{focus:e.getaddUserListFocus,change:e.addUserChange},model:{value:e.params.add_user_id,callback:function(t){e.$set(e.params,"add_user_id",t)},expression:"params.add_user_id"}},e._l(e.addUserList,(function(e){return a("el-option",{key:e.user_id,attrs:{label:e.realname,value:e.user_id}})})),1)],1),a("el-form-item",{attrs:{label:"客户名称",size:"mini"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请输入",loading:e.loading,remote:"","remote-method":e.clienteleListInvok},on:{change:e.customerChange,focus:e.clienteleListInvok},model:{value:e.params.customer_id,callback:function(t){e.$set(e.params,"customer_id",t)},expression:"params.customer_id"}},[a("ul",{staticClass:"customer customer-ul4 customer-ul2"},[a("li",[e._v("客户编号")]),a("li",[e._v("客户名称")]),a("li",[e._v("联系人")]),a("li",[e._v("联系电话")]),a("li",[e._v("区域")])]),e._l(e.customerList,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_name,value:t.customer_id}},[a("ul",{staticClass:"customer customer-ul4"},[a("li",{attrs:{title:t.customer_id}},[e._v(e._s(t.customer_id))]),a("li",{attrs:{title:t.customer_name}},[e._v(e._s(t.customer_name))]),a("li",{attrs:{title:t.contact_name}},[e._v(e._s(t.contact_name))]),a("li",{attrs:{title:t.customer_mobile}},[e._v(e._s(t.customer_mobile))]),a("li",[e._v(e._s(t.province_name)+"/"+e._s(t.city_name)+"/"+e._s(t.area_name))])])])}))],2)],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),1==e.authority.b_export&&e.listShow?a("div",{staticClass:"add_delet"},[a("el-dropdown",{attrs:{placement:"bottom-start"}},[a("span",{staticStyle:{cursor:"pointer",color:"#4e90e2"},attrs:{"split-button":""}},[a("el-button",{attrs:{plain:"",icon:"iconfont icon-daochu10",size:"mini"}},[e._v("导出")])],1),a("el-dropdown-menu",{staticStyle:{"margin-top":"10px"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.exportOrder(1)}}},[e._v("导出Excel文件")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.exportOrder(2)}}},[e._v("导出CSV逗号分隔")])],1)],1)],1):e._e(),e.listShow?a("div",{staticClass:"table_container clearblue"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.tableData,"summary-method":e.getSummaries,"show-summary":"","max-height":e.tableHeight}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_name",label:"财务组织"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"department_name",label:"部门"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_name",label:"业务员"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"logistics_name",label:"物流公司"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"logistics_number",label:"物流票号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"customer_name",label:"客户名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"accounts_type_name",label:"往来类型"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"receivables_mode_name",label:"结算方式"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bank_name",label:"开户银行"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bank_number",label:"银行账号后四位"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"common_price",label:"金额",align:"right"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"140",property:"business_time",label:"业务日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"140",property:"auditor_time",label:"审核日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"receipt_sn",label:"收款单据号",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.seeDetail(t,t.row)}}},[e._v(" "+e._s(t.row.receipt_sn)+" ")])]}}],null,!1,3253375786)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"add_user_name",label:"创建人"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"remark",label:"备注"}})],1),a("div",{staticClass:"table_info"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"report_row"},[e._v("收款金额合计："+e._s(e.TableData.desc.all_price)+"元")])])],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"report_row"},[e._v("生成时间："+e._s(e.TableData.desc.add_time))])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"textAr report_row"},[e._v("制表人："+e._s(e.TableData.desc.add_user_name))])])],1),a("el-row",{staticClass:"row-bg report_row",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("div",[e._v("业务日期起始:"+e._s(this.params.business_start_time))])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"textAr"},[e._v("业务日期截止:"+e._s(this.params.business_end_time))])])],1)],1),a("div",{staticClass:"page_container"},[a("div",{staticClass:"pageNumber"},[e._v("每页显示")]),a("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":e.goPage,"page-size":e.pageSize1,"page-sizes":e.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:e.TableData.total},on:{"size-change":e.handleSizeChange,"update:currentPage":function(t){e.goPage=t},"update:current-page":function(t){e.goPage=t},"current-change":e.handleCurrentChange}})],1)],1):e._e()])},l=[],n=(a("4de4"),a("d3b7"),a("159b"),a("2f62")),c=a("65b0"),m={name:"reportReceiptdetrptIndex",data:function(){return{authority:{},addUserList:[],timeValue1:[],params:{},searchParams:{},listShow:!1,timeValue:[],exportType:null,TableData:{desc:{},tableData:[]},pageSize:30,goPage:1,per_page:[30,50,100,500],loading:!1,tableHeight:600}},computed:Object(s["a"])({},Object(n["c"])(["receiptdetrptIndexGet"])),methods:Object(s["a"])(Object(s["a"])({},Object(n["b"])(["receiptdetrptSeeAct"])),{},{getNewrece:function(){var e=this;console.log(1),this.params.company_id?(console.log(this.params.company_id),this.$axMethod.getCollectionList(this.params).then((function(t){var a=t.data,i=a.data;e.$set(e,"receivablesList",i)}))):this.$set(this,"receivablesList",[])},customerChange:function(e){e&&(this.params.customer_name=this.customerList.filter((function(t){return t.customer_id===e}))[0].customer_name)},addUserChange:function(e){},getPaymentChange:function(e){e&&(this.params.receivables_mode_name=this.receivablesList.filter((function(t){return t.receivables_mode_id===e}))[0].receivables_mode_name)},accountsTypeChange:function(e){e&&(this.params.accounts_type_name=this.accountypeList.filter((function(t){return t.accounts_type_id===e}))[0].accounts_type_name)},employeeChange:function(e){e&&(this.params.employee_name=this.employeeList.filter((function(t){return t.employee_id===e}))[0].employee_name)},seeDetail:function(e,t){this.receiptdetrptSeeAct({commont:"receiptdetrptSee",receipt_id:t.receipt_id,params:this.params,goPage:this.goPage,pageSize:this.pageSize})},exportOrder:function(e){Object.assign(this.params,{export_type:e});this.$axMethod.exportReceiptDetailUrl(this.params).then((function(e){200==e.data.code&&(window.location.href=e.data.data.url)}))},getaddUserListFocus:function(){var e=this;this.$axMethod.getReceiptAddUserNameList({company_id:this.params.company_id}).then((function(t){200==t.data.code&&(e.addUserList=t.data.data)}))},exportFile:function(e){Object.assign(this.params,{export_type:e});var t={params:this.params,API:"exportReceiptDetailUrl"};Object(c["d"])(t)},change:function(e){this.params.start_time=e[0],this.params.end_time=e[1]},onReset:function(){var e=this;this.timeValue=[],this.timeValue1=[],this.$set(this,"params",{}),this.searchParams={};var t=this;this.$axios({method:"get",url:this.$api.getReceiptDetailList,params:this.params}).then((function(a){var i=a.data;200==i.code&&(t.TableData=i.data,t.TableData.tableData=i.data.data,t.TableData.desc=i.data.desc,c["o"].bind(e)())}))},onSearch:function(){var e=this;this.listShow=!0,this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="",this.timeValue1&&2==this.timeValue1.length?(this.params.business_start_time=this.timeValue1[0],this.params.business_end_time=this.timeValue1[1]):this.params.business_start_time=this.params.business_end_time="",this.searchParams=this.params;var t=this;this.$axios({method:"get",url:this.$api.getReceiptDetailList,params:this.params}).then((function(a){var i=a.data;200==i.code&&(t.TableData=i.data,t.TableData.tableData=i.data.data,t.TableData.desc=i.data.desc,c["o"].bind(e)())}))},companyChange:function(e){e&&(this.params.company_name=this.companyList.filter((function(t){return t.company_id===e}))[0].company_name),this.$set(this.params,"add_user_id",null),this.$set(this.params,"department_id",null),this.$set(this.params,"receivables_mode_id",null)},departmentChange:function(e){e&&(this.params.department_name=this.departmentList.filter((function(t){return t.department_id===e}))[0].department_name),this.$set(this.params,"employee_id","")},handleSizeChange:function(e){var t=this,a={per_page:e,page:1,company_id:this.params.company_id,department_id:this.params.department_id,business_id:this.params.business_id,start_time:this.params.start_time,end_time:this.params.end_time};this.$axios({method:"get",url:this.$api.getReceiptDetailList,params:a}).then((function(e){var a=e.data;200==a.code&&(t.TableData=a.data,t.TableData.tableData=a.data.data,t.TableData.desc=a.data.desc)}))},handleCurrentChange:function(e){var t=this;Object.assign(this.params,{page:e}),this.$axios({method:"get",url:this.$api.getReceiptDetailList,params:this.params}).then((function(e){var a=e.data;200==a.code&&(t.TableData=a.data,t.TableData.tableData=a.data.data,t.TableData.desc=a.data.desc)}))},getSummaries:function(e){var t=this,a=e.columns,i=(e.data,[]);return a.forEach((function(e,a){0!==a?10!==a||(i[a]=t.TableData.desc.current_price):i[a]="本页合计"})),i}}),mounted:function(){var e=this;this.authority=JSON.parse(localStorage.getItem("authority")),this.receiptdetrptIndexGet&&this.receiptdetrptIndexGet.params&&(this.$set(this,"params",this.receiptdetrptIndexGet.params),Object(c["l"])(this,this.receiptdetrptIndexGet.params),this.addUserList=[{realname:this.receiptdetrptIndexGet.params.realname,user_id:this.receiptdetrptIndexGet.params.user_id}]),this.receiptdetrptIndexGet&&this.receiptdetrptIndexGet.goPage&&(this.params.page=this.receiptdetrptIndexGet.goPage,this.params.per_page=this.receiptdetrptIndexGet.pageSize),this.listShow=!0,this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="";var t=this;this.$axios({method:"get",url:this.$api.getReceiptDetailList,params:this.params}).then((function(a){var i=a.data;200==i.code&&(t.TableData=i.data,t.TableData.tableData=i.data.data,t.TableData.desc=i.data.desc,c["o"].bind(e)())})),c["o"].bind(this)(),window.onresize=c["o"].bind(this)}},p=m,d=(a("7d61"),a("dc53"),a("2877")),u=Object(d["a"])(p,o,l,!1,null,"74e374ba",null),h=u.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("报表系统")]),a("el-breadcrumb-item",[e._v("财务报表")]),a("el-breadcrumb-item",{staticClass:"attrbute"},[a("span",{on:{click:e.goBack}},[e._v("内部记账依据明细表")])]),a("el-breadcrumb-item",[e._v("查看收款单")])],1),a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"财务组织：",size:"mini"}},[e._v(" "+e._s(e.formInline.company_name)+" ")]),a("el-form-item",{attrs:{label:"单据号：",size:"mini"}},[e._v(" "+e._s(e.formInline.receipt_sn)+" ")]),a("el-form-item",{attrs:{label:"业务日期：",size:"mini"}},[e._v(" "+e._s(e.formInline.business_time)+" ")]),a("el-form-item",{attrs:{label:"往来类型：",size:"mini"}},[e._v(" "+e._s(e.formInline.accounts_type_name)+" ")]),10002==e.formInline.accounts_type_id?a("el-form-item",{attrs:{label:"物流名称：",size:"mini"}},[e._v(" "+e._s(e.formInline.logistics_name)+" ")]):e._e(),10002==e.formInline.accounts_type_id?a("el-form-item",{attrs:{label:"物流票号：",size:"mini"}},[e._v(" "+e._s(e.formInline.logistics_numbe)+" ")]):e._e(),10002!=e.formInline.accounts_type_id?a("el-form-item",{attrs:{label:"客户名称：",size:"mini"}},[e._v(" "+e._s(e.formInline.customer_name)+" ")]):e._e(),a("el-form-item",{attrs:{label:"部门：",size:"mini"}},[e._v(" "+e._s(e.formInline.department_name)+" ")]),a("el-form-item",{attrs:{label:"业务员：",size:"mini"}},[e._v(" "+e._s(e.formInline.business_name)+" ")]),a("el-form-item",{attrs:{label:"备注：",size:"mini"}},[e._v(" "+e._s(e.formInline.remark)+" ")]),a("el-form-item",{attrs:{label:"审核状态：",size:"mini"}},[e._v(" "+e._s(e.formInline.auditor_status_name)+" ")])],1)],1),e._m(0),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.receipt_common,"summary-method":e.getSummaries,"show-summary":"","max-height":"600"}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",width:"46",align:"center",label:"序号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"receivables_mode_name",label:"收款方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"editor",attrs:{disabled:!0},model:{value:t.row.receivables_mode_name,callback:function(a){e.$set(t.row,"receivables_mode_name",a)},expression:"scope.row.receivables_mode_name"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bank_name",label:"开户银行"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"editor",attrs:{disabled:!0},model:{value:t.row.bank_name,callback:function(a){e.$set(t.row,"bank_name",a)},expression:"scope.row.bank_name"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bank_number",label:"银行账号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"common_price",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"editor",attrs:{disabled:!0},model:{value:t.row.common_price,callback:function(a){e.$set(t.row,"common_price",a)},expression:"scope.row.common_price"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return e.searchRows(t,t.row)}}},[e._v(" "+e._s(t.row.remark)+" ")])]}}])})],1)],1),e.is_disabled?a("div",{staticClass:"aboutList"},[e._m(1),a("div",{staticClass:"table_container"},[a("div",[e.hexiaoDetail?a("el-table",{attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.relationTable.tableData,"show-summary":"","summary-method":e.getrelationTableSummaries,"max-height":"600"}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"序号",width:"46",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}],null,!1,192879353)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bill_sn",label:"单据号","min-width":"160"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"order_type",label:"单据类型","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"customer_name",label:"客户名称","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bill_num",label:"出库数量",align:"right","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"order_price",label:"出库金额",align:"right","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"ec_channel_fee",label:"通道费",align:"right","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"sc_price",label:"实际应收金额",align:"right","min-width":"120","render-header":e.renderHeader}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_time",label:"业务日期","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"add_time",label:"单据时间","min-width":"150"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"rc_price",label:"已冲销金额",align:"right","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"rest_price",label:"未冲销金额",align:"right","min-width":"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"bill_price",label:"本次冲销金额",align:"right","min-width":"120"}})],1):e._e()],1)])]):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[1==e.formInline.auditor_status?[1==e.authority.b_pass?a("el-button",{attrs:{type:"primary"},on:{click:e.examineFun}},[e._v("审 核")]):e._e(),1==e.authority.b_invalid?a("el-button",{on:{click:e.abolishFun}},[e._v("作 废")]):e._e()]:e._e(),3==e.formInline.auditor_status||1!=e.authority.b_invalid&&1!=e.authority.b_pass?[a("el-button",{on:{click:e.goBack}},[e._v("返 回")])]:[a("el-button",{on:{click:e.goBack}},[e._v("取 消")])]],2)],1)},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paymanageTitle"},[a("i"),e._v(" "),a("span",[e._v("结算明细")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paymanageTitle "},[a("i"),e._v(" "),a("span",[e._v("核销明细")])])}],f=(a("e9c4"),a("d81d"),a("a9e3"),a("b680"),{name:"reportReceiptdetrptSee",data:function(){return{goBackText:null,authority:{},formInline:{},TableData:{},isShow_sbList:!1,sbListTabel:{tableData:[]},isShow_flList:!1,flListTabel:{tableData:[]},isShow_xschukuList:!1,xsListTabel:{tableData:[]},receiptaudit:"",receipt_id:"",is_disabled:!1,relationTable:{tableData:[]},title:"",changeIndex:0,hexiaoDetail:!0}},computed:Object(s["a"])({},Object(n["c"])(["receiptdetrptSeeGet"])),methods:Object(s["a"])(Object(s["a"])({},Object(n["b"])(["receiptdetrptIndexAct"])),{},{goBack:function(){this.receiptdetrptIndexAct({commont:"receiptdetrptIndex",params:this.receiptdetrptSeeGet.params,goPage:this.receiptdetrptSeeGet.goPage,pageSize:this.receiptdetrptSeeGet.pageSize})},renderHeader:function(){var e=this.$createElement,t="";switch(this.formInline.accounts_type_name){case"销售收款":case"物流代收":t="实际应收金额=本出库单中出库金额",this.hexiaoDetail=!0;break;case"预收款":case"其他收款":this.hexiaoDetail=!1;break;default:break}return e("el-tooltip",{class:"item",attrs:{effect:"dark",placement:"top"}},[e("p",{slot:"content"},[t]),e("span",{class:"el-icon-question",style:"cursor:pointer;font-weight:bold"},["实际应收金额"])])},changeTitle:function(e){this.changeIndex=e},searchRows:function(e,t){var a=this,i=[];i.push({accounts_type_id:t.accounts_type_id,receivables_mode_id:t.receivables_mode_id,bank_id:t.bank_id,common_price:t.common_price,remark:void 0==t.remark?"":t.remark});var r=this,s={customer_id:this.formInline.customer_id,business_time:this.formInline.business_time,department_id:this.formInline.department_id,company_id:this.formInline.company_id,business_id:this.formInline.business_id,remark:this.formInline.remark,is_verify:1,common_body:JSON.stringify(i)};r.$axios({method:"post",url:r.$api.addReceipt,data:s}).then((function(e){0==e.data.data.length?a.is_disabled=!1:(a.is_disabled=!0,a.relationTable.tableData=e.data.data[0].list,a.title=e.data.data[0].title)}))},examineFun:function(){var e=this;this.$axios({method:"post",url:this.$api.auditorRecePass,data:{receipt_id:this.receipt_id}}).then((function(t){200==t.data.code&&(e.$message({message:t.data.data,type:"success"}),e.goBack())}))},abolishFun:function(){var e=this;this.$axios({method:"post",url:this.$api.auditorReceInvalid,data:{receipt_id:this.receipt_id}}).then((function(t){200==t.data.code&&(e.$message({message:t.data.data,type:"success"}),e.goBack())}))},getSummaries:function(e){var t=e.columns,a=e.data,i=[];return t.forEach((function(e,t){if(0!==t){var r=a.map((function(t){return Number(t[e.property])}));r.every((function(e){return isNaN(e)}))?i[t]="":(i[t]=r.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),i[t]=4==t?parseFloat(i[t]).toFixed(2):"")}else i[t]="总计"})),i},getrelationTableSummaries:function(e){var t=e.columns,a=e.data,i=[];return t.forEach((function(e,t){if(0!==t){var r=a.map((function(t){return Number(t[e.property])}));r.every((function(e){return isNaN(e)}))?i[t]="":(i[t]=r.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),i[t]=9==t||10==t||11==t||12==t?parseFloat(i[t]).toFixed(2):"")}else i[t]="总计"})),i}}),mounted:function(){var e=this;this.authority=JSON.parse(localStorage.getItem("authority"));this.$axios({method:"get",url:this.$api.getReceiptInfo,params:{receipt_id:this.receiptdetrptSeeGet.receipt_id,is_edit:0}}).then((function(t){var a=t.data;200==a.code&&(e.$set(e,"TableData",a.data),e.formInline=e.TableData,e.receipt_id=e.receiptdetrptSeeGet.receipt_id)}))}}),v=f,g=(a("bb45"),Object(d["a"])(v,_,b,!1,null,"9268bffe",null)),y=g.exports,w={data:function(){return{commont:"receiptdetrptIndex"}},components:{receiptdetrptIndex:h,receiptdetrptSee:y},computed:Object(s["a"])({},Object(n["c"])(["receiptdetrptIndexGet","receiptdetrptSeeGet"])),watch:{receiptdetrptIndexGet:function(){this.commont=this.receiptdetrptIndexGet.commont},receiptdetrptSeeGet:function(){this.commont=this.receiptdetrptSeeGet.commont}}},x=w,k=Object(d["a"])(x,i,r,!1,null,null,null);t["default"]=k.exports},dc53:function(e,t,a){"use strict";a("9830")}}]);
//# sourceMappingURL=chunk-d56432b4.789fa1a4.js.map