{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/inventory/instorage/threeinstorage/threeinstorageAdd.vue?4a5a","webpack://erpcode-[name]/./src/components/element/inventory/instorage/threeinstorage/js/threeinstorageAdd.js","webpack://erpcode-[name]/src/components/element/inventory/instorage/threeinstorage/threeinstorageAdd.vue","webpack://erpcode-[name]/./src/components/element/inventory/instorage/threeinstorage/threeinstorageAdd.vue?9682","webpack://erpcode-[name]/./src/components/element/inventory/instorage/threeinstorage/threeinstorageAdd.vue?b937","webpack://erpcode-[name]/./src/components/element/inventory/instorage/threeinstorage/threeinstorageAdd.vue","webpack://erpcode-[name]/./node_modules/core-js/internals/array-fill.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.is-integer.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.array.fill.js","webpack://erpcode-[name]/./node_modules/core-js/internals/is-integral-number.js"],"names":["getWeek","today","Date","firstDay","getFullYear","dayOfWeek","getDay","spendDay","d","Math","ceil","valueOf","result","String","length","year","toString","substring","rowModule","sumbitRowModule","TableHead","data","tableColumn","type","width","field","title","fixed","slots","default","row","$refs","xTable","_copyRow","getCountThreeApportion","editRender","name","getParams","params","company_id","showObj","goods_id","goods_name","unit_name","brand_name","specification_type","factory_code","events","change","val","forEach","item","allocation_id","allocation_name","remaining_goods_num","setDefaultAllocation","a","_proxy","fullData","concat","addF","placeholder","blur","this","blurChange","headerAlign","align","input","updatePrice","url","isPage","warehouse_id","formatter","methods","isEdit","column","property","$publicFution","confirm","Number","abrasion_price","intube_price","price","isNaN","toFixed","change_price","subtotal_price","batch","substr","$message","warning","$set","delF","message","threeinstorageAddGet","instorage_id","$axios","method","$api","newAllocationList","then","res2","is_system","footerMethod","columns","map","columnIndex","includes","num","$utils","sum","isInteger","mixins","total_price","other_price","other_price_type","otherPriceType","loading","computed","isClearOtherPrice","flag","TableData","tableData","goBack","threeinstorageIndexACT","goPage","pageSize","$router","push","path","companyChange","departmentChange","warehouseChange","box","warehouseList","filter","warehouse_name","goods_list","goods_info","JSON","stringify","code","submit","formName","validate","valid","submitData","pop","i","key","tableDatas","api","mounted","infoThreeInStorage","res","Object","assign","instoragList","employee_id","buyer_id","employee_name","buyer_name","company_admin_id","localStorage","business_time","formatData","department_id","FDBName_business","checkAddLine","eval","state","status","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","on","_s","ref","rules","companyListInvok","model","value","callback","$$v","expression","_l","company_name","class","DepartmentListInvok","department_name","EmployeeListInvok","supplier_id","supplierListInvok","supplier_name","receivables_mode_id","getCollectionListOptionInvok","receivables_mode_name","required","trigger","warehouseInvok","$event","toFixedTwo","slot","label","_f","staticStyle","staticRenderFns","component","toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","O","argumentsLength","arguments","index","undefined","end","endPos","$","isIntegralNumber","target","stat","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","floor","repeat","stringSlice","slice","un$ToFixed","pow","x","n","acc","log","x2","multiply","c","c2","divide","dataToString","s","t","FORCED","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","fill","addToUnscopables","isObject","it","isFinite"],"mappings":"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","file":"js/chunk-caf9ae40.052e3009.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeinstorageAdd.vue?vue&type=style&index=0&id=9550ea90&scoped=true&lang=css&\"","export function getWeek() {\n  var today = new Date();\n  var firstDay = new Date(today.getFullYear(), 0, 1);\n  var dayOfWeek = firstDay.getDay();\n  var spendDay = 1;\n  if (dayOfWeek != 0) {\n    spendDay = 7 - dayOfWeek + 1;\n  }\n  firstDay = new Date(today.getFullYear(), 0, 1 + spendDay);\n  var d = Math.ceil((today.valueOf() - firstDay.valueOf()) / 86400000);\n  var result =\n    String(Math.ceil(d / 7) + 1).length == 2 ?\n      Math.ceil(d / 7) + 1 :\n      `0${Math.ceil(d / 7) + 1}`;\n  var year = today\n    .getFullYear()\n    .toString()\n    .substring(2);\n  return `${result}${year}`;\n}\n// 模板\nexport const rowModule = {\n  \"goods_id\": '',\n  \"batch\": getWeek(),\n  'brand_name': '',\n  \"goods_num\": 1,\n  \"remark\": '',\n  \"allocation_id\": '',\n  \"allocation_name\": '',\n  \"unit_name\": '',\n  \"abrasion_price\": 0,\n  \"intube_price\": 0,\n  \"change_price\": 0,\n  \"subtotal_price\": 0,\n  \"other_price\": \"\"\n}\n// 提交模板\nexport const sumbitRowModule = {\n  \"goods_id\": '',\n  \"batch\": '',\n  \"goods_num\": '',\n  \"remark\": '',\n  \"allocation_id\": '',\n  \"abrasion_price\": 0,\n  \"intube_price\": 0,\n  \"change_price\": 0,\n  \"subtotal_price\": 0\n}\nexport const TableHead = { // 需要传进来一个this对象\n  data() {\n    return {\n      tableColumn: [\n        {\n          type: \"checkbox\",\n          width: 44\n        },\n        {\n          field: 'brand_name',\n          title: '品牌名称',\n          width: 160\n        },\n        {\n          field: 'id',\n          title: '操作',\n          fixed: 'right',\n          width: 54,\n          slots: {\n            default: ({ row }) => {\n              return [<i class=\"el-icon-document-copy\" title='复制行信息' onClick={() => { this.$refs.xTable._copyRow(row); this.getCountThreeApportion() }} style=\"cursor: pointer;font-size: 15px;\" ></i>]\n            }\n          }\n        },\n        {\n          title: '商品编号',\n          field: 'goods_id',\n          width: 100\n        },\n        {\n          title: '商品名称',\n          field: 'goods_name',\n          width: 350,\n          editRender: {\n            name: 'vGoods',\n            getParams: () => {\n              return {\n                params: {\n                  company_id: this.params.company_id\n                },\n                showObj: {\n                  goods_id: \"商品编号\",\n                  goods_name: \"商品名称\",\n                  unit_name: \"单位\",\n                  brand_name: \"品牌\",\n                  specification_type: \"规格型号\",\n                  factory_code: \"工厂代码\"\n                }\n              }\n            },\n            events: {\n              change: (val, {\n                row\n              }) => {\n                [\"brand_name\", \"brand_id\", \"goods_id\", \"goods_name\", \"unit_name\", \"purchase_price\"].forEach(item => {\n                  row[item] = val[item]\n                });\n                row.allocation_id = null\n                row.allocation_name = null\n                row.remaining_goods_num = null\n                this.setDefaultAllocation(row) // 设置默认货位\n                var a = this.$refs.xTable._proxy(\"getTableData\").fullData.concat([])\n                if (a[a.length - 1].goods_id) {\n                  this.addF()\n                }\n              }\n            }\n          }\n        },\n        {\n          title: '年周/批次',\n          field: 'batch',\n          width: 150,\n          editRender: {\n            name: 'number',\n            placeholder: '周周年年,如1421',\n            events: {\n              blur: this.blurChange\n            }\n          }\n        },\n        {\n          title: '单位',\n          field: 'unit_name',\n          width: 100\n        },\n        {\n          title: '数量',\n          field: 'goods_num',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 110\n        },\n        {\n          title: '磨损费',\n          field: 'abrasion_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 140,\n          editRender: {\n            name: 'Vinput',\n            events: {\n              input: this.updatePrice,\n              change: this.getCountThreeApportion\n            },\n          }\n        },\n        {\n          title: '内垫费',\n          field: 'intube_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 140,\n          editRender: {\n            name: 'Vinput',\n            events: {\n              input: this.updatePrice,\n              change: this.getCountThreeApportion\n            }\n          }\n        },\n        {\n          title: '换胎收费',\n          field: 'change_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 140\n        },\n        {\n          title: '采购金额',\n          field: 'subtotal_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 140\n        },\n        {\n          title: '货位名称',\n          field: 'allocation_name',\n          width: 130,\n          editRender: {\n            name: 'vAllocation',\n            getParams: ({\n              row\n            }) => {\n              return {\n                url: 'newAllocationList',\n                isPage: true,\n                params: {\n                  company_id: this.params.company_id,\n                  warehouse_id: this.params.warehouse_id,\n                  goods_id: row.goods_id\n                }\n              }\n            },\n            events: {\n              change: ({\n                row\n              }, val) => {\n                row.allocation_id = val.allocation_id\n                row.allocation_name = val.allocation_name\n              }\n            }\n          }\n        },\n        {\n          title: '其他费用',\n          field: 'other_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 200\n        },\n        {\n          title: '备注',\n          field: 'remark',\n          width: 200,\n          editRender: {\n            name: 'Vinput',\n            formatter: 'String'\n          }\n        },\n      ]\n    }\n  },\n  methods: {\n    // 是否可编辑\n    isEdit({\n      column\n    }) {\n      if (column.property === 'goods_name' && !this.params.warehouse_id) {\n        this.$publicFution.confirm('请选择仓库')\n        return false\n      }\n      return true\n    },\n    // 更新价格\n    updatePrice({\n      row\n    }) {\n      var result = Number(row.abrasion_price) + Number(row.intube_price)\n      var price = isNaN(result) ? 0.00 : Number(result).toFixed(2)\n      row.change_price = price\n      row.subtotal_price = price\n    },\n    blurChange({ row }) {\n      if (row.batch.toString().length != 4) {\n        this.$message.warning(\"年周/批次填写错误，标准格式：周周年年，如1421\");\n        this.$set(row, \"batch\", '');\n      } else {\n        if (row.batch.toString().substr(0, 2) > 52 || row.batch.toString().substr(2, 2) > 21) {\n          this.$message.warning(\"年周/批次填写错误，标准格式：周周年年，如1421\");\n          this.$set(row, \"batch\", '');\n        }\n      }\n    },\n    // 删行\n    delF() {\n      if (this.$refs.xTable._proxy(\"getCheckboxRecords\").length) {\n        this.$refs.xTable._proxy(\"removeSelecteds\");\n        this.getCountThreeApportion()\n      } else {\n        this.$message({\n          message: \"请先选择要删除的订单！\",\n          type: \"warning\"\n        });\n      }\n    },\n    // 设置默认货位\n    setDefaultAllocation(row) {\n      if (!this.threeinstorageAddGet.instorage_id) {\n        this.$axios({\n          method: \"get\",\n          url: this.$api.newAllocationList,\n          params: {\n            company_id: this.params.company_id,\n            warehouse_id: this.params.warehouse_id,\n            goods_id: row.goods_id\n          }\n        })\n          .then(res2 => {\n            if (res2.data.data) {\n              for (let item of res2.data.data) {\n                if (item.is_system == 1) {\n                  //设置默认货位\n                  row.allocation_id = item.allocation_id\n                  row.allocation_name = item.allocation_name\n                }\n              }\n            }\n          })\n      }\n    },\n    // 合计行\n    footerMethod({\n      columns\n    }) {\n      return [\n        columns.map((column, columnIndex) => {\n          if (columnIndex === 1) {\n            return \"合计\";\n          }\n          if (['abrasion_price', 'intube_price', 'change_price', 'subtotal_price'].includes(column.property)) {\n            var num;\n            if (this.$refs.xTable) {\n              num = this.$utils.sum(\n                this.$refs.xTable._proxy(\"getTableData\").fullData,\n                column.property\n              );\n            } else {\n              num = 0;\n            }\n            if (column.property === 'subtotal_price') {\n              this.$set(this.params, \"total_price\", Number.isInteger(num) ? num : num.toFixed(2));\n            }\n            return Number.isInteger(num) ? num : num.toFixed(2);\n          }\n          return null;\n        })\n      ];\n    },\n    // 获取批次\n    getWeek: getWeek,\n  }\n}","<template>\n  <div>\n    <!-- 添加修改三包入库单 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>库存管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">三包入库管理</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>{{title}}三包入库单</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" ref=\"ruleForm\" class=\"demo-form-inline\">\n        <el-form-item label=\"库存组织\" size=\"mini\" prop=\"company_id\" :rules=\"rules.company_id\">\n          {{(function(){if(params.company_id == 0)params.company_id = null})()}}\n          <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" @focus=\"companyListInvok\" @change=\"companyChange\" filterable :disabled=\"title == '修改'\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <!-- prop=\"department_id\" :rules=\"rules.department_id\" 新需求去掉部门 -->\n        <el-form-item label=\"部门\" size=\"mini\">\n          {{(function(){if(params.department_id == 0)params.department_id = null})()}}\n          <el-select clearable v-model=\"params.department_id\" placeholder=\"请选择\" @change=\"departmentChange\" @focus=\"DepartmentListInvok\" filterable :disabled=\"title == '修改'\">\n            <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"采购员\" size=\"mini\" prop=\"buyer_id\" :rules=\"rules.buyer_id\">\n          {{(function(){if(params.buyer_id == 0)params.buyer_id = null})()}}\n          <el-select clearable v-model=\"params.buyer_id\" placeholder=\"请选择\" :disabled=\"title == '修改'\" @focus=\"EmployeeListInvok\">\n            <el-option :label=\"item.employee_name\" :value=\"item.employee_id\" :key=\"item.employee_id\" v-for=\"item in employeeList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\" prop=\"supplier_id\" :rules=\"rules.supplier_id\">\n          <el-select clearable v-model=\"params.supplier_id\" maxlength=\"100\" :filter-method=\"supplierListInvok\" @focus=\"supplierListInvok\" filterable placeholder=\"请选择\">\n            <el-option v-for=\"item in supplierList\" :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\" prop=\"business_time\" :rules=\"rules.business_time\">\n          <el-date-picker v-model=\"params.business_time\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"付款方式\" size=\"mini\">\n          {{(function(){if(params.receivables_mode_id == 0)params.receivables_mode_id = null})()}}\n          <el-select clearable v-model=\"params.receivables_mode_id\" placeholder=\"请选择\" @focus=\"getCollectionListOptionInvok\">\n            <el-option :label=\"item.receivables_mode_name\" :value=\"item.receivables_mode_id\" :key=\"item.receivables_mode_id\" v-for=\"item in receivablesList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"仓库名称\" size=\"mini\" prop=\"warehouse_id\" :rules=\"[{ required: true, message: '请选择仓库', trigger: 'change' }]\">\n          <el-select v-model=\"params.warehouse_id\" placeholder=\"请选择\" filterable @focus=\"warehouseInvok\" @change=\"warehouseChange\">\n            <el-option v-for=\"item in warehouseList\" :key=\"item.warehouse_id\" :label=\"item.warehouse_name\" :value=\"item.warehouse_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"其他费用\" size=\"mini\">\n          {{(function(){if(params.other_price_type == 0)params.other_price_type = null})()}}\n          <el-input placeholder=\"金额\" v-model=\"params.other_price\" class=\"input-with-select\" @change=\"getCountThreeApportion\" @blur=\"$publicFution.toFixedTwo(params, 'other_price')\">\n            <el-select v-model=\"params.other_price_type\" class=\"styleInput\" slot=\"prepend\" @change=\"getCountThreeApportion\">\n              <el-option v-for=\"item in otherPriceType\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"入库类型\" size=\"mini\">\n          <el-input type=\"text\" maxlength=\"300\" value=\"三包入库\" disabled=\"disabled\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"摘要\" size=\"mini\">\n          <el-input type=\"text\" maxlength=\"300\" v-model=\"params.remark\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n\n      </el-form>\n    </div>\n    <div class=\"add_delet\">\n      <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"addF\" class=\"addBtn\" size=\"mini\">增行</el-button>\n      <el-button plain icon=\"el-icon-delete\" @click=\"delF\" size=\"mini\">删行</el-button>\n    </div>\n    <div class=\"table_container\">\n      <xTable ref='xTable' :isEdit='isEdit' :tableColumn='tableColumn' :showFooter='true' :footerMethod=\"footerMethod\" />\n      <div class=\"refundauditFoot\">\n        <!-- 以前使用 -->\n        <!-- <span>结算金额：{{(params.total_price = !params.total_price ? '0.00' : params.total_price) | priceFormatNone}}元</span> -->\n        <!-- 修改后 -->\n        <span>结算金额：{{params.total_price | priceFormatNone}}元</span>\n      </div>\n    </div>\n\n    <div class=\"dialog-footer\" style=\"text-align:center;margin-top:20px;\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit('ruleForm')\">确 定</el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport {\n  opthionList,\n  CompanySwitchClear\n} from \"common/utils/public_function/commonUtils\";\nimport { TableHead, rowModule, sumbitRowModule } from \"./js/threeinstorageAdd\";\nexport default {\n  name: \"inventoryThreeinstorageThreeinstorageAdd\",\n  mixins: [TableHead],\n  data() {\n    return {\n      title: \"添加\",\n      params: {\n        total_price: 0, //结算金额\n        other_price: \"\",\n        other_price_type: \"\"\n      },\n      otherPriceType: [\n        {\n          value: 0,\n          label: \"不分摊\"\n        },\n        {\n          value: 1,\n          label: \"按金额分摊\"\n        },\n        {\n          value: 2,\n          label: \"按数量分摊\"\n        }\n      ],\n      loading: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"threeinstorageAddGet\"])\n  },\n  methods: {\n    ...mapActions([\"threeinstorageIndexACT\"]),\n    isClearOtherPrice(flag) {\n      if (this.params.other_price_type == 0 || flag) {\n        this.TableData.tableData.forEach((obj, index) => {\n          this.$set(this.TableData.tableData[index], \"other_price\", 0);\n        });\n      }\n    },\n    goBack() {\n      this.threeinstorageIndexACT({\n        goPage: this.threeinstorageAddGet.goPage,\n        params: this.threeinstorageAddGet.params,\n        pageSize: this.threeinstorageAddGet.pageSize\n      });\n      this.$router.push({\n        path: \"/inventory/threeinstorage\"\n      });\n    },\n    companyChange(val) {\n      CompanySwitchClear(this, this.params);\n      this.$refs.xTable._proxy(\"loadData\", []);\n      this.addF();\n    },\n    departmentChange(val) {\n      this.$set(this.params, \"buyer_id\", \"\");\n    },\n    warehouseChange(id) {\n      // 切换仓库，清空表格数据\n      this.$refs.xTable._proxy(\"loadData\", []);\n      this.addF();\n      var box = this.warehouseList.filter(val => val.warehouse_id === id);\n      this.params.warehouse_name = box[0] ? box[0].warehouse_name : \"\";\n    },\n    getCountThreeApportion() {\n      this.$refs.xTable._proxy(\"updateFooter\");\n      if (!Number(this.params.other_price) || !this.params.other_price_type) {\n        var box = this.$refs.xTable._proxy(\"getTableData\").fullData.concat([]);\n        box.forEach((item, index) => {\n          item.other_price = 0;\n        });\n        this.$refs.xTable._proxy(\"loadData\", box);\n        return false;\n      }\n      if (!this.params.total_price) {\n        return false;\n      }\n      let goods_info = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .fullData.concat([])\n        .map(item => {\n          return {\n            goods_id: item.goods_id,\n            batch: item.batch,\n            // production_time: item.production_time,\n            goods_num: item.goods_num,\n            remark: item.remark,\n            allocation_id: item.allocation_id,\n            abrasion_price: item.abrasion_price,\n            intube_price: item.intube_price,\n            change_price: item.change_price,\n            subtotal_price: item.subtotal_price\n          };\n        });\n      let goods_list = goods_info.filter(item => item.goods_id);\n      var total_price = this.$utils.sum(goods_list, \"subtotal_price\");\n      // 按金额： 其他费用  = 总其他费用*（各商品小计金额/合计金额）\n      // 按数量： 其他费用  = 总其他费用*（各商品数量/合计数量）\n      this.$axios({\n        method: \"get\",\n        url: this.$api.getCountThreeApportion,\n        params: {\n          other_price: this.params.other_price,\n          other_price_type: this.params.other_price_type,\n          total_price: total_price,\n          goods_info: JSON.stringify(goods_list)\n        }\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          var result = this.$refs.xTable\n            ._proxy(\"getTableData\")\n            .fullData.concat([]);\n          result.forEach((item, index) => {\n            item.other_price = Number(\n              data.data.other_list[index].other_price\n            ).toFixed(2);\n          });\n          this.$refs.xTable._proxy(\"loadData\", result);\n        }\n      });\n    },\n    addF() {\n      if (!this.params.company_id) {\n        this.$message.warning(\"请选择采购组织\");\n      } else if (!this.params.warehouse_id) {\n        this.$message.warning(\"请选择仓库\");\n      } else {\n        this.$refs.xTable._proxy(\n          \"insertAt\",\n          this.$publicFution.deepCopy(rowModule),\n          -1\n        );\n      }\n    },\n    submit(formName) {\n      let flag = true;\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          var tableData = this.$refs.xTable\n            ._proxy(\"getTableData\")\n            .fullData.concat([]);\n          var submitData = tableData.filter(val => {\n            return val.goods_id;\n          });\n          if (!submitData.length) {\n            this.$message.error(\"请完善表格\");\n            return false;\n          }\n          if (!tableData[tableData.length - 1].goods_name) {\n            tableData.pop();\n          }\n          let objMsg = {\n            goods_id: \"请选择商品\",\n            goods_name: \"请选择商品\",\n            batch: \"请输入批次\",\n            // production_time: \"请选择生产日期\",\n            allocation_id: \"请选择货位\"\n          };\n          for (let i = 0; i < tableData.length; i++) {\n            for (let key in objMsg) {\n              if (!tableData[i][key]) {\n                this.$message.warning(objMsg[key]);\n                flag = false;\n                break;\n              }\n            }\n          }\n          if (!flag) return false;\n          let tableDatas = tableData.map(item => {\n            return this.$publicFution.filter(sumbitRowModule, item);\n          });\n          let api = !this.instorage_id\n            ? this.$api.addThreeInStorage\n            : this.$api.editThreeInStorage;\n          let params = Object.assign({}, this.params, {\n            goods_info: JSON.stringify(tableDatas),\n            type: 1\n          });\n          if (api == this.$api.editThreeInStorage)\n            params.instorage_id = this.threeinstorageAddGet.instorage_id;\n          // 校验对接车郎中\n          this.$baseData\n            .checkCarDoctor({\n              company_id: this.params.company_id,\n              company_name: this.params.company_name,\n              bill_type: 5,\n              bill_id: this.instorage_id,\n              operation_type: this.instorage_id ? 2 : 1,\n              goods_info: JSON.stringify(\n                Array(tableDatas.length).fill({\n                  warehouse_id: this.params.warehouse_id,\n                  warehouse_name: this.params.warehouse_name\n                })\n              )\n            })\n            .then(() => {\n              // 新增修改接口\n              this.$axios({\n                method: \"post\",\n                url: api,\n                data: params\n              }).then(res => {\n                if (res.data.code == 200) {\n                  this.$message.success(res.data.msg);\n                  this.goBack();\n                }\n              });\n            });\n        }\n      });\n    }\n  },\n  mounted() {\n    this.title = this.threeinstorageAddGet.instorage_id ? \"修改\" : \"添加\";\n    if (this.threeinstorageAddGet.instorage_id) {\n      this.instorage_id = this.threeinstorageAddGet.instorage_id;\n      this.$axios({\n        method: \"get\",\n        url: this.$api.infoThreeInStorage,\n        params: {\n          instorage_id: this.instorage_id\n        }\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.params = res.data.data.instoragList;\n          this.$refs.xTable._proxy(\"loadData\", res.data.data.goodsList);\n          Object.assign(res.data.data.instoragList, {\n            employee_id: res.data.data.instoragList.buyer_id,\n            employee_name: res.data.data.instoragList.buyer_name\n          });\n          opthionList(this, res.data.data.instoragList);\n        }\n      });\n    } else {\n      let { employee_id, company_admin_id } = localStorage;\n      if ([0, 1, 2].includes(Number(employee_id)) || company_admin_id > 0) {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          business_time: this.$publicFution.formatData(new Date()),\n          other_price_type: 0\n        });\n      } else {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          department_id: Number(localStorage.department_id),\n          buyer_id: Number(localStorage.employee_id),\n          business_time: this.$publicFution.formatData(new Date()),\n          other_price_type: 0\n        });\n      }\n      opthionList(this, window.localStorage);\n    }\n    if (localStorage.FDBName_business) {\n      let state = localStorage.getItem(\"FDBName_business\");\n      this.checkAddLine = eval(state)[0].status == 1 ? true : false;\n    }\n    this.$refs.xTable._proxy(\n      \"insertAt\",\n      this.$publicFution.deepCopy(rowModule),\n      -1\n    );\n  }\n};\n</script>\n\n<style scoped>\n.styleInput > .el-input {\n  width: auto !important;\n}\n\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n.title {\n  line-height: 50px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.el-form > div:nth-child(2n + 1) {\n  clear: both;\n}\n\n.batch-ul {\n  overflow: hidden;\n}\n\n.batch-ul2 {\n  padding: 0 20px;\n}\n\n.line1 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.batch-ul li {\n  float: left;\n  line-height: 34px;\n  height: 34px;\n}\n\n.batch-ul li:nth-child(1) {\n  width: 140px;\n}\n\n.batch-ul li:nth-child(2) {\n  width: 140px;\n  text-align: right;\n}\n.el-table td div {\n  width: 100%;\n}\n.warehouse-ul li {\n  padding: 0px;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"库存管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"三包入库管理\")])]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.title)+\"三包入库单\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"库存组织\",\"size\":\"mini\",\"prop\":\"company_id\",\"rules\":_vm.rules.company_id}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.company_id == 0){ _vm.params.company_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"disabled\":_vm.title == '修改'},on:{\"focus\":_vm.companyListInvok,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.department_id == 0){ _vm.params.department_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"disabled\":_vm.title == '修改'},on:{\"change\":_vm.departmentChange,\"focus\":_vm.DepartmentListInvok},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\",\"prop\":\"buyer_id\",\"rules\":_vm.rules.buyer_id}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.buyer_id == 0){ _vm.params.buyer_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.title == '修改'},on:{\"focus\":_vm.EmployeeListInvok},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}},_vm._l((_vm.employeeList),function(item){return _c('el-option',{key:item.employee_id,attrs:{\"label\":item.employee_name,\"value\":item.employee_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\",\"prop\":\"supplier_id\",\"rules\":_vm.rules.supplier_id}},[_c('el-select',{attrs:{\"clearable\":\"\",\"maxlength\":\"100\",\"filter-method\":_vm.supplierListInvok,\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.supplierListInvok},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplierList),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\",\"prop\":\"business_time\",\"rules\":_vm.rules.business_time}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"付款方式\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.receivables_mode_id == 0){ _vm.params.receivables_mode_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.getCollectionListOptionInvok},model:{value:(_vm.params.receivables_mode_id),callback:function ($$v) {_vm.$set(_vm.params, \"receivables_mode_id\", $$v)},expression:\"params.receivables_mode_id\"}},_vm._l((_vm.receivablesList),function(item){return _c('el-option',{key:item.receivables_mode_id,attrs:{\"label\":item.receivables_mode_name,\"value\":item.receivables_mode_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"仓库名称\",\"size\":\"mini\",\"prop\":\"warehouse_id\",\"rules\":[{ required: true, message: '请选择仓库', trigger: 'change' }]}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.warehouseInvok,\"change\":_vm.warehouseChange},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}},_vm._l((_vm.warehouseList),function(item){return _c('el-option',{key:item.warehouse_id,attrs:{\"label\":item.warehouse_name,\"value\":item.warehouse_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"其他费用\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.other_price_type == 0){ _vm.params.other_price_type = null }})())+\" \"),_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"金额\"},on:{\"change\":_vm.getCountThreeApportion,\"blur\":function($event){return _vm.$publicFution.toFixedTwo(_vm.params, 'other_price')}},model:{value:(_vm.params.other_price),callback:function ($$v) {_vm.$set(_vm.params, \"other_price\", $$v)},expression:\"params.other_price\"}},[_c('el-select',{staticClass:\"styleInput\",attrs:{\"slot\":\"prepend\"},on:{\"change\":_vm.getCountThreeApportion},slot:\"prepend\",model:{value:(_vm.params.other_price_type),callback:function ($$v) {_vm.$set(_vm.params, \"other_price_type\", $$v)},expression:\"params.other_price_type\"}},_vm._l((_vm.otherPriceType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"入库类型\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\",\"value\":\"三包入库\",\"disabled\":\"disabled\"}})],1),_c('el-form-item',{attrs:{\"label\":\"摘要\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.remark),callback:function ($$v) {_vm.$set(_vm.params, \"remark\", $$v)},expression:\"params.remark\"}})],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addF}},[_vm._v(\"增行\")]),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.delF}},[_vm._v(\"删行\")])],1),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"isEdit\":_vm.isEdit,\"tableColumn\":_vm.tableColumn,\"showFooter\":true,\"footerMethod\":_vm.footerMethod}}),_c('div',{staticClass:\"refundauditFoot\"},[_c('span',[_vm._v(\"结算金额：\"+_vm._s(_vm._f(\"priceFormatNone\")(_vm.params.total_price))+\"元\")])])],1),_c('div',{staticClass:\"dialog-footer\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeinstorageAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeinstorageAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./threeinstorageAdd.vue?vue&type=template&id=9550ea90&scoped=true&\"\nimport script from \"./threeinstorageAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./threeinstorageAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./threeinstorageAdd.vue?vue&type=style&index=0&id=9550ea90&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9550ea90\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar isIntegralNumber = require('../internals/is-integral-number');\n\n// `Number.isInteger` method\n// https://tc39.es/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isIntegralNumber\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `IsIntegralNumber` abstract operation\n// https://tc39.es/ecma262/#sec-isintegralnumber\n// eslint-disable-next-line es/no-number-isinteger -- safe\nmodule.exports = Number.isInteger || function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n"],"sourceRoot":""}