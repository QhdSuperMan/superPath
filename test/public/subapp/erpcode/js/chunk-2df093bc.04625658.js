(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-2df093bc"],{1418:function(e,t,a){},"19aa":function(e,t,a){var o=a("da84"),r=a("3a9b"),i=o.TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},2266:function(e,t,a){var o=a("da84"),r=a("0366"),i=a("c65b"),s=a("825a"),l=a("0d51"),n=a("e95a"),c=a("07fa"),p=a("3a9b"),u=a("9a1f"),d=a("35a1"),f=a("2a62"),m=o.TypeError,h=function(e,t){this.stopped=e,this.result=t},_=h.prototype;e.exports=function(e,t,a){var o,b,g,w,y,v,k,S=a&&a.that,x=!(!a||!a.AS_ENTRIES),D=!(!a||!a.IS_ITERATOR),N=!(!a||!a.INTERRUPTED),$=r(t,S),T=function(e){return o&&f(o,"normal",e),new h(!0,e)},I=function(e){return x?(s(e),N?$(e[0],e[1],T):$(e[0],e[1])):N?$(e,T):$(e)};if(D)o=e;else{if(b=d(e),!b)throw m(l(e)+" is not iterable");if(n(b)){for(g=0,w=c(e);w>g;g++)if(y=I(e[g]),y&&p(_,y))return y;return new h(!1)}o=u(e,b)}v=o.next;while(!(k=i(v,o)).done){try{y=I(k.value)}catch(O){f(o,"throw",O)}if("object"==typeof y&&y&&p(_,y))return y}return new h(!1)}},2626:function(e,t,a){"use strict";var o=a("d066"),r=a("9bf2"),i=a("b622"),s=a("83ab"),l=i("species");e.exports=function(e){var t=o(e),a=r.f;s&&t&&!t[l]&&a(t,l,{configurable:!0,get:function(){return this}})}},5118:function(e,t,a){(function(e){var o="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},a("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},6017:function(e,t,a){(function(e,t){(function(e,a){"use strict";if(!e.setImmediate){var o,r=1,i={},s=!1,l=e.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(e);n=n&&n.setTimeout?n:e,"[object process]"==={}.toString.call(e.process)?f():m()?h():e.MessageChannel?_():l&&"onreadystatechange"in l.createElement("script")?b():g(),n.setImmediate=c,n.clearImmediate=p}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var s={callback:e,args:t};return i[r]=s,o(r),r++}function p(e){delete i[e]}function u(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(a,o);break}}function d(e){if(s)setTimeout(d,0,e);else{var t=i[e];if(t){s=!0;try{u(t)}finally{p(e),s=!1}}}}function f(){o=function(e){t.nextTick((function(){d(e)}))}}function m(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}function h(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"===typeof a.data&&0===a.data.indexOf(t)&&d(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),o=function(a){e.postMessage(t+a,"*")}}function _(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)},o=function(t){e.port2.postMessage(t)}}function b(){var e=l.documentElement;o=function(t){var a=l.createElement("script");a.onreadystatechange=function(){d(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}function g(){o=function(e){setTimeout(d,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,a("c8ba"),a("4362"))},6062:function(e,t,a){"use strict";var o=a("6d61"),r=a("6566");o("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(e,t,a){"use strict";var o=a("9bf2").f,r=a("7c73"),i=a("e2cc"),s=a("0366"),l=a("19aa"),n=a("2266"),c=a("7dd0"),p=a("2626"),u=a("83ab"),d=a("f183").fastKey,f=a("69f3"),m=f.set,h=f.getterFor;e.exports={getConstructor:function(e,t,a,c){var p=e((function(e,o){l(e,f),m(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=o&&n(o,e[c],{that:e,AS_ENTRIES:a})})),f=p.prototype,_=h(t),b=function(e,t,a){var o,r,i=_(e),s=g(e,t);return s?s.value=a:(i.last=s={index:r=d(t,!0),key:t,value:a,previous:o=i.last,next:void 0,removed:!1},i.first||(i.first=s),o&&(o.next=s),u?i.size++:e.size++,"F"!==r&&(i.index[r]=s)),e},g=function(e,t){var a,o=_(e),r=d(t);if("F"!==r)return o.index[r];for(a=o.first;a;a=a.next)if(a.key==t)return a};return i(f,{clear:function(){var e=this,t=_(e),a=t.index,o=t.first;while(o)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete a[o.index],o=o.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,a=_(t),o=g(t,e);if(o){var r=o.next,i=o.previous;delete a.index[o.index],o.removed=!0,i&&(i.next=r),r&&(r.previous=i),a.first==o&&(a.first=r),a.last==o&&(a.last=i),u?a.size--:t.size--}return!!o},forEach:function(e){var t,a=_(this),o=s(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:a.first){o(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),i(f,a?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),u&&o(f,"size",{get:function(){return _(this).size}}),p},setStrong:function(e,t,a){var o=t+" Iterator",r=h(t),i=h(o);c(e,t,(function(e,t){m(this,{type:o,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),p(t)}}},"6d61":function(e,t,a){"use strict";var o=a("23e7"),r=a("da84"),i=a("e330"),s=a("94ca"),l=a("6eeb"),n=a("f183"),c=a("2266"),p=a("19aa"),u=a("1626"),d=a("861d"),f=a("d039"),m=a("1c7e"),h=a("d44e"),_=a("7156");e.exports=function(e,t,a){var b=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),w=b?"set":"add",y=r[e],v=y&&y.prototype,k=y,S={},x=function(e){var t=i(v[e]);l(v,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return g&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!d(e))&&t(this,0===e?0:e)}:function(e,a){return t(this,0===e?0:e,a),this})},D=s(e,!u(y)||!(g||v.forEach&&!f((function(){(new y).entries().next()}))));if(D)k=a.getConstructor(t,e,b,w),n.enable();else if(s(e,!0)){var N=new k,$=N[w](g?{}:-0,1)!=N,T=f((function(){N.has(1)})),I=m((function(e){new y(e)})),O=!g&&f((function(){var e=new y,t=5;while(t--)e[w](t,t);return!e.has(-0)}));I||(k=t((function(e,t){p(e,v);var a=_(new y,e,k);return void 0!=t&&c(t,a[w],{that:a,AS_ENTRIES:b}),a})),k.prototype=v,v.constructor=k),(T||O)&&(x("delete"),x("has"),b&&x("get")),(O||$)&&x(w),g&&v.clear&&delete v.clear}return S[e]=k,o({global:!0,forced:k!=y},S),h(k,e),g||a.setStrong(k,e,b),k}},"73a8":function(e,t,a){},aaf3:function(e,t,a){"use strict";a("1418")},b680:function(e,t,a){"use strict";var o=a("23e7"),r=a("da84"),i=a("e330"),s=a("5926"),l=a("408a"),n=a("1148"),c=a("d039"),p=r.RangeError,u=r.String,d=Math.floor,f=i(n),m=i("".slice),h=i(1..toFixed),_=function(e,t,a){return 0===t?a:t%2===1?_(e,t-1,a*e):_(e*e,t/2,a)},b=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},g=function(e,t,a){var o=-1,r=a;while(++o<6)r+=t*e[o],e[o]=r%1e7,r=d(r/1e7)},w=function(e,t){var a=6,o=0;while(--a>=0)o+=e[a],e[a]=d(o/t),o=o%t*1e7},y=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var o=u(e[t]);a=""===a?o:a+f("0",7-o.length)+o}return a},v=c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}));o({target:"Number",proto:!0,forced:v},{toFixed:function(e){var t,a,o,r,i=l(this),n=s(e),c=[0,0,0,0,0,0],d="",h="0";if(n<0||n>20)throw p("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return u(i);if(i<0&&(d="-",i=-i),i>1e-21)if(t=b(i*_(2,69,1))-69,a=t<0?i*_(2,-t,1):i/_(2,t,1),a*=4503599627370496,t=52-t,t>0){g(c,0,a),o=n;while(o>=7)g(c,1e7,0),o-=7;g(c,_(10,o,1),0),o=t-1;while(o>=23)w(c,1<<23),o-=23;w(c,1<<o),g(c,1,1),w(c,2),h=y(c)}else g(c,0,a),g(c,1<<-t,0),h=y(c)+f("0",n);return n>0?(r=h.length,h=d+(r<=n?"0."+f("0",n-r)+h:m(h,0,r-n)+"."+m(h,r-n))):h=d+h,h}})},bb2f:function(e,t,a){var o=a("d039");e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d690:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_container"},[a("el-form",{ref:"addFormInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"销售组织",size:"mini",rules:e.rules.company_id,prop:"company_id"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.companyListInvok,change:e.companyChange},model:{value:e.params.company_id,callback:function(t){e.$set(e.params,"company_id",t)},expression:"params.company_id"}},e._l(e.companyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"供应商(厂家)",rules:e.rules.supplier_id,size:"mini",prop:"supplier_id"}},[a("el-select",{attrs:{clearable:"",filterable:"","filter-method":e.supplierListInvok},on:{focus:e.supplierListInvok},model:{value:e.params.supplier_id,callback:function(t){e.$set(e.params,"supplier_id",t)},expression:"params.supplier_id"}},e._l(e.supplierList,(function(e){return a("el-option",{key:e.supplier_id,attrs:{label:e.supplier_name,value:e.supplier_id}})})),1)],1),a("el-form-item",{attrs:{label:"鉴定日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.params.business_time,callback:function(t){e.$set(e.params,"business_time",t)},expression:"params.business_time"}})],1),a("el-form-item",{attrs:{label:"部门",size:"mini"}},[e._v(" "+e._s(function(){0==e.params.department_id&&(e.params.department_id=null)}())+" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.DepartmentListInvok},model:{value:e.params.department_id,callback:function(t){e.$set(e.params,"department_id",t)},expression:"params.department_id"}},e._l(e.departmentList,(function(e){return a("el-option",{key:e.department_id,attrs:{label:e.department_name,value:e.department_id}})})),1)],1),a("el-form-item",{attrs:{label:"备注",size:"mini"}},[a("el-input",{attrs:{type:"text",maxlength:"300"},model:{value:e.params.remark,callback:function(t){e.$set(e.params,"remark",t)},expression:"params.remark"}})],1)],1)],1),a("div",{staticClass:"add_delet"},[a("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"mini"},on:{click:e.quoteOrder}},[e._v("引用单据")]),a("el-button",{attrs:{plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.deletes}},[e._v("删行")])],1),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.getMessage,"max-height":"600"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",fixed:"left",align:"center",width:"44"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"brand_name",label:"品牌名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_id",label:"商品编号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_name",label:"商品名称","min-width":"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(t.row.goods_name))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"tire_un",label:"胎号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"symptom_name",width:"200",label:"病象"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"jz",attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.row.symptom_id,callback:function(a){e.$set(t.row,"symptom_id",a)},expression:"scope.row.symptom_id"}},e._l(e.diseaseList,(function(e){return a("el-option",{key:e.symptom_id,attrs:{label:e.symptom_name,value:e.symptom_id}})})),1)]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_status",label:"公司鉴定结果",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.company_status?a("span",[e._v("待厂检")]):e._e(),2==t.row.company_status?a("span",[e._v("理赔")]):e._e(),3==t.row.company_status?a("span",[e._v("不理赔")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"raw_flowerdeep",label:"出厂花深",width:"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"surplus_flowerdeep",label:"剩余花深",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入","suffix-icon":"el-icon-edit-outline"},on:{focus:function(t){return e.changeStatusF(!0)}},model:{value:t.row.surplus_flowerdeep,callback:function(a){e.$set(t.row,"surplus_flowerdeep",a)},expression:"scope.row.surplus_flowerdeep"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"factory_flowerdeep",label:"厂免花深",width:"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"charge_flowerdeep",label:"收费花深",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.charge_flowerdeep))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"mm_wearprice",label:"毫米磨损费",width:"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"wear_price",label:"磨损费",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入","suffix-icon":"el-icon-edit-outline"},on:{focus:function(t){return e.changeStatusF(!1)}},model:{value:t.row.wear_price,callback:function(a){e.$set(t.row,"wear_price",a)},expression:"scope.row.wear_price"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"intube_price",label:"内胎采购价",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入","suffix-icon":"el-icon-edit-outline"},on:{focus:function(t){return e.changeStatusF(!1)}},nativeOn:{input:function(a){return e.intubePrice(t.row,t.$index)}},model:{value:t.row.intube_price,callback:function(a){e.$set(t.row,"intube_price",a)},expression:"scope.row.intube_price"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"flap_price",label:"垫带采购价",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入","suffix-icon":"el-icon-edit-outline"},on:{focus:function(t){return e.changeStatusF(!1)}},nativeOn:{input:function(a){return e.flapPrice(t.row,t.$index)}},model:{value:t.row.flap_price,callback:function(a){e.$set(t.row,"flap_price",a)},expression:"scope.row.flap_price"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"inflap_price",label:"内垫采购价",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入","suffix-icon":"el-icon-edit-outline"},on:{focus:function(t){return e.changeStatusF(!1)}},model:{value:t.row.inflap_price,callback:function(a){e.$set(t.row,"inflap_price",a)},expression:"scope.row.inflap_price"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"purchase_price",label:"商品采购价",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入","suffix-icon":"el-icon-edit-outline"},on:{focus:function(t){return e.changeStatusF(!1)}},model:{value:t.row.purchase_price,callback:function(a){e.$set(t.row,"purchase_price",a)},expression:"scope.row.purchase_price"}})]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"factory_price",label:"厂赔单价",width:"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"factory_status",label:"厂家鉴定结果",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(function(){t.row.factory_status||e.$set(e.getMessage[t.$index],"factory_status",1)}())+" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.row.factory_status,callback:function(a){e.$set(t.row,"factory_status",a)},expression:"scope.row.factory_status"}},[a("el-option",{attrs:{label:"理赔",value:1}},[e._v("理赔")]),a("el-option",{attrs:{label:"不理赔",value:2}},[e._v("不理赔")])],1)]}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.goBack}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("addFormInline")}}},[e._v("确 定")])],1),e.salesDocumentsVisible?a("appraisal-dalog",{attrs:{message:e.params.supplier_id,companyID:e.params.company_id},on:{getmessage:e.dongList}}):e._e()],1)},r=[],i=a("2909"),s=a("5530"),l=(a("b680"),a("a9e3"),a("d81d"),a("d3b7"),a("159b"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("6062"),a("3ca3"),a("ddb0"),a("4de4"),a("a630"),a("a15b"),a("e9c4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"dialogForm",attrs:{"close-on-click-modal":!1,title:"引用公司鉴定单据",visible:!0,width:"1300px",height:"70%"},on:{close:e.closeDialog}},[a("h3",{staticClass:"handler-tips"},[a("span"),e._v("双击任意一条数据可以实现该条数据的上下穿梭！")]),a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"业务日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),a("el-form-item",{attrs:{label:"胎号",size:"mini"}},[a("el-input",{staticClass:"shortSearchInput",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchF.apply(null,arguments)}},model:{value:e.params.tire_un,callback:function(t){e.$set(e.params,"tire_un",t)},expression:"params.tire_un"}})],1),a("el-form-item",{attrs:{label:"商品名称",size:"mini"}},[a("el-input",{staticClass:"shortSearchInput",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchF.apply(null,arguments)}},model:{value:e.params.goods_name,callback:function(t){e.$set(e.params,"goods_name",t)},expression:"params.goods_name"}})],1),a("el-form-item",{attrs:{label:"审核状态",size:"mini"}},[a("el-select",{attrs:{clearable:""},model:{value:e.params.auditor_status,callback:function(t){e.$set(e.params,"auditor_status",t)},expression:"params.auditor_status"}},[a("el-option",{attrs:{label:"全部",value:0}},[e._v("全部")]),a("el-option",{attrs:{label:"未审核",value:1}},[e._v("未审核")]),a("el-option",{attrs:{label:"已审核",value:2}},[e._v("已审核")])],1)],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"table_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"},{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.tableData,height:"200"},on:{"selection-change":e.handleSelectionChange,"row-dblclick":e.toDownList,scroll:e.topScroll}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",fixed:"left",align:"center",width:"44"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"brand_name",label:"品牌名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_name",label:"商品名称","min-width":"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(t.row.goods_name))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_id",label:"商品编号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"130",property:"tire_un",label:"胎号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"symptom_name",label:"病象"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"raw_flowerdeep",label:"出厂花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"surplus_flowerdeep",label:"剩余花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"factory_flowerdeep",label:"厂免花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"care_flowerdeep",label:"公司照顾花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"charge_flowerdeep",label:"收费花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"mm_wearprice",label:"毫米磨损费"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"wear_price",label:"磨损费"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_price",label:"商品售价"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_status",label:"公司鉴定结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.company_status?a("span",[e._v("待厂检")]):e._e(),2==t.row.company_status?a("span",[e._v("理赔")]):e._e(),3==t.row.company_status?a("span",[e._v("不理赔")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_time",label:"业务日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"add_time",label:"单据时间"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"auditor_status_name",label:"审核状态",width:"120"}})],1)],1),a("div",{staticClass:"operator"},[a("div",{staticClass:"btn-container"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.downToList}},[e._v("到下面")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.upToList}},[e._v("到上面")])],1)]),a("div",{staticClass:"table_container"},[a("p",{staticClass:"table-tips"},[e._v("已选数据表")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingStatus,expression:"loadingStatus"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.handlerArr,height:"200"},on:{"selection-change":e.handleSelectionChangeBottom,"row-dblclick":e.toUpList,scroll:e.bottomScroll}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",fixed:"left",align:"center",width:"44"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"brand_name",label:"品牌名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_name",label:"商品名称","min-width":"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(t.row.goods_name))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_id",label:"商品编号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"130",property:"tire_un",label:"胎号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"symptom_name",label:"病象"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"raw_flowerdeep",label:"出厂花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"surplus_flowerdeep",label:"剩余花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"factory_flowerdeep",label:"厂免花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"care_flowerdeep",label:"公司照顾花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"charge_flowerdeep",label:"收费花深"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"mm_wearprice",label:"毫米磨损费"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"wear_price",label:"磨损费"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_price",label:"商品售价"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_status",label:"公司鉴定结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.company_status?a("span",[e._v("待厂检")]):e._e(),2==t.row.company_status?a("span",[e._v("理赔")]):e._e(),3==t.row.company_status?a("span",[e._v("不理赔")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_time",label:"业务日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"add_time",label:"单据时间"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"auditor_status_name",label:"审核状态",width:"120"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeDialog()}}},[e._v("取 消")]),a("el-button",{staticClass:"tx",attrs:{type:"primary"},on:{click:function(t){return e.dialogSubmitForm()}}},[e._v("确 定")])],1)])],1)}),n=[],c=(a("a434"),a("99af"),a("65b0")),p={data:function(){return{authority:{},radio:"",TableData:{tableData:[]},handlerArr:[],params:{},per_page:[30,50,100,500],loading:!0,searchParams:{},goPage:1,pageSize:30,timeValue:[],dialogmultipleSelection:[],goodsList:[],options4:[],list:[],addmultipleSelection:[],addmultipleSelectionBottom:[],loadSign:!0,loadingStatus:!1}},props:["message","companyID"],methods:{handleSelectionChange:function(e){this.addmultipleSelection=e},handleSelectionChangeBottom:function(e){this.addmultipleSelectionBottom=e},topScroll:function(e){console.log("scroll",event.target.scrollLeft)},bottomScroll:function(e){console.log("scroll",event.target.scrollLeft)},loadMore:function(){},unique:function(){var e={};this.TableData.tableData=this.TableData.tableData.reduce((function(t,a){return!e[a.company_appraisal_goods_id]&&(e[a.company_appraisal_goods_id]=t.push(a)),t}),[]);var t={page:this.goPage};localStorage.setItem("page",JSON.stringify(t)),this.loadSign=!0,this.loadingStatus=!1},handleSizeChange:function(e){Object.assign(this.searchParams.params,{per_page:e,page:1}),Object(c["g"])(this.searchParams)},handleCurrentChange:function(e){Object.assign(this.searchParams.params,{page:e}),Object(c["g"])(this.searchParams)},onSearch:function(){this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="",Object.assign(this.searchParams.params,this.params,{page:1}),Object(c["g"])(this.searchParams)},searchF:function(){this.onSearch()},onReset:function(){this.$set(this,"params",{}),this.timeValue=[],this.$set(this,"searchParams",{params:{supplier_id:this.message,company_id:this.companyID},TableData:this.TableData,API:"getCompanyAppraisalListPublics",vm:this}),Object(c["g"])(this.searchParams)},dialoghandleSelectionChange:function(e){this.dialogmultipleSelection=e},toDownList:function(e){var t=this.TableData.tableData,a=[];if(this.handlerArr.length){for(var o=0;o<this.handlerArr.length;o++)a.push(this.handlerArr[o].company_appraisal_goods_id);if(a.includes(e.company_appraisal_goods_id))return this.$message.warning("下表已有词条数据"),!1;this.handlerArr.unshift(e)}else this.handlerArr.unshift(e);t.map((function(a,o){e.company_appraisal_goods_id==a.company_appraisal_goods_id&&t.splice(o,1)}))},toUpList:function(e){var t=this.handlerArr,a=[];if(this.TableData.tableData.length){for(var o=0;o<this.TableData.tableData.length;o++)a.push(this.TableData.tableData[o].company_appraisal_goods_id);if(a.includes(e.company_appraisal_goods_id))return this.$message.warning("上表已有该条数据"),!1;this.TableData.tableData.unshift(e)}else this.TableData.tableData.unshift(e);t.map((function(a,o){e.company_appraisal_goods_id==a.company_appraisal_goods_id&&t.splice(o,1)}))},downToList:function(){if(console.log(this.TableData.tableData),!this.addmultipleSelection.length)return this.$message.warning("请勾选元素"),!1;this.handlerArr=[].concat(Object(i["a"])(this.addmultipleSelection),Object(i["a"])(this.handlerArr)),this.addmultipleSelectionBottom=this.handlerArr;var e=this.TableData.tableData,t=this.addmultipleSelection,a={};this.handlerArr=this.handlerArr.reduce((function(e,t){return!a[t.company_appraisal_goods_id]&&(a[t.company_appraisal_goods_id]=e.push(t)),e}),[]);for(var o=0;o<t.length;o++)for(var r=e.length-1;r>=0;r--)t[o].company_appraisal_goods_id==e[r].company_appraisal_goods_id&&e.splice(r,1)},upToList:function(){if(!this.addmultipleSelectionBottom.length)return this.$message.warning("请勾选元素"),!1;this.TableData.tableData=[].concat(Object(i["a"])(this.addmultipleSelectionBottom),Object(i["a"])(this.TableData.tableData));var e=this.handlerArr,t=this.addmultipleSelectionBottom,a={};this.TableData.tableData=this.TableData.tableData.reduce((function(e,t){return!a[t.company_appraisal_goods_id]&&(a[t.company_appraisal_goods_id]=e.push(t)),e}),[]);for(var o=0;o<t.length;o++)for(var r=e.length-1;r>=0;r--)t[o].company_appraisal_goods_id==e[r].company_appraisal_goods_id&&e.splice(r,1)},closeDialog:function(){this.$parent.salesDocumentsVisible=!1,localStorage.removeItem("page")},dialogSubmitForm:function(){this.$emit("getmessage",this.handlerArr),this.$parent.salesDocumentsVisible=!1}},watch:{TableData:{handler:function(){for(var e=this.TableData.tableData.length-1;e>=0;e--)for(var t=0;t<this.handlerArr.length;t++)this.TableData.tableData[e].company_appraisal_goods_id==this.handlerArr[t].company_appraisal_goods_id&&this.TableData.tableData.splice(e,1)},deep:!0}},mounted:function(){this.$set(this,"searchParams",{params:{supplier_id:this.message,company_id:this.companyID},TableData:this.TableData,API:"getCompanyAppraisalListPublics",vm:this}),Object(c["g"])(this.searchParams)}},u=p,d=(a("fdb3"),a("2877")),f=Object(d["a"])(u,l,n,!1,null,"2444252f",null),m=f.exports,h=a("2f62"),_=(a("5118"),{name:"aftersaleFactoryjudgementAdd",data:function(){return{authority:{},params:{},addmultipleSelection:[],salesDocumentsVisible:!1,return_allocation_arr:{},rowIndex:"",value3:"",getMessage:[],getMessage2:[],allocationList:[],options4:[],list:[],loading:!1,getwarehouseOption:!0,supplier_appraisal_id:"",isWearPrice:!0,isEditFirst:!1}},components:{appraisalDalog:m},computed:Object(s["a"])({},Object(h["c"])(["factoryjudgementAdd_Get","factoryjudgementDefault_Get"])),methods:Object(s["a"])(Object(s["a"])({},Object(h["b"])(["factoryjudgementDefault"])),{},{writeS:function(e,t){this.$set(this.getMessage[t],"wear_price","NaN"!=Number(e.charge_flowerdeep*e.mm_wearprice).toFixed(2)?Number(e.charge_flowerdeep*e.mm_wearprice).toFixed(2):0)},changeStatusF:function(e){this.isWearPrice=e},intubePrice:function(e,t,a){this.$set(e,"inflap_price","NaN"!=Number(Number(this.getMessage[t].intube_price)+Number(this.getMessage[t].flap_price)).toFixed(2)?Number(Number(this.getMessage[t].intube_price)+Number(this.getMessage[t].flap_price)).toFixed(2):0)},flapPrice:function(e,t,a){this.$set(e,"inflap_price","NaN"!=Number(Number(this.getMessage[t].intube_price)+Number(this.getMessage[t].flap_price)).toFixed(2)?Number(Number(this.getMessage[t].intube_price)+Number(this.getMessage[t].flap_price)).toFixed(2):0)},writeText:function(e,t){this.$set(this.getMessage[t],"wear_price",e)},changeGetgetwarehouseOption:function(e){},isNumber:function(e){return e?Number(e):0},dongList:function(e){var t=this;if(e.length>0){var a=this.getMessage.map((function(e){return e.company_appraisal_goods_id}));e.forEach((function(e,o){if(a.includes(e.company_appraisal_goods_id))t.$message({message:"胎号"+e.tire_un+"已被引用",type:"error"});else{var r=[];String(e.symptom_id).split(",").forEach((function(e){r.push(Number(e))})),e.symptom_id=r,t.getMessage.push(e)}}))}},handleSelectionChange:function(e){this.multipleSelection=e},deletes:function(){if(this.multipleSelection.length){var e=new Set(this.getMessage),t=new Set(this.multipleSelection),a=new Set(Object(i["a"])(e).filter((function(e){return!t.has(e)})));this.getMessage=Array.from(a)}else this.$message({message:"请先选择要删除的数据！",type:"warning"})},companyChange:function(e){this.$set(this,"getMessage",[]),this.$set(this.params,"department_id",""),this.$set(this.params,"supplier_id","")},goBack:function(){this.$router.push({path:"/aftersale/factoryjudgement"})},quoteOrder:function(){this.params.supplier_id?this.salesDocumentsVisible=!0:this.$message({message:"请先选择供应商(厂家)",type:"warning"})},formatterCharge:function(e,t,a,o){return e.charge_flowerdeep=this.isNumber(e.raw_flowerdeep)-this.isNumber(e.surplus_flowerdeep)-this.isNumber(e.factory_flowerdeep),e.charge_flowerdeep},formatterInflap:function(e,t,a,o){return this.$set(this.getMessage[o],"inflap_price","NaN"!=Number(Number(e.intube_price)+Number(e.flap_price)).toFixed(2)?Number(Number(e.intube_price)+Number(e.flap_price)).toFixed(2):0),e.inflap_price},formatterFactory:function(e,t,a,o){return e.factory_price=this.isNumber(e.goods_price)-this.isNumber(e.wear_price)-this.isNumber(e.inflap_price),e.factory_price},formatterStatus:function(e,t,a,o){e.factory_status||this.$set(this.getMessage[o],"factory_status",1)},submit:function(){var e=this;if(!this.params.supplier_id)return this.$message({message:"请先选择供应商(厂家)",type:"warning"}),!1;var t=this.getMessage.map((function(e){return{brand_id:e.brand_id,goods_id:e.goods_id,symptom_id:e.symptom_id.join(),company_status:e.company_status,tire_un:e.tire_un,supplier_id:e.supplier_id,raw_flowerdeep:e.raw_flowerdeep,surplus_flowerdeep:e.surplus_flowerdeep,factory_flowerdeep:e.factory_flowerdeep,charge_flowerdeep:e.charge_flowerdeep,mm_wearprice:e.mm_wearprice,wear_price:e.wear_price,inner_costprice:e.inner_costprice,flap_price:e.flap_price?e.flap_price:0,inflap_price:e.inflap_price?e.inflap_price:0,goods_price:e.purchase_price?e.purchase_price:0,intube_price:e.intube_price?e.intube_price:0,factory_status:e.factory_status,company_appraisal_goods_id:e.company_appraisal_goods_id}})),a={company_id:this.params.company_id,department_id:this.params.department_id,supplier_id:this.params.supplier_id,business_time:this.params.business_time,remark:void 0==this.params.remark?"":this.params.remark,goods_info:JSON.stringify(t)},o={factory_appraisal_id:this.supplier_appraisal_id,company_id:this.params.company_id,department_id:this.params.department_id,supplier_id:this.params.supplier_id,business_time:this.params.business_time,remark:void 0==this.params.remark?"":this.params.remark,goods_info:JSON.stringify(t)},r=this;""!=this.supplier_appraisal_id?r.$axios({method:"post",url:r.$api.exitCompanyAppraisal,data:o}).then((function(t){200==t.data.code&&(e.$message({message:t.data.data,type:"success"}),r.goBack())})):r.$axios({method:"post",url:r.$api.addSupplierAppraisal,data:a}).then((function(t){200==t.data.code&&(e.$message({message:t.data.data,type:"success"}),r.goBack())}))}}),watch:{getMessage:{handler:function(){var e=this;this.isEditFirst||this.getMessage.map((function(t,a){e.$set(e.getMessage[a],"factory_price",(e.isNumber(t.purchase_price)-e.isNumber(t.wear_price)-e.isNumber(t.inflap_price)).toFixed(2)<0?0:(e.isNumber(t.purchase_price)-e.isNumber(t.wear_price)-e.isNumber(t.inflap_price)).toFixed(2)),e.$set(e.getMessage[a],"charge_flowerdeep",(e.isNumber(t.raw_flowerdeep)-e.isNumber(t.surplus_flowerdeep)-e.isNumber(t.factory_flowerdeep)).toFixed(2)<0?0:(e.isNumber(t.raw_flowerdeep)-e.isNumber(t.surplus_flowerdeep)-e.isNumber(t.factory_flowerdeep)).toFixed(2)),e.isWearPrice&&e.$set(e.getMessage[a],"wear_price",(e.isNumber(t.charge_flowerdeep)*e.isNumber(t.mm_wearprice)).toFixed(2))}))},deep:!0}},created:function(){var e=this;void 0!=this.factoryjudgementAdd_Get.factory_appraisal_id?(this.isEditFirst=!0,this.$axios({method:"get",url:this.$api.infoCompanyAppraisal,params:{factory_appraisal_id:this.factoryjudgementAdd_Get.factory_appraisal_id}}).then((function(t){var a=t.data;if(200==a.code){e.params=a.data.infoList,e.getMessage=a.data.goodsList,e.$nextTick((function(){e.isEditFirst=!1})),Object(c["l"])(e,a.data.infoList);for(var o=function(t){var o=[];String(a.data.goodsList[t].symptom_id).split(",").forEach((function(e){o.push(Number(e))})),e.getMessage[t].symptom_id=o,"待厂检"==a.data.goodsList[t].company_status?e.getMessage[t].company_status=1:"理赔"==a.data.goodsList[t].company_status?e.getMessage[t].company_status=2:"不理赔"==a.data.goodsList[t].company_status&&(e.getMessage[t].company_status=3)},r=0;r<a.data.goodsList.length;r++)o(r)}})),this.supplier_appraisal_id=this.factoryjudgementAdd_Get.factory_appraisal_id):Object(c["l"])(this,localStorage)},mounted:function(){this.getNEwlist(),this.authority=JSON.parse(localStorage.getItem("authority")),this.$set(this,"params",{business_time:this.$publicFution.formatData(new Date),company_id:Number(localStorage.company_id)})}}),b=_,g=(a("aaf3"),Object(d["a"])(b,o,r,!1,null,"1179c903",null));t["default"]=g.exports},e2cc:function(e,t,a){var o=a("6eeb");e.exports=function(e,t,a){for(var r in t)o(e,r,t[r],a);return e}},f183:function(e,t,a){var o=a("23e7"),r=a("e330"),i=a("d012"),s=a("861d"),l=a("1a2d"),n=a("9bf2").f,c=a("241c"),p=a("057f"),u=a("90e3"),d=a("bb2f"),f=!1,m=u("meta"),h=0,_=Object.isExtensible||function(){return!0},b=function(e){n(e,m,{value:{objectID:"O"+h++,weakData:{}}})},g=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,m)){if(!_(e))return"F";if(!t)return"E";b(e)}return e[m].objectID},w=function(e,t){if(!l(e,m)){if(!_(e))return!0;if(!t)return!1;b(e)}return e[m].weakData},y=function(e){return d&&f&&_(e)&&!l(e,m)&&b(e),e},v=function(){k.enable=function(){},f=!0;var e=c.f,t=r([].splice),a={};a[m]=1,e(a).length&&(c.f=function(a){for(var o=e(a),r=0,i=o.length;r<i;r++)if(o[r]===m){t(o,r,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:p.f}))},k=e.exports={enable:v,fastKey:g,getWeakData:w,onFreeze:y};i[m]=!0},fdb3:function(e,t,a){"use strict";a("73a8")}}]);
//# sourceMappingURL=chunk-2df093bc.04625658.js.map