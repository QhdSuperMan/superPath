(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-51ace89f"],{7850:function(e,t,s){"use strict";s("db89")},"9f44":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"returnRequest"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",[e._v("采购管理")]),s("el-breadcrumb-item",{staticClass:"attrbute"},[s("span",{on:{click:e.goList}},[e._v("采购退款申请")])]),s("el-breadcrumb-item",[e._v("采购退款申请")])],1),s("div",{staticClass:"returnRequestBox"},[s("el-row",[s("el-col",{attrs:{span:16}},[s("div",{staticClass:"returnRequest_left"},[s("h3",{staticClass:"rtitle"},[e._v(" 服务类型： 退款 ")]),s("div",{staticClass:"instructions"},[s("p",[e._v("操作提示")]),s("p",[e._v("1.若您对订单进行支付后想取消购买且与商家达成一致退款，请填写“订单退款”内容并提交")])]),s("div",{staticClass:"stepBar"},[s("el-steps",{attrs:{active:0,"align-center":"","finish-status":"success"}},[s("el-step",{attrs:{title:"买家申请退款",description:""}}),s("el-step",{attrs:{title:"商家处理退款申请",description:""}}),s("el-step",{attrs:{title:"平台审核，退款完成",description:""}})],1)],1),s("h3",{staticClass:"rtitle"},[e._v(" 如果商家不同意，可以再次申请或投诉 ")]),s("el-form",{ref:"orderForm",staticClass:"orderForm",attrs:{model:e.params,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"退款原因：",size:"mini",prop:"reason_id",rules:{required:!0,message:"请选择退款原因",tiggle:"blur"}}},[s("el-select",{model:{value:e.params.reason_id,callback:function(t){e.$set(e.params,"reason_id",t)},expression:"params.reason_id"}},e._l(e.reason_list,(function(e,t){return s("el-option",{key:t,attrs:{label:e.reason_info,value:e.reason_id}})})),1)],1),s("el-form-item",{attrs:{label:"退款说明：",size:"mini",prop:"buyer_message",rules:{required:!0,message:"请输入退款说明",tiggle:"blur"}}},[s("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.params.buyer_message,callback:function(t){e.$set(e.params,"buyer_message",t)},expression:"params.buyer_message"}})],1),s("el-form-item",{attrs:{label:"退款金额：",size:"mini"}},[s("span",{staticClass:"mainGreen"},[e._v(e._s(e.params.allow_refund_amount))]),e._v("元 ")]),s("el-form-item",{attrs:{label:"上传凭证：",size:"mini",prop:"name"}},[s("cupload",{attrs:{limit:3,extendParams:e.extendParams,returnStr:"response.data.oss_file_path",url:"/service_station/open/Upload/uploadImage"},model:{value:e.params.upload_pic,callback:function(t){e.$set(e.params,"upload_pic",t)},expression:"params.upload_pic"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[e._v("选择文件")])],1)],1)],1)],1)]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"returnRequest_right"},[s("h3",{staticClass:"rtitle"},[e._v(" 相关商品交易信息 ")]),e._l(e.params.goods_list,(function(t,a){return s("el-row",{key:a},[s("el-col",{staticClass:"imgBox",attrs:{span:6}},[s("img",{attrs:{src:t.goods_image,alt:""}})]),s("el-col",{staticStyle:{"line-height":"50px"},attrs:{span:18}},[s("p",[e._v(e._s(t.goods_name))]),s("p",[e._v("￥"+e._s(t.goods_price)+" * "+e._s(t.goods_num)+" (数量)")])])],1)})),s("el-form",{ref:"params",staticClass:"orderForm",attrs:{model:e.params,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"运费：",size:"mini",prop:"name"}},[e._v(" "+e._s(e.params.shipping_fee)+" ")]),s("el-form-item",{attrs:{label:"订单总额：",size:"mini",prop:"name"}},[e._v(" ￥"),s("span",{staticClass:"mainGed"},[e._v(e._s(e.params.order_amount))]),e._v("元 ")]),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"订单编号：",size:"mini",prop:"name"}},[e._v(" "+e._s(e.params.order_sn)+" "),s("el-popover",{staticStyle:{float:"right"},attrs:{placement:"left",width:"400",trigger:"hover"}},[s("el-form",{attrs:{"label-width":"150px"}},[s("el-form-item",{attrs:{label:"付款单号："}},[e._v(" "+e._s(e.params.pay_sn))]),s("el-form-item",{attrs:{label:"支付方式："}},[e._v(e._s(e.$publicFution.getAllTime(e.params.payment_name)))]),s("el-form-item",{attrs:{label:"下单时间："}},[e._v(e._s(e.$publicFution.getAllTime(1e3*e.params.add_time)))]),s("el-form-item",{attrs:{label:"付款时间："}},[e._v(e._s(e.$publicFution.getAllTime(1e3*e.params.payment_time)))])],1),s("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("更多")])],1)],1),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"订单商家：",size:"mini",prop:"name"}},[e._v(" "+e._s(e.params.store_name)+" "),s("el-popover",{staticStyle:{float:"right"},attrs:{placement:"left",width:"400",trigger:"hover"}},[e.params.extend_store?s("el-form",{attrs:{"label-width":"150px"}},[s("el-form-item",{attrs:{label:"所在地区："}},[e._v(e._s(e.params.extend_store.store_address))]),s("el-form-item",{attrs:{label:"联系电话："}},[e._v(e._s(e.params.extend_store.contact_phone))])],1):e._e(),s("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("更多")])],1)],1)],1)],2)])],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.goBack}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},r=[],i={name:"purchasePurchaserefundRefundRequestAdd",data:function(){return{extendParams:{directory:"return_voucher",extend_order:{}},params:{goods_list:[]},reason_list:[]}},methods:{goList:function(){this.$router.push({path:"/purchase/refundRequest"})},goBack:function(){this.$EventBus.$emit("closeTab",this.$router)},submitForm:function(){var e=this;this.$refs.orderForm.validate((function(t){if(t){var s={ec_order_sn:e.params.ec_order_sn,reason_id:e.params.reason_id,buyer_message:e.params.buyer_message,upload_pic:e.params.upload_pic};e.$axMethod.serviceSubmitRefund(s).then((function(t){var s=t.data;200==s.code&&(e.$message.success(s.msg),e.$EventBus.$emit("closeTab",e.$router),e.goBack())}))}}))},getData:function(){var e=this;this.$route.query.id&&this.$axMethod.serviceApplyRefund({ec_order_sn:this.$route.query.id}).then((function(t){var s=t.data;200==s.code?(e.params=s.data.order,e.params.ec_order_sn=e.$route.query.id,e.reason_list=s.data.reason_list):e.goBack()}))}},created:function(){this.getData()}},l=i,o=(s("7850"),s("2877")),n=Object(o["a"])(l,a,r,!1,null,"1c901232",null);t["default"]=n.exports},db89:function(e,t,s){}}]);
//# sourceMappingURL=chunk-51ace89f.2fd069b1.js.map