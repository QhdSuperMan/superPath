{"version":3,"sources":["webpack://service-[name]/./src/components/ServiceStation/sales/outbound/outboundDetail.vue?f916","webpack://service-[name]/./src/components/ServiceStation/sales/outbound/outboundDetail.vue?6b7f","webpack://service-[name]/./src/components/ServiceStation/sales/outbound/config/outboundDetail.js","webpack://service-[name]/src/components/ServiceStation/sales/outbound/outboundDetail.vue","webpack://service-[name]/./src/components/ServiceStation/sales/outbound/outboundDetail.vue?cfd1","webpack://service-[name]/./src/components/ServiceStation/sales/outbound/outboundDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","params","model","value","callback","$$v","$set","expression","nativeOn","$event","type","indexOf","_k","keyCode","key","onSearch","apply","arguments","timeValue","on","_v","onReset","authority","b_export","staticStyle","slot","exportOrder","_e","ref","url","footerMethod","tableColumn","dealData","staticRenderFns","paramsModel","outstock_sn","customer_id","company_id","localStorage","getItem","company_name","auditor_status","is_erp","pay_status","add_start_time","add_end_time","baseMinxis","data","footerData","title","field","width","slots","default","row","goDetail","headerAlign","align","methods","code","desc","columns","map","column","columnIndex","includes","property","num","$utils","sum","$publicFution","priceFormatNone","undefined","total_num","total_settlement_price","name","mixins","deepCopy","$router","push","path","query","id","outstock_id","export_type","scheduleType","$api","serviceStationExportGoodsListUrl","s","then","res","window","open","Array","isArray","$refs","xTable","_getData","created","console","log","activated","goPage","component"],"mappings":"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","file":"js/chunk-6fddcd2b.682a57b5.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outboundDetail.vue?vue&type=style&index=0&id=7348df22&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"companyGoods_base\"},[_c('div',{attrs:{\"id\":\"leixin\"}},[_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"组织名称\",\"size\":\"mini\"}},[_c('getServiceCompany',{attrs:{\"fatherParams\":_vm.params},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearch.apply(null, arguments)}},model:{value:(_vm.params.outstock_sn),callback:function ($$v) {_vm.$set(_vm.params, \"outstock_sn\", $$v)},expression:\"params.outstock_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择客户\",\"size\":\"mini\"}},[_c('getServiceUser',{model:{value:(_vm.params.customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"customer_id\", $$v)},expression:\"params.customer_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据状态\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.params.auditor_status),callback:function ($$v) {_vm.$set(_vm.params, \"auditor_status\", $$v)},expression:\"params.auditor_status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"已出库\",\"value\":2}}),_c('el-option',{attrs:{\"label\":\"未出库\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"作废\",\"value\":3}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"单据类型\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.params.is_erp),callback:function ($$v) {_vm.$set(_vm.params, \"is_erp\", $$v)},expression:\"params.is_erp\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"手动创建\",\"value\":2}}),_c('el-option',{attrs:{\"label\":\"小程序推送\",\"value\":1}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"单据日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品信息\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"placeholder\":\"请输入商品编号/自定义编码/商品名称\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSearch.apply(null, arguments)}},model:{value:(_vm.params.goods_name),callback:function ($$v) {_vm.$set(_vm.params, \"goods_name\", $$v)},expression:\"params.goods_name\"}})],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(_vm.authority.b_export == 1)?_c('el-dropdown',{staticStyle:{\"margin\":\"0 10px\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"#4e90e2\"},attrs:{\"split-button\":\"\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"iconfont icon-daochu10\",\"size\":\"mini\"}},[_vm._v(\"导出\")])],1),_c('el-dropdown-menu',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.exportOrder(1)}}},[_vm._v(\"导出Excel文件\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.exportOrder(2)}}},[_vm._v(\"导出CSV逗号分隔\")])],1)],1):_vm._e()],1)]),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"ajax\":{ url: \"serviceStationGetSalesOutDetail\", params: _vm.params },\"footerMethod\":_vm.footerMethod,\"tableColumn\":_vm.tableColumn},on:{\"getData\":_vm.dealData}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @Author: 吴玉荣\n * @LastEditors: 吴玉荣\n * @Date: 2021-08-22 11:05:52\n * @LastEditTime: 2021-11-15 15:14:37\n * @info: 描述\n */\nexport const paramsModel = {\n  outstock_sn: '',\n  customer_id: \"\",\n  company_id: localStorage.getItem('company_id'),\n  company_name: localStorage.getItem('company_name'),\n  auditor_status: 0,\n  is_erp: '',\n  pay_status: 0,\n  add_start_time: '',\n  add_end_time: ''\n}\n\nexport const rowParams = {\n  goods_num: ''\n}\nexport const baseMinxis = {\n  data() {\n    return {\n      footerData: {},\n      tableColumn: [\n        {\n          title: '销售组织',\n          field: 'company_name',\n          width: 160\n        },\n        {\n          title: '单据号',\n          field: 'outstock_sn',\n          slots: {\n            default: ({ row }) => {\n              return [\n                <el-link onClick={() => { this.goDetail(row) }} >  {row.outstock_sn} </el-link>,\n              ]\n            }\n          },\n          width: 160\n        },\n        {\n          title: '客户名称',\n          field: 'customer_name',\n          width: 160\n        },\n        {\n          title: '商品编号',\n          field: 'goods_id',\n          width: 80\n        },\n        {\n          title: '自定义编码',\n          field: 'logogram',\n          width: 100\n        },\n        {\n          title: '商品名称',\n          field: 'goods_name',\n          width: 150\n        },\n        {\n          title: '出库数量',\n          field: 'real_num',\n          headerAlign: \"right\",\n          align: \"right\",\n          width: 84\n        },\n        {\n          title: '出库金额',\n          field: 'subtotal_price',\n          headerAlign: \"right\",\n          align: \"right\",\n          width: 84\n        },\n        {\n          title: '单据状态',\n          field: 'auditor_status_name',\n          width: 84\n        },\n        {\n          title: '单据类型',\n          field: 'is_erp',\n          width: 84\n        },\n        {\n          title: '单据时间',\n          field: 'add_time',\n          width: 160,\n        },\n        {\n          title: '备注',\n          field: 'abstract'\n        }\n      ]\n    }\n  },\n  methods: {\n    dealData(data) {\n      if (data.data.code === 200) {\n        this.footerData = data.data.data.desc;\n      }\n    },\n    footerMethod({ columns, data }) {\n      return [\n        columns.map((column, columnIndex) => {\n          if (columnIndex === 0) {\n            return \"页小计\";\n          }\n          if ([\"subtotal_price\", \"real_num\"].includes(column.property)) {\n            var num = this.$utils.sum(data, column.property);\n            if (column.property === \"real_num\") {\n              return this.$publicFution.priceFormatNone(num, 0)\n            } else {\n              return this.$publicFution.priceFormatNone(num)\n            }\n          }\n          return null;\n        }),\n        columns.map((column, columnIndex) => {\n          if (columnIndex === 0) {\n            return \"合计\";\n          }\n          var num = this.$utils.sum(data, column.property);\n          if (column.property === \"real_num\" && this.footerData.total_num !== undefined) {\n            return this.$publicFution.priceFormatNone(num, 0)\n          }\n          if (column.property === \"subtotal_price\" && this.footerData.total_settlement_price !== undefined) {\n            return this.$publicFution.priceFormatNone(num, 2)\n          }\n          if ([\"subtotal_price\", \"real_num\"].includes(column.property)) {\n            return '加载中...'\n          }\n          return null;\n        })\n      ]\n    }\n  },\n}","<template>\n  <div class=\"companyGoods_base\">\n    <div id=\"leixin\">\n      <div class=\"search_container\">\n        <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\">\n          <el-form-item label=\"组织名称\" size=\"mini\">\n            <getServiceCompany v-model=\"params.company_id\" :fatherParams='params' />\n          </el-form-item>\n          <el-form-item label=\"单据号\" size=\"mini\">\n            <el-input v-model=\"params.outstock_sn\" placeholder=\"请输入\" @keyup.enter.native=\"onSearch\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"选择客户\" size=\"mini\">\n            <getServiceUser v-model=\"params.customer_id\" />\n          </el-form-item>\n          <el-form-item label=\"单据状态\" size=\"mini\">\n            <el-select clearable v-model=\"params.auditor_status\" placeholder=\"请选择\">\n              <el-option label=\"全部\" :value=\"0\"></el-option>\n              <el-option label=\"已出库\" :value=\"2\"></el-option>\n              <el-option label=\"未出库\" :value=\"1\"></el-option>\n              <el-option label=\"作废\" :value=\"3\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"单据类型\" size=\"mini\">\n            <el-select clearable v-model=\"params.is_erp\" placeholder=\"请选择\">\n              <el-option label=\"全部\" value=\"\"></el-option>\n              <el-option label=\"手动创建\" :value=\"2\"></el-option>\n              <el-option label=\"小程序推送\" :value=\"1\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"单据日期\" size=\"mini\">\n            <el-date-picker v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"商品信息\" size=\"mini\">\n            <el-input v-model=\"params.goods_name\" maxlength=\"100\" placeholder=\"请输入商品编号/自定义编码/商品名称\" @keyup.enter.native=\"onSearch\" clearable></el-input>\n          </el-form-item>\n          <el-form-item size=\"mini\" class=\"search-style search\">\n            <el-button type=\"primary\" @click=\"onSearch\" size=\"mini\">查询</el-button>\n            <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class=\"add_delet\">\n        <el-dropdown style=\"margin:0 10px;\" v-if=\"authority.b_export == 1\">\n          <span split-button style=\"cursor:pointer;color:#4e90e2\">\n            <el-button plain icon=\"iconfont icon-daochu10\" size=\"mini\">导出</el-button>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\" style=\"margin-top:10px;\">\n            <el-dropdown-item @click.native=\"exportOrder(1)\">导出Excel文件</el-dropdown-item>\n            <el-dropdown-item @click.native=\"exportOrder(2)\">导出CSV逗号分隔</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n    <div class=\"table_container\">\n      <xTable :ajax='{ url: \"serviceStationGetSalesOutDetail\", params: params }' :footerMethod='footerMethod' @getData='dealData' ref='xTable' :tableColumn='tableColumn' />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { baseMinxis, paramsModel } from \"./config/outboundDetail\";\nexport default {\n  name: \"service_station_sales_outstock_detail\",\n  mixins: [baseMinxis],\n  data() {\n    return {\n      timeValue: [],\n      params: this.$publicFution.deepCopy(paramsModel),\n    };\n  },\n  methods: {\n    goDetail(row) {\n      this.$router.push({\n        path: \"/sales/service_station_sales_outstock_list/service_station_sales_outstock_see\",\n        query: {\n          id: row.outstock_id,\n        },\n      });\n    },\n    onReset() {\n      this.params = this.$publicFution.deepCopy(paramsModel);\n      this.onSearch(1);\n    },\n    // 导出\n    exportOrder(scheduleType) {\n      let s = Object.assign(this.params, {\n        export_type: scheduleType,\n      });\n      this.$api.serviceStationExportGoodsListUrl(s).then((res) => {\n        if (res.data.code == 200) {\n          window.open(res.data.data.url);\n        }\n      });\n    },\n    onSearch(num) {\n      if (Array.isArray(this.timeValue)) {\n        this.params.add_start_time = this.timeValue[0];\n        this.params.add_end_time = this.timeValue[1];\n      } else {\n        this.params.add_start_time = \"\";\n        this.params.add_end_time = \"\";\n      }\n      this.$refs.xTable._getData(num);\n    },\n  },\n  created() {\n    console.log(this);\n  },\n  activated() {\n    this.onSearch(window.goPage);\n  },\n};\n</script>\n\n<style scoped>\n.el-dropdown {\n  margin: 0 9px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outboundDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outboundDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./outboundDetail.vue?vue&type=template&id=7348df22&scoped=true&\"\nimport script from \"./outboundDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./outboundDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./outboundDetail.vue?vue&type=style&index=0&id=7348df22&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7348df22\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}