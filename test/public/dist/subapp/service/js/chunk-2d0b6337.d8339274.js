(window["webpackJsonp_service"]=window["webpackJsonp_service"]||[]).push([["chunk-2d0b6337"],{"1bc3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{attrs:{id:"leixin"}},[a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.goodsattribute}},[a("el-form-item",{attrs:{label:"单位名称",size:"mini"}},[a("el-input",{attrs:{maxlength:"100",placeholder:"请输入"},model:{value:t.goodsattribute.unit_name,callback:function(e){t.$set(t.goodsattribute,"unit_name",e)},expression:"goodsattribute.unit_name"}})],1),a("el-form-item",{attrs:{label:"单位编号",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.goodsattribute.unit_id,callback:function(e){t.$set(t.goodsattribute,"unit_id",e)},expression:"goodsattribute.unit_id"}})],1),a("el-form-item",{attrs:{label:"助记码",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.goodsattribute.logogram,callback:function(e){t.$set(t.goodsattribute,"logogram",e)},expression:"goodsattribute.logogram"}})],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.onReset}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"add_delet"},[1==t.authority.b_add?a("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"mini"},on:{click:function(e){t.dialogFormVisible=!0,t.addChangeType="add"}}},[t._v("新增")]):t._e(),1==t.authority.b_del?a("el-button",{attrs:{plain:"",icon:"el-icon-delete",size:"mini"},on:{click:t.delFun}},[t._v("删除")]):t._e()],1),a("div",{staticClass:"table_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading1,expression:"loading1"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"","max-height":"600",data:t.TableData.tableData,resizable:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",fixed:"left",align:"center",width:"44"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"54"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v(" 修改 ")])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"unit_name",label:"单位名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"unit_id",label:"单位编号",width:"120"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"logogram",label:"助记码",width:"100"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"remark",label:"备注"}})],1)],1),a("div",{staticClass:"page_container"},[a("div",{staticClass:"pageNumber"},[t._v("每页显示")]),a("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":t.goPage,"page-size":t.pageSize1,"page-sizes":t.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:t.TableData.total},on:{"size-change":t.handleSizeChange,"update:currentPage":function(e){t.goPage=e},"update:current-page":function(e){t.goPage=e},"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"单位管理",center:"",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e},close:function(e){return t.closeDialog()}}},[a("el-form",{ref:"unitForm",staticClass:"errorItem errorItemMl121",attrs:{model:t.unitForm,size:"mini",rules:t.unitRules}},[a("el-form-item",{attrs:{label:"单位名称",prop:"unit_name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.unitForm.unit_name,callback:function(e){t.$set(t.unitForm,"unit_name",e)},expression:"unitForm.unit_name"}})],1),a("el-form-item",{attrs:{label:"备注",size:"medium"}},[a("el-input",{attrs:{type:"textarea",maxlength:"300",placeholder:"请输入"},model:{value:t.unitForm.remark,callback:function(e){t.$set(t.unitForm,"remark",e)},expression:"unitForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.cancelForm("unitForm")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitRevision("unitForm")}}},[t._v("确 定")])],1)],1)],1)])},n=[],o=a("65b0"),l={name:"systemInfoSalesUnit",data:function(){return{authority:{},addChangeType:"add",TableData:{tableData:[],per_page:[30,50,100,500],total:10},per_page:[30,50,100,500],AccordingParams:{},goPage:1,pageSize:30,loading:!0,currentPage:1,goodsattribute:{unit_name:"",unit_id:"",logogram:""},dialogFormVisible:!1,multipleSelection:[],dialogRevisionVisible:!1,unitForm:{unit_name:"",remark:""},unitRules:{unit_name:[{required:!0,message:"单位名称不能为空",trigger:"blur"}]}}},methods:{onReset:function(){this.$set(this,"goodsattribute",{is_disabled:""}),this.$set(this,"AccordingParams",{params:{},TableData:this.TableData,API:"getUnitList",vm:this}),Object(o["b"])(this.AccordingParams)},closeDialog:function(){this.unitForm={unit_id:"",unit_name:"",remark:""}},handleEdit:function(t){this.addChangeType="chenge",this.dialogFormVisible=!0,this.unitForm={unit_id:t.unit_id,unit_name:t.unit_name,remark:t.remark}},cancelForm:function(t){this.dialogFormVisible=!1,this.$refs[t].resetFields()},submitRevision:function(t){var e=this;this.$refs[t].validate((function(t){if(t)if("add"==e.addChangeType){var a={unit_name:e.unitForm.unit_name,remark:e.unitForm.remark},i={eachData:a,UrlApi:"addUnit",closeDialog:e.dialogFormVisible=!1,list:{UrlApi:"getUnitList",data:e.TableData,esData:e.AccordingParams.params}};e.$common.addAndupdateFun(i),e.addChangeType="add"}else{i={eachData:e.unitForm,UrlApi:"editUnit",closeDialog:e.dialogFormVisible=!1,list:{UrlApi:"getUnitList",data:e.TableData,esData:e.AccordingParams.params}};e.$common.addAndupdateFun(i)}}))},handleSelectionChange:function(t){this.multipleSelection=t},delFun:function(){var t={deleID:"unit_id",deleSelect:this.multipleSelection,deleApi:"delUnit",list:{UrlApi:"getUnitList",data:this.TableData}};this.$common.deletes(t,"删除",this)},onSearch:function(){Object.assign(this.AccordingParams.params,this.goodsattribute,{page:1}),Object(o["b"])(this.AccordingParams)},checkSelectable:function(t){return"2016-05-01"!==t.date},handleSizeChange:function(t){Object.assign(this.AccordingParams.params,{per_page:t,page:1}),Object(o["b"])(this.AccordingParams)},handleCurrentChange:function(t){Object.assign(this.AccordingParams.params,{page:t}),Object(o["b"])(this.AccordingParams)}},mounted:function(){this.authority=JSON.parse(localStorage.getItem("authority")),this.$set(this,"AccordingParams",{params:{},TableData:this.TableData,API:"getUnitList",vm:this}),Object(o["b"])(this.AccordingParams)}},r=l,s=a("2877"),c=Object(s["a"])(r,i,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b6337.d8339274.js.map