(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-87ae4e92"],{"0cb2":function(e,t,a){var o=a("e330"),r=a("7b0b"),l=Math.floor,s=o("".charAt),i=o("".replace),n=o("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,p=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,o,u,m){var d=a+e.length,_=o.length,h=p;return void 0!==u&&(u=r(u),h=c),i(m,h,(function(r,i){var c;switch(s(i,0)){case"$":return"$";case"&":return e;case"`":return n(t,0,a);case"'":return n(t,d);case"<":c=u[n(i,1,-1)];break;default:var p=+i;if(0===p)return r;if(p>_){var m=l(p/10);return 0===m?r:m<=_?void 0===o[m-1]?s(i,1):o[m-1]+s(i,1):r}c=o[p-1]}return void 0===c?"":c}))}},5319:function(e,t,a){"use strict";var o=a("2ba4"),r=a("c65b"),l=a("e330"),s=a("d784"),i=a("d039"),n=a("825a"),c=a("1626"),p=a("5926"),u=a("50c4"),m=a("577e"),d=a("1d80"),_=a("8aa5"),h=a("dc4a"),f=a("0cb2"),b=a("14c3"),v=a("b622"),w=v("replace"),g=Math.max,y=Math.min,k=l([].concat),S=l([].push),x=l("".indexOf),$=l("".slice),C=function(e){return void 0===e?e:String(e)},z=function(){return"$0"==="a".replace(/./,"$0")}(),L=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),O=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,a){var l=L?"$":"$0";return[function(e,a){var o=d(this),l=void 0==e?void 0:h(e,w);return l?r(l,e,o,a):r(t,m(o),e,a)},function(e,r){var s=n(this),i=m(e);if("string"==typeof r&&-1===x(r,l)&&-1===x(r,"$<")){var d=a(t,s,i,r);if(d.done)return d.value}var h=c(r);h||(r=m(r));var v=s.global;if(v){var w=s.unicode;s.lastIndex=0}var z=[];while(1){var L=b(s,i);if(null===L)break;if(S(z,L),!v)break;var O=m(L[0]);""===O&&(s.lastIndex=_(i,u(s.lastIndex),w))}for(var N="",P=0,j=0;j<z.length;j++){L=z[j];for(var F=m(L[0]),T=g(y(p(L.index),i.length),0),D=[],I=1;I<L.length;I++)S(D,C(L[I]));var V=L.groups;if(h){var R=k([F],D,T,i);void 0!==V&&S(R,V);var M=m(o(r,void 0,R))}else M=f(F,i,T,D,V,r);T>=P&&(N+=$(i,P,T)+M,P=T+F.length)}return N+$(i,P)}]}),!O||!z||L)},"63b7":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"params"},[a("div",{attrs:{id:"leixin"}},[a("div",{staticClass:"search_container"},[a("el-form",{ref:"filterFormRef",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"财务组织",size:"mini",prop:"finance_company_id",rules:e.rules.company_id}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{focus:e.getCompany,change:e.companyChange},model:{value:e.params.finance_company_id,callback:function(t){e.$set(e.params,"finance_company_id",t)},expression:"params.finance_company_id"}},e._l(e.companyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"应收业务日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),a("el-form-item",{attrs:{label:"出库单据号",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.params.outstock_sn,callback:function(t){e.$set(e.params,"outstock_sn",t)},expression:"params.outstock_sn"}})],1),a("el-form-item",{attrs:{label:"关联订单号",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.params.order_sn,callback:function(t){e.$set(e.params,"order_sn",t)},expression:"params.order_sn"}})],1),a("el-form-item",{attrs:{label:"关联电商订单",size:"mini"}},[a("el-input",{attrs:{placeholder:"请选择"},model:{value:e.params.nc_order_sn,callback:function(t){e.$set(e.params,"nc_order_sn",t)},expression:"params.nc_order_sn"}})],1),a("el-form-item",{attrs:{label:"客户名称",size:"mini"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入",clearable:"",loading:e.loading,remote:"","remote-method":e.clienteleListInvok},on:{focus:e.clienteleListInvok},model:{value:e.params.customer_id,callback:function(t){e.$set(e.params,"customer_id",t)},expression:"params.customer_id"}},[a("ul",{staticClass:"customer customer-ul4 customer-ul2"},[a("li",[e._v("客户编号")]),a("li",[e._v("客户名称")]),a("li",[e._v("联系人")]),a("li",[e._v("联系电话")]),a("li",[e._v("区域")])]),e._l(e.customerList,(function(t){return a("el-option",{key:t.customer_id,attrs:{label:t.customer_name,value:t.customer_id}},[a("ul",{staticClass:"customer customer-ul4"},[a("li",{attrs:{title:t.customer_id}},[e._v(e._s(t.customer_id))]),a("li",{attrs:{title:t.customer_name}},[e._v(e._s(t.customer_name))]),a("li",{attrs:{title:t.contact_name}},[e._v(e._s(t.contact_name))]),a("li",{attrs:{title:t.customer_mobile}},[e._v(e._s(t.customer_mobile))]),a("li",[e._v(e._s(t.province_name)+"/"+e._s(t.city_name)+"/"+e._s(t.area_name))])])])}))],2)],1),a("el-form-item",{attrs:{label:"业务员",size:"mini"}},[a("el-select",{attrs:{filterable:"",clearable:""},on:{focus:e.EmployeeListInvok},model:{value:e.params.business_id,callback:function(t){e.$set(e.params,"business_id",t)},expression:"params.business_id"}},[e._v(" "+e._s(function(){0==e.params.business_id&&(e.params.business_id=null)}())+" "),e._l(e.employeeList,(function(e){return a("el-option",{key:e.employee_id,attrs:{label:e.employee_name,value:e.employee_id}})}))],2)],1),a("el-form-item",{attrs:{label:"品牌",size:"mini"}},[a("getBrand",{model:{value:e.params.brand_id,callback:function(t){e.$set(e.params,"brand_id",t)},expression:"params.brand_id"}})],1),a("el-form-item",{attrs:{label:"商品名称",size:"mini"}},[a("el-input",{attrs:{placeholder:"请选择"},model:{value:e.params.goods_name,callback:function(t){e.$set(e.params,"goods_name",t)},expression:"params.goods_name"}})],1),a("el-form-item",{attrs:{label:"出库类型",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.params.order_type,callback:function(t){e.$set(e.params,"order_type",t)},expression:"params.order_type"}},[a("el-option",{attrs:{label:"销售出库",value:2}},[e._v("销售出库")]),a("el-option",{attrs:{label:"销售退货",value:3}},[e._v("销售退货")]),a("el-option",{attrs:{label:"调拨出库",value:5}},[e._v("调拨出库")]),a("el-option",{attrs:{label:"三包出库",value:6}},[e._v("三包出库")])],1)],1),a("el-form-item",{attrs:{label:"业务类型",size:"mini"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.params.business_type_id,callback:function(t){e.$set(e.params,"business_type_id",t)},expression:"params.business_type_id"}},[a("el-option",{attrs:{label:"商品订购",value:10001}},[e._v("商品订购")]),a("el-option",{attrs:{label:"客户赠胎",value:10002}},[e._v("客户赠胎")]),a("el-option",{attrs:{label:"赠品",value:10003}},[e._v("赠品")]),a("el-option",{attrs:{label:"满赠",value:10004}},[e._v("满赠")]),a("el-option",{attrs:{label:"满减",value:10005}},[e._v("满减")]),a("el-option",{attrs:{label:"满折",value:10006}},[e._v("满折")]),a("el-option",{attrs:{label:"特价",value:10007}},[e._v("特价")]),a("el-option",{attrs:{label:"销售退货",value:90001}},[e._v("销售退货")]),a("el-option",{attrs:{label:"销售调拨",value:90002}},[e._v("销售调拨")]),a("el-option",{attrs:{label:"三包折款",value:90004}},[e._v("三包折款")]),a("el-option",{attrs:{label:"三包销售",value:90005}},[e._v("三包销售")])],1)],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onSearch("filterFormRef")}}},[e._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),1==e.authority.b_export&&e.listShow?a("div",{staticClass:"add_delet"},[a("el-dropdown",{attrs:{placement:"bottom-start"}},[a("span",{staticStyle:{cursor:"pointer",color:"#4e90e2"},attrs:{"split-button":""}},[a("el-button",{attrs:{plain:"",icon:"iconfont icon-daochu10",size:"mini"}},[e._v("导出")])],1),a("el-dropdown-menu",{staticStyle:{"margin-top":"10px"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.exportOrder(1)}}},[e._v("导出Excel文件")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.exportOrder(2)}}},[e._v("导出CSV逗号分隔")])],1)],1)],1):e._e(),e.listShow?a("div",{staticClass:"table_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.tableData,"max-height":e.tableHeight,"summary-method":e.getSummaries,"show-summary":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"finance_company_name",width:"180",label:"财务组织"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"add_time",width:"130",label:"应收业务日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"sn_add_time",width:"130",label:"出库业务日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"outstock_sn",width:"150",label:"出库单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.outstock_sn)+" ")]}}],null,!1,3375489873)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"order_type",width:"120",label:"出库类型"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_type",width:"120",label:"业务类型"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"customer_name",width:"120",label:"客户名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"consignee_name",width:"120",label:"收货人"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"business_name",width:"100",label:"业务员"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"brand_name",width:"150",label:"品牌名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_id",width:"100",label:"商品编号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_name","min-width":"500",label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(t.row.goods_name))])]}}],null,!1,3380057349)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_num",width:"100",label:"数量"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"unit_price",width:"100",label:"单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(e._f("priceFormatNone")(t.row.unit_price)))])]}}],null,!1,3679340356)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"discount_price",width:"100",label:"优惠金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(e._f("priceFormatNone")(t.row.discount_price)))])]}}],null,!1,3958182975)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"total_price",width:"100",label:"小计金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(e._f("priceFormatNone")(t.row.total_price)))])]}}],null,!1,2792087680)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"rebate_price",width:"100",label:"使用返利"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(e._f("priceFormatNone")(t.row.rebate_price)))])]}}],null,!1,1741195175)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"deposits_price",width:"100",label:"使用预收"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(e._f("priceFormatNone")(t.row.deposits_price)))])]}}],null,!1,2188310913)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"receivable_price",width:"100",label:"应收金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("pre",[e._v(e._s(e._f("priceFormatNone")(t.row.receivable_price)))])]}}],null,!1,3081666150)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"consignee_mobile",width:"100",label:"收货电话"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"payment_method",width:"120",label:"回款方式"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"settlement_customer_name",width:"100",label:"物流公司"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"order_sn",width:"100",label:"关联订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.order_sn)+" ")]}}],null,!1,698598833)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"ec_order_sn",width:"100",label:"关联电商订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.ec_order_sn)+" ")]}}],null,!1,1321492520)}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"remark",width:"100",label:"明细备注"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"document_remark",width:"100",label:"单据备注"}})],1),a("div",{staticClass:"table_info"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("div",[e._v("生成时间："+e._s(e.TableData.allList.add_time))])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"textAr"},[e._v("制表人："+e._s(e.TableData.allList.add_user_name))])])],1)],1),a("div",{staticClass:"page_container"},[a("div",{staticClass:"pageNumber"},[e._v("每页显示")]),a("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":e.goPage,"page-size":e.pageSize1,"page-sizes":e.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:e.TableData.total},on:{"size-change":e.handleSizeChange,"update:currentPage":function(t){e.goPage=t},"update:current-page":function(t){e.goPage=t},"current-change":e.handleCurrentChange}})],1)],1):e._e()])])},r=[],l=a("5530"),s=(a("d3b7"),a("159b"),a("d81d"),a("a9e3"),a("ac1f"),a("5319"),a("25f0"),a("b680"),a("2f62")),i=a("65b0"),n={name:"reportReceiptdetail",data:function(){return{listShow:!1,loadings:!1,authority:{},outerVisible:!1,TableData:{tableData:[],allList:{},total:10},warehouseList:{options:[]},logisticsList:{options:[]},businessTypeList:{options:[]},params:{},searchParams:{},goPage:1,pageSize:30,loading:!0,per_page:[30,50,100,500],timeValue:[],companyList:[],multipleSelection:[],is_shop:0,brandsList:[],list:[],tableHeight:600}},methods:Object(l["a"])(Object(l["a"])({},Object(s["b"])(["salesorderSee","salesoutfindSell"])),{},{getBusinsstype:function(){this.$common.options("businessTypeListOption",this.businessTypeList,{is_receipt:1})},exportOrder:function(e){if(0==this.listShow)return this.$message({message:"请查询需要导出的数据",type:"error"}),!1;var t=Object.assign(this.params,{export_type:e});this.$axMethod.exportReceiptUrl(t).then((function(e){200==e.data.code&&(window.location.href=e.data.data.url)}))},getCompany:function(){Object(i["k"])(this,{type:2})},outstock_sn:function(e){this.$router.push({path:"/sales/salesorder"}),this.salesorderSee({moduleName:"salesorderSee",order_id:e.order_id})},order_sn:function(e){this.$router.push({path:"/sales/salesoutfind"}),this.salesoutfindSell({commont:"LookOver",outstock_id:e.outstock_id})},getSummaries:function(e){var t=e.columns,a=e.data,o=[];return t.forEach((function(e,t){if(0!==t){var r=a.map((function(t){return Number(t[e.property])}));r.every((function(e){return isNaN(e)}))?o[t]="":(o[t]=r.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),o[t]=13==t||14===t||15===t||16===t||17===t?parseFloat(o[t]).toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):11==t?parseFloat(o[t]):"")}else o[t]="合计"})),o},logisticsFocus:function(){this.$common.options("getLogisticsListOption",this.logisticsList)},paymentMethodChange:function(){this.$set(this.params,"settlement_customer_id",null)},handleSelectionChange:function(e){this.multipleSelection=e},companyChange:function(e){this.$set(this.params,"business_id",null),this.$set(this.params,"company_id",e)},onReset:function(){this.$set(this,"params",{auditor_status:0}),this.timeValue=[],this.listShow=!1,this.$set(this,"searchParams",{params:this.params,TableData:this.TableData,API:"reportGetReceiptList",vm:this}),Object(i["g"])(this.searchParams,2)},onSearch:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.params.finance_company_id?(t.listShow=!0,t.timeValue?(t.params.start_time=t.timeValue[0],t.params.end_time=t.timeValue[1]):t.params.start_time=t.params.end_time="",Object.assign(t.searchParams.params,t.params,{page:1}),Object(i["g"])(t.searchParams,2,i["o"].bind(t))):t.$message({message:"请先选择财务组织",type:"error"}))}))},handleSizeChange:function(e){Object.assign(this.searchParams.params,{per_page:e,page:1}),Object(i["g"])(this.searchParams,2)},handleCurrentChange:function(e){Object.assign(this.searchParams.params,{page:e}),Object(i["g"])(this.searchParams,2)}}),mounted:function(){this.companyList=[{company_id:Number(localStorage.company_id),company_name:localStorage.company_name}],this.authority=JSON.parse(localStorage.getItem("authority")),this.$set(this,"params",{}),this.$set(this,"params",{finance_company_id:Number(localStorage.company_id),company_id:Number(localStorage.company_id)}),this.$set(this,"searchParams",{params:this.params,TableData:this.TableData,API:"reportGetReceiptList",vm:this}),i["o"].bind(this)(),window.onresize=i["o"].bind(this)}},c=n,p=(a("c275"),a("2877")),u=Object(p["a"])(c,o,r,!1,null,"0926d89e",null);t["default"]=u.exports},"7af5":function(e,t,a){},b680:function(e,t,a){"use strict";var o=a("23e7"),r=a("da84"),l=a("e330"),s=a("5926"),i=a("408a"),n=a("1148"),c=a("d039"),p=r.RangeError,u=r.String,m=Math.floor,d=l(n),_=l("".slice),h=l(1..toFixed),f=function(e,t,a){return 0===t?a:t%2===1?f(e,t-1,a*e):f(e*e,t/2,a)},b=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},v=function(e,t,a){var o=-1,r=a;while(++o<6)r+=t*e[o],e[o]=r%1e7,r=m(r/1e7)},w=function(e,t){var a=6,o=0;while(--a>=0)o+=e[a],e[a]=m(o/t),o=o%t*1e7},g=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var o=u(e[t]);a=""===a?o:a+d("0",7-o.length)+o}return a},y=c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}));o({target:"Number",proto:!0,forced:y},{toFixed:function(e){var t,a,o,r,l=i(this),n=s(e),c=[0,0,0,0,0,0],m="",h="0";if(n<0||n>20)throw p("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return u(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=b(l*f(2,69,1))-69,a=t<0?l*f(2,-t,1):l/f(2,t,1),a*=4503599627370496,t=52-t,t>0){v(c,0,a),o=n;while(o>=7)v(c,1e7,0),o-=7;v(c,f(10,o,1),0),o=t-1;while(o>=23)w(c,1<<23),o-=23;w(c,1<<o),v(c,1,1),w(c,2),h=g(c)}else v(c,0,a),v(c,1<<-t,0),h=g(c)+d("0",n);return n>0?(r=h.length,h=m+(r<=n?"0."+d("0",n-r)+h:_(h,0,r-n)+"."+_(h,r-n))):h=m+h,h}})},c275:function(e,t,a){"use strict";a("7af5")}}]);
//# sourceMappingURL=chunk-87ae4e92.4215cb00.js.map