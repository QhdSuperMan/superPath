(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-2d20f3d1"],{b37a:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"search_container"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[t("el-form-item",{attrs:{label:"所属组织",size:"mini","label-width":"110px"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.companyListInvok,change:e.companyChange},model:{value:e.params.company_id,callback:function(a){e.$set(e.params,"company_id",a)},expression:"params.company_id"}},e._l(e.companyList,(function(a){return t("el-option",{key:a.company_id,attrs:{label:a.company_name,value:a.company_id}},[t("span",{class:1==a.type?"optionStyle":""},[e._v(e._s(a.company_name))])])})),1)],1),t("el-form-item",{attrs:{label:"供应商(厂家)",size:"mini","label-width":"110px"}},[t("el-select",{attrs:{clearable:"",maxlength:"100","filter-method":e.supplierListInvok,filterable:"",placeholder:"请选择"},on:{change:e.supplierChangesave,focus:e.supplierListInvok},model:{value:e.params.supplier_id,callback:function(a){e.$set(e.params,"supplier_id",a)},expression:"params.supplier_id"}},e._l(e.supplierList,(function(e){return t("el-option",{key:e.supplier_id,attrs:{label:e.supplier_name,value:e.supplier_id}})})),1)],1),t("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),t("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),t("div",{staticClass:"table_container"},[t("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.tableData,"max-height":"600"}},[t("el-table-column",{attrs:{label:"操作",fixed:"right",width:"60"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.rebateSee(a,a.row)}}},[e._v(" 查看 ")])]}}])}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_name",label:"所属组织"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"supplier_name",label:"供应商(厂家)"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"rebate_balance",label:"返利金额"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("pre",[e._v(e._s(e._f("priceFormatNone")(a.row.rebate_balance)))])]}}])})],1)],1),t("div",{staticClass:"page_container"},[t("div",{staticClass:"pageNumber"},[e._v("每页显示")]),t("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":e.goPage,"page-size":e.pageSize1,"page-sizes":e.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:e.TableData.total},on:{"size-change":e.handleSizeChange,"update:currentPage":function(a){e.goPage=a},"update:current-page":function(a){e.goPage=a},"current-change":e.handleCurrentChange}})],1)])},i=[],r=t("5530"),n=(t("4de4"),t("d3b7"),t("2f62")),l=t("65b0"),p={name:"purchaseRebatedetail",data:function(){return{loading:!0,list:[],searchParams:{},TableData:{tableData:[]}}},computed:Object(r["a"])({},Object(n["c"])(["rebatedetailIndexGet"])),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["rebatedetailIndexACT"])),{},{rebateSee:function(e,a){var t={supplier_id:a.supplier_id,company_id:a.company_id,supplier_name:a.supplier_name,company_name:a.company_name};this.$router.push({path:"/purchase/rebatedetail/rebatedetailSee"}),this.rebatedetailIndexACT(Object(r["a"])(Object(r["a"])({},t),{},{goPage:this.goPage,params:this.params,pageSize:this.pageSize}))},onSearch:function(){this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="",Object.assign(this.searchParams.params,this.params,{page:1}),this.rebatedetailIndexACT({goPage:this.goPage,params:this.params,pageSize:this.pageSize}),Object(l["g"])(this.searchParams)},companyChange:function(e){""!=e&&(this.params.company_name=this.companyList.filter((function(a){return a.company_id===e}))[0].company_name),this.$set(this.params,"supplier_id","")},supplierChangesave:function(e){e&&(this.params.supplier_name=this.supplierList.filter((function(a){return a.supplier_id===e}))[0].supplier_name)},onReset:function(){this.$set(this,"params",{}),this.rebatedetailIndexACT({}),this.$set(this,"searchParams",{params:{},TableData:this.TableData,API:"getRebateDetailList",vm:this}),Object(l["g"])(this.searchParams)},handleSizeChange:function(e){Object.assign(this.searchParams.params,{per_page:e,page:1}),Object(l["g"])(this.searchParams)},handleCurrentChange:function(e){Object.assign(this.searchParams.params,{page:e}),Object(l["g"])(this.searchParams)}}),mounted:function(){this.rebatedetailIndexGet&&this.rebatedetailIndexGet.params&&(Object(l["l"])(this,this.rebatedetailIndexGet.params),this.$set(this,"params",this.rebatedetailIndexGet.params)),this.$set(this,"searchParams",{params:this.params,TableData:this.TableData,API:"getRebateDetailList",vm:this}),Object(l["g"])(this.searchParams)}},o=p,c=t("2877"),m=Object(c["a"])(o,s,i,!1,null,"6ee1f654",null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d20f3d1.dff30e41.js.map