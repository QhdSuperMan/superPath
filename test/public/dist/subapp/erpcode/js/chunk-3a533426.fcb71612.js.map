{"version":3,"sources":["webpack://erpcode-[name]/src/components/element/sales/salesoutmanage/salesout/config/salesoutAddCommon.vue","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/salesoutstorage/salesoutAdd.vue?dcc0","webpack://erpcode-[name]/./src/components/element/sales/salesoutmanage/salesout/config/salesoutAddCommon.vue?76b7","webpack://erpcode-[name]/./src/components/element/sales/salesoutmanage/salesout/config/salesoutAddCommon.vue?ca7c","webpack://erpcode-[name]/./src/components/element/sales/salesoutmanage/salesout/config/salesoutAddCommon.vue","webpack://erpcode-[name]/src/components/element/inventory/outstorage/salesoutstorage/salesoutAdd.vue","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/salesoutstorage/salesoutAdd.vue?00d3","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/salesoutstorage/salesoutAdd.vue","webpack://erpcode-[name]/./src/components/element/sales/salesoutmanage/salesout/config/salesoutAddCommon.vue?04a9","webpack://erpcode-[name]/./src/components/element/sales/salesoutmanage/salesout/config/salesoutAdd.js"],"names":["mixins","data","tool_Config","id","zoom","setting","storage","immediate","dialogChooseProducts","rowgoodsid","currentScope","timeValueks","Date","onces","stategoods","flag","indexchart","saveNumBatchObj","loading_demo","dialogTableBatch","onlyQuote","addChandise2","referenceDisabled","dialogBillVisible","addDisabled","autoGetBatch","username","localStorage","getItem","dialogTableVisible","datas","loading","styleArry","electricityOrderStatus","ec_type","dataTableIndex","defaultArea","totalPrice","binding_sign","batchMultiple","sumprice","dataTable","businessTypeList","hideClass","index","TableData","loadSign","tkgoPage","props","components","getAreaList","sourceBill","historicalPrices","computed","businessIdRules","this","sourceType","rules","push","required","message","trigger","methods","getHistryPrice","scope","handleCurrentChange","row","unit_price","val","is_price","confirm","handleEdit","clearlist","$refs","xTable","_proxy","params","is_erp","customer_id","company_id","business_time","goods_info","JSON","stringify","$axios","method","url","$api","getPromotionPolicyListCx","copyRow","box","fullData","concat","_XID","length","records","clearGift","copyArr","arr","forEach","undefined","business_type_id","allData","filter","chooseProducts_confirm","map","item","real_num","goods_num","confirmList","gitfDisabled","confirmAction","submitData","goodsInfo","goods_name","obj","step","policy_id","goods_id","sales_price","goods_price","goodsdialog","goSelectShop","$message","warning","opens","goBack","$router","$publicFution","goPage","companyChange","company_name","companyList","formatData","payment_method","$baseData","settingInfo","Documents_operation","FDBName_business","orderAdd","batch_id","unshift","reduce","next","realNum","available_stocks","business_type_name","Number","toFixed","discount_unit_price","discount_price","total_price","warehouse_id","allocation_id","allocation_name","keyArr","xtable","handleSelectionChangelist","closeDialog","getCustomerInfo","customer_name","customerList","$axMethod","departmentF","department_name","departmentList","changeDefaultArea","cityList","addressId","join","province_id","city_id","area_id","paymentMethodChange","clearSettlement_customerId","settlement_customer_id","setTimeout","TableDataRef","clearValidate","logisticsChanges","validateField","logistics_name","logisticsList","warehousechange","warehouse_name","warehouseList","referenceOrder","dialogformInline","num","realNums","subtotal_price","batch","stocks","Object","assign","intentional_logistics","logistics_id","intentional_logistics_id","settlement_customer_name","open11","showClose","type","duration","addRow","rowClassName","backgroundColor","color","countSettlementPrice","valArry","_value","replace","$set","settlement_price","column","property","price","goodsPrice","discount_unitPrice","taxrate","revenue_price","no_revenue_price","BuoyancyFactor","order","that","computeTotal","callback","minus","major","deleteRow","batchChange","production_time","seeMoneyDetail","path","accountloglist_showIndexACT","pageSize","changeGoods","value","remark","batchInvok","result","code","defaultBatch","unit_name","includes","hasEmptyData","submitInfo","regroup","arry","allocationObj","element","operation","bill_type","is_info","objs","foo","catch","clickEnd","parse","newParams","order_goods_id","sale_price","preSubmit","some","tk","$confirm","submit","formName","state","validate","valid","sumbitStack","i","sum","initialize","mounted","authority","getBusinsstypeInvok","order_key","order_by","customerId","focus","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","directives","name","rawName","expression","_v","_s","staticClass","on","ref","companyListInvok","model","$$v","_l","key","class","$event","clienteleListInvok","contact_name","customer_mobile","province_name","city_name","area_name","department_id","DepartmentListInvok","staticStyle","_e","logisticsInvok","delivery_demand_id","getDeliveryDemandListInvok","delivery_demand_name","hand_over_id","getHandoverListInvok","hand_over_name","outstock_type_id","warehouseInvok","footerMethod","tableData","selected","tableColumn","mode","autoClear","activeMethod","_f","rebate_balance","credit_balance","deposits","add_time","auditor_name","auditor_time","update_user_name","update_time","slot","b_add","batchList","dialogArryrow","component","common","getBusinessName","list","vm","getIndexShop","giftUpdate","width","title","field","showOverflow","editRender","autofocus","slots","edit","h","a","rowIndex","changeBusinessType","default","getParams","_this","isTotal","showObj","factory_code","shorthand_code","getIcon","icon","iconMethod","events","change","autoselect","getOutIcon","input","$rowIndex","getSlots","headerAlign","align","formatter","sortable","salesorderAddGet","order_id","columns","columnIndex","$utils","isInteger"],"mappings":"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","file":"js/chunk-3a533426.fcb71612.js","sourcesContent":["  <!-- 新增销售出库页面 -->\n<template>\n\n  <div v-loading=\"loading_demo\" element-loading-text=\"列表正在生成中\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(255, 255, 255, 0.8)\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>{{ sourceType === 1 ? '销售管理' : '库存管理'}}</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">销售出库</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>新增销售出库</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-form :inline=\"true\" :model=\"params\" ref=\"TableDataRef\">\n      <el-form-item label=\"销售组织\" size=\"mini\" prop=\"company_id\" :rules=\"rules.company_id\">\n        <el-select v-model=\"params.company_id\" placeholder=\"请选择\" @focus=\"companyListInvok\" @change=\"companyChange\" filterable>\n          <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n            <span :class=\"item.type==1 ? 'optionStyle': ''\">{{ item.company_name }}</span>\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"单据号\" size=\"mini\">\n        <el-input v-model=\"params.outstock_sn\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"业务日期\" size=\"mini\" prop=\"business_time\" :rules=\"rules.business_time\">\n        <el-date-picker @change=\"confirmList()\" v-model=\"params.business_time\" type=\"date\" value-format=\"yyyy-MM-dd\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"客户名称\" size=\"mini\" prop=\"customer_id\" :rules=\"rules.customer_id\">\n        <el-select v-model=\"params.customer_id\" filterable ref=\"customerId\" placeholder=\"请先选择客户\" @change=\"getCustomerInfo\" @focus=\"clienteleListInvok\" :loading=\"loading\" remote :remote-method=\"clienteleListInvok\">\n          <ul class=\"customer customer-ul4 customer-ul2\">\n            <li>客户编号</li>\n            <li>客户名称</li>\n            <li>联系人</li>\n            <li>联系电话</li>\n            <li>区域</li>\n          </ul>\n          <el-option v-for=\"item in customerList\" :key=\"item.customer_id\" :label=\"item.customer_name\" :value=\"item.customer_id\">\n            <ul class=\"customer customer-ul4\">\n              <li :title=\"item.customer_id\">{{ item.customer_id }}</li>\n              <li :title=\"item.customer_name\">{{ item.customer_name }}</li>\n              <li :title=\"item.contact_name\">{{item.contact_name}}</li>\n              <li :title=\"item.customer_mobile\">{{item.customer_mobile}}</li>\n              <li>{{item.province_name}}/{{item.city_name}}/{{item.area_name}}</li>\n            </ul>\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"部门\" size=\"mini\">\n        {{(function(){if(params.department_id == 0)params.department_id = null})()}}\n        <el-select clearable v-model=\"params.department_id\" :disabled='electricityOrderStatus == 1' placeholder=\"请选择\" @change=\"departmentF\" filterable @focus=\"DepartmentListInvok\">\n          <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"业务员\" size=\"mini\" v-show=\"hideClass\" prop=\"business_id\" :rules=\"businessIdRules\">\n        <erpEmployee v-model=\"params.business_id\" :fatherParams='params' modelLabel=\"business_name\"  :disabled=\"addDisabled\" :searchParams=\"{ company_id: params.company_id }\" />\n      </el-form-item>\n      <el-form-item label=\"收货人\" size=\"mini\" v-show=\"hideClass\">\n        <el-input v-model=\"params.consignee_name\" maxlength=\"7\" :disabled=\"addDisabled\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"电话\" size=\"mini\" v-show=\"hideClass\">\n        <el-input v-model=\"params.consignee_mobile\" :disabled=\"addDisabled\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"所属区域\" size=\"mini\" class=\"wauto\" style=\"min-width:312px\" v-show=\"hideClass\">\n        <getAreaList v-if=\"defaultArea && defaultArea.length\" :disabled=\"addDisabled\" @changeDefaultArea=\"changeDefaultArea\" :defaultArea=\"defaultArea\" />\n      </el-form-item>\n      <el-form-item label=\"详细地址\" size=\"mini\" v-show=\"hideClass\">\n        <el-input v-model=\"params.address\" :disabled=\"addDisabled\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"关联单据号\" size=\"mini\" style=\"cursor:pointer\" v-show=\"hideClass\">\n        <el-input v-model=\"params.order_sn\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"回款方式\" size=\"mini\">\n        {{(function(){if(params.payment_method == 0)params.payment_method = null})()}}\n        <el-select v-model=\"params.payment_method\" @change=\"paymentMethodChange\">\n          <el-option label=\"客户自结\" :value=\"1\">客户自结</el-option>\n          <el-option label=\"物流代收\" :value=\"2\">物流代收</el-option>\n          <el-option label=\"电商结算\" :value=\"3\">电商结算</el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"物流公司\" size=\"mini\" v-show=\"hideClass\" prop=\"settlement_customer_id\" :rules=\"rules.settlement_customer_id\" v-if='params.payment_method === 2'>\n        <!-- {{(function(){if(params.settlement_customer_id == 0)params.settlement_customer_id = null})()}} -->\n        <el-select clearable v-model=\"params.settlement_customer_id\" filterable @focus=\"logisticsInvok\" @change=\"logisticsChanges\" :filter-method=\"logisticsInvok\">\n          <el-option v-for=\"item in logisticsList\" :label=\"item.logistics_name\" :value=\"item.logistics_id\" :key=\"item.logistics_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"物流公司\" size=\"mini\" v-show=\"hideClass\" prop=\"settlement_customer_id\" v-else>\n        <!-- {{(function(){if(params.settlement_customer_id == 0)params.settlement_customer_id = null})()}} -->\n        <el-select clearable v-model=\"params.settlement_customer_id\" filterable @focus=\"logisticsInvok\" @change=\"logisticsChanges\" :filter-method=\"logisticsInvok\">\n          <el-option v-for=\"item in logisticsList\" :label=\"item.logistics_name\" :value=\"item.logistics_id\" :key=\"item.logistics_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"送货需求\" size=\"mini\" v-show=\"hideClass\">\n        {{(function(){if(params.delivery_demand_id == 0)params.delivery_demand_id = null})()}}\n        <el-select clearable v-model=\"params.delivery_demand_id\" @focus=\"getDeliveryDemandListInvok\" :disabled=\"addDisabled\">\n          <el-option v-for=\"item in deliveryDemandList\" :label=\"item.delivery_demand_name\" :value=\"item.delivery_demand_id\" :key=\"item.delivery_demand_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"交货方式\" size=\"mini\" v-show=\"hideClass\">\n        {{(function(){if(params.hand_over_id == 0)params.hand_over_id = null})()}}\n        <el-select clearable v-model=\"params.hand_over_id\" @focus=\"getHandoverListInvok\" :disabled=\"addDisabled\">\n          <el-option v-for=\"item in handoverList\" :label=\"item.hand_over_name\" :value=\"item.hand_over_id\" :key=\"item.hand_over_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"出库类型\" size=\"mini\" v-show=\"hideClass\">\n        {{(function(){params.outstock_type_id = 10002})()}}\n        <el-input value=\"销售出库\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"仓库名称\" size=\"mini\" v-show=\"hideClass\">\n        {{(function(){if(params.warehouse_id == 0)params.warehouse_id = null})()}}\n        <el-select clearable v-model=\"params.warehouse_id\" @focus=\"warehouseInvok\" @change=\"warehousechange\" filterable>\n          <el-option v-for=\"item in warehouseList\" :label=\"item.warehouse_name\" :value=\"item.warehouse_id\" :key=\"item.warehouse_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"打印次数\" size=\"mini\" v-show=\"hideClass\">\n        <el-input v-model=\"params.print_times\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"单据状态:\" size=\"mini\" v-show=\"hideClass\">\n        <el-input v-model=\"params.auditor_status_name\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"摘要\" size=\"mini\" v-show=\"hideClass\">\n        <el-input v-model=\"params.abstract\" type=\"text\" maxlength=\"300\" placeholder=\"摘要最多300个字\"></el-input>\n      </el-form-item>\n      <p style=\"text-align:center;font-size: 14px;cursor: pointer;color:#409eff\" @click=\"hideClass=!hideClass\">\n        <i :class=\"hideClass?'el-icon-caret-top':'el-icon-caret-bottom'\"></i>\n        <span>{{hideClass?'收缩':'展开'}}</span>\n      </p>\n    </el-form>\n    <div class=\"add_delet\">\n      <el-button icon=\"el-icon-circle-plus-outline\" :disabled=\"referenceDisabled\" type=\"primary\" @click=\"referenceOrder\" class=\"addBtn\" size=\"mini\">参照订单</el-button>\n      <el-button icon=\"el-icon-circle-plus-outline\" :disabled=\"addDisabled\" type=\"primary\" v-if=\"!onlyQuote\" @click=\"addRow\" class=\"addBtn\" size=\"mini\">增行</el-button>\n      <el-button plain icon=\"el-icon-delete\" @click=\"deleteRow\" size=\"mini\">删行</el-button>\n    </div>\n    <div class=\"table_container\">\n      <xTable ref='xTable' :isEdit='true' :toolConfig='tool_Config' :showFooter='true' :row-style=\"rowClassName\" :footerMethod='footerMethod' :xData=\"tableData\" dragable column-min-width=\"100\" :mouse-config=\"{selected: true}\" :tableColumn='tableColumn' :isShowTool='true' :editConfig=\"{trigger: 'click', mode: 'cell',autoClear:false,activeMethod:activeMethod}\" />\n    </div>\n    <br>\n    <div v-if=\"!addDisabled\">\n      <el-form :model=\"params\" class=\"db priceFoot\" ref=\"TableDataRef2\" :inline=\"true\">\n        <el-form-item label=\"本单使用返利：\">\n          <el-input v-model=\"params.rebate_price\" type=\"number\" class=\"element_input\" @blur=\"countSettlementPrice(2)\" @input=\"value => countSettlementPrice(1)\"></el-input>\n          <span class=\"yeban\">余额:{{params.rebate_balance?params.rebate_balance: 0|priceFormat}}</span>\n        </el-form-item>\n        <el-form-item label=\"本单使用授信：\">\n          <el-input v-model=\"params.credit_price\" class=\"element_input\" @blur=\"countSettlementPrice(2)\" @input=\"value => countSettlementPrice(1)\" type=\"number\"></el-input>\n          <span class=\"yeban\">余额:{{params.credit_balance?params.credit_balance:0|priceFormat}}</span>\n        </el-form-item>\n        <el-form-item label=\"本单使用预收：\">\n          <el-input v-model=\"params.deposits_price\" class=\"element_input\" type=\"number\" @blur=\"countSettlementPrice(2)\" @input=\"value => countSettlementPrice(1)\"></el-input>\n          <span class=\"yeban\">余额:{{params.deposits?params.deposits:0|priceFormat}}</span>\n        </el-form-item>\n        <el-form-item label=\"客户余额：\">\n          <el-input v-model=\"params.balance\" class=\"element_input\" disabled size=\"mini\"></el-input>\n          <el-button type=\"primary\" @click=\"seeMoneyDetail\">查看往来</el-button>\n        </el-form-item>\n        <el-form-item label=\"本单结算金额：\" size=\"mini\">\n          <el-input v-model=\"params.settlement_price\" disabled class=\"element_input\" type=\"number\"></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div>\n      <span style='font-size: 14px;'>开票信息：</span>\n      <el-input type='textarea' v-model=\"params.invoice_info\" placeholder=\"请输入开票金额\" style='width: 50%;vertical-align: text-top;'></el-input>\n    </div>\n    <div class=\"refundauditFoot\">\n      <span>制单人：{{username}}</span>\n      <span>单据时间：{{params.add_time}}</span>\n      <span>审核人：{{params.auditor_name}}</span>\n      <span>审核时间：{{params.auditor_time}}</span>\n      <span>修改人：{{params.update_user_name}}</span>\n      <span>修改时间：{{params.update_time}}</span>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"preSubmit( 'TableDataRef',false)\">保 存</el-button>\n      <el-button type=\"primary\" @click=\"preSubmit( 'TableDataRef',true)\" v-if=\"authority.b_add==1\">保存并新增</el-button>\n    </div>\n    <!-- 新增多批次 -->\n    <el-dialog title=\"多批次\" :visible.sync=\"dialogTableBatch\" width=\"40%\">\n      <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"batchList\" max-height=\"300\" @selection-change=\"handleSelectionChangelist\">\n        <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"batch\" width=\"100\" label=\"年周/批次\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"warehouse_name\" label=\"仓库名称\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"allocation_name\" label=\"货位名称\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"production_time\" label=\"生产日期\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"stocks\" label=\"在库库存\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"available_stocks\" label=\"批次可用库存\" align=\"right\">\n        </el-table-column>\n      </el-table>\n      <div style=\"text-align: center;padding: 10px;\">\n        <el-button @click=\"orderAdd(dialogArryrow)\" size=\"small\" style=\"width:100px;\" type=\"primary\">确定</el-button>\n      </div>\n    </el-dialog>\n    <!-- 选择商品 -->\n    <goodsPopout v-if='dialogChooseProducts' @close='dialogChooseProducts = false' :searchParams='{\n              company_id:params.company_id,\n          warehouse_id:params.warehouse_id,\n          customer_id:params.customer_id,\n          warehouse_name:params.warehouse_name}' @submit=\"chooseProducts_confirm\" />\n    <!-- 参照订单 -->\n    <div v-if=\"dialogBillVisible\">\n      <el-dialog :close-on-click-modal=\"false\" title=\"选择订单\" class=\"dialogForm\" :visible.sync=\"dialogBillVisible\" width=\"1300px\">\n        <source-bill @dialogformInline=\"dialogformInline\" :pardata=\"params\" @closedialog=\"closeDialog\"></source-bill>\n      </el-dialog>\n    </div>\n\n    <historicalPrices v-if='dialogTableVisible' v-model=\"dialogTableVisible\" @sumbitData='handleCurrentChange' :searchParams='{ company_id: params.company_id,goods_id:currentScope.row && currentScope.row.goods_id }' :company_id='params.company_id' />\n  </div>\n</template>\n<script>\nimport getAreaList from \"common/components/public/getAreaList\";\nimport sourceBill from \"./sourceBill.vue\";\nimport { mapActions } from \"vuex\";\nimport { opthionList, repertory } from \"common/utils/public_function/commonUtils\";\nimport mixin from \"./salesoutAdd.js\";\nimport historicalPrices from \"@/components/element/sales/config/historicalPrices.vue\";\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      //按钮控制\n      tool_Config: {\n        id: \"JYBDXSCK\",\n        zoom: true,\n        setting: {\n          // 动态列配置\n          storage: true, // 是否存在本地\n          immediate: true, // 是否实时生效\n        },\n      },\n      dialogChooseProducts: false, //商品多选\n      rowgoodsid: \"\",\n      currentScope: {}, // 当前操作的对象\n      timeValueks: [new Date(), new Date()], //三个月的时间范围\n      onces: 1,\n      stategoods: false,\n      flag: false, // 是否允许请求  调取优惠政策\n      indexchart: {},\n      saveNumBatchObj: {},\n      loading_demo: false,\n      dialogTableBatch: false,\n      onlyQuote: false,\n      addChandise2: false,\n      // referenceStack: false, //只能引用订单\n      referenceDisabled: false, //引用订单按钮是否可以点击\n      dialogBillVisible: false, //引用订单弹框\n      addDisabled: true, //增行按钮是否可点击,等于true的时候不可点击\n      autoGetBatch: false, //是否自动带出批号\n      username: localStorage.getItem(\"realname\"),\n      dialogTableVisible: false,\n      datas: null,\n      loading: false,\n      styleArry: [],\n      electricityOrderStatus: 0, //是否是电商订单\n      ec_type: \"\",\n      dataTableIndex: null,\n      defaultArea: [0], //默认的区域id\n      totalPrice: 0, //合并计算总价\n      binding_sign: 1, //商品绑定的唯一标志\n      batchMultiple: [], //批次选择\n      sumprice: null,\n      dataTable: [],\n      businessTypeList: [],\n      hideClass: true,\n      index: null,\n      TableData: [],\n      loadSign: true,\n      tkgoPage: 1,\n    };\n  },\n  props: [\"sourceType\"],\n  components: {\n    getAreaList, //区域列表\n    sourceBill, //来源单号\n    historicalPrices,\n  },\n  computed: {\n    businessIdRules() {\n      const rules = [];\n      // 销售管理--销售出库管理--销售出库--新增销售订单 业务员为必填项(商城订单推送到erp的销售订单业务员非必填)\n      if (this.sourceType == 1 && !this.addDisabled) {\n        rules.push({\n          required: true,\n          message: \"请选择业务员\",\n          trigger: \"change\",\n        });\n      }\n      return rules;\n    },\n  },\n  methods: {\n    ...mapActions([\"accountloglist_showIndexACT\"]),\n    getHistryPrice(scope) {\n      this.currentScope = scope;\n      this.dialogTableVisible = true;\n    },\n    handleCurrentChange(val) {\n      this.currentScope.row.unit_price = val.unit_price;\n      this.currentScope.row.is_price = 1;\n      this.confirm(this.currentScope);\n      this.handleEdit(this.currentScope);\n    },\n    clearlist() {\n      this.referenceDisabled = false; //引用显示\n      this.$refs.xTable._proxy(\"remove\");\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    // 促销政策逻辑\n    confirm(scope) {\n      // 电商订单不请求接口\n      if (this.params.is_erp === 1) {\n        return;\n      }\n      if (this.addDisabled) {\n        // 参照订单的出库单不调用促销接口\n        return;\n      }\n      var { row, $rowIndex } = scope;\n      if (\n        row.business_type_id !== 10003 &&\n        row.business_type_id !== 10002 &&\n        this.params.customer_id &&\n        row.goods_id &&\n        this.params.business_time\n      ) {\n        this.flag = true;\n        // 如果是赠品和赠胎不调取促销政策的接口 客户存在 商品存在才掉接口\n        let params = {\n          customer_id: this.params.customer_id,\n          company_id: this.params.company_id,\n          business_time: this.params.business_time,\n          goods_info: [\n            {\n              is_price: row.is_price,\n              binding_sign: row.binding_sign,\n              business_type_id: row.business_type_id,\n              goods_id: row.goods_id,\n              goods_num: row.real_num,\n              goods_name: row.goods_name,\n              sales_price: row.unit_price ? row.unit_price : 0,\n              goods_price: row.sales_price,\n            },\n          ],\n        };\n        params.goods_info = JSON.stringify(params.goods_info);\n        this.$axios({\n          method: \"post\",\n          url: this.$api.getPromotionPolicyListCx,\n          data: params,\n        })\n          .then((res) => {\n            this.flag = false;\n            if (res.data.code == 200) {\n              let ss = [];\n              res.data.data.forEach((item) => {\n                ss.push({\n                  binding_sign: item.binding_sign,\n                  discount_price: item.discount_price,\n                  discount_unit_price: item.discount_unit_price,\n                  business_type_id: item.business_type_id,\n                  sales_price: item.goods_price, //商品金额\n                  unit_price: item.sales_price, //售价\n                  total_price: item.subtotal_price, //小计金额\n                  policy_id: item.policy_id,\n                  real_num: item.goods_num,\n                  policy_name: item.policy_name,\n                  goods_name: item.goods_name,\n                  goods_id: item.goods_id,\n                  unit_name: item.unit_name,\n                });\n              });\n\n              this.clearGift([row]); // 清除赠品 单行编辑清除赠品\n              if (ss.length != 0) {\n                var box = [\n                  \"binding_sign\",\n                  \"discount_price\",\n                  \"discount_unit_price\",\n                  \"business_type_id\",\n                  \"total_price\",\n                  \"sales_price\",\n                  \"unit_price\",\n                  \"policy_id\",\n                  \"policy_name\", //增加促销政策的名称展示\n                ];\n                box.forEach((val) => {\n                  row[val] = ss[0][val];\n                });\n                this.handleEdit(scope);\n                if (ss.length >= 2) {\n                  //带有赠品的情况\n                  let a = ss.splice(1, ss.length);\n                  this.copyRow(row, a);\n                }\n              }\n            }\n          })\n          .catch(() => {\n            this.flag = false;\n          });\n      }\n    },\n    // 复制行 插入行\n    copyRow(row, records) {\n      var index = this.$refs.xTable._proxy(\"$getRowIndex\", row);\n      var box = this.$refs.xTable._proxy(\"getTableData\").fullData.concat([]);\n      delete row._XID;\n      if (index < box.length - 1) {\n        this.$refs.xTable._proxy(\n          \"insertAt\",\n          records ? records : row,\n          box[index + 1]\n        );\n      } else {\n        this.$refs.xTable._proxy(\"insertAt\", records ? records : row, -1);\n      }\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    // 清除绑定赠品，赠胎\n    clearGift(arr) {\n      var copyArr = arr.concat([]),\n        allData = this.$refs.xTable._proxy(\"getTableData\").fullData;\n      copyArr.forEach((val) => {\n        if (val.binding_sign !== undefined && val.business_type_id !== 10003) {\n          allData = allData.filter((twoVal) => {\n            return (\n              val.binding_sign !== twoVal.binding_sign ||\n              twoVal.business_type_id !== 10003\n            );\n          });\n        }\n      });\n      this.$refs.xTable._proxy(\"loadData\", allData);\n    },\n    // 添加 batchList 列表字段\n    // 商品选择完毕 并关闭弹框\n    chooseProducts_confirm(val) {\n      // 接口字段不一致 数量\n      val = val.map((item) => {\n        item.real_num = item.goods_num;\n        // item.unit_price = item.sale_price\n        item.business_type_id = 10001;\n        this.handleEdit({ row: item, column: { property: \"real_num\" } });\n        return item;\n      });\n      this.$refs.xTable._proxy(\"insertAt\", val, this.indexchart);\n      this.dialogChooseProducts = false;\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    // 列表请求优惠政策\n    confirmList(step) {\n      // 电商订单不请求接口\n      if (this.params.is_erp === 1) {\n        return;\n      }\n      this.gitfDisabled = true; // 解决客户bug 先禁用\n      this.confirmAction();\n    },\n    // 请求动作\n    confirmAction(step) {\n      this.gitfDisabled = false;\n      if (this.params.customer_id && this.params.business_time) {\n        var submitData = this.$refs.xTable\n          ._proxy(\"getTableData\")\n          .fullData.concat([]);\n        var goodsInfo = [];\n        submitData = submitData.filter((val) => {\n          if (val.business_type_id !== 10003 && val.goods_name) {\n            var obj = {\n              is_price: step ? 0 : val.is_price, // 为true 请求客户商品价格\n              policy_id: val.policy_id,\n              binding_sign: val.binding_sign,\n              business_type_id: val.business_type_id,\n              goods_id: val.goods_id,\n              goods_num: val.real_num,\n              goods_name: val.goods_name,\n              sales_price: val.unit_price ? val.unit_price : 0,\n              goods_price: val.sales_price,\n            };\n            goodsInfo.push(obj);\n            return true;\n          }\n        });\n        if (goodsInfo.length === 0) {\n          return;\n        }\n        let params = {\n          customer_id: this.params.customer_id,\n          company_id: this.params.company_id,\n          business_time: this.params.business_time,\n          goods_info: JSON.stringify(goodsInfo),\n        };\n        this.flag = true;\n        this.$axios({\n          method: \"post\",\n          url: this.$api.getPromotionPolicyListCx,\n          data: params,\n        })\n          .then((res) => {\n            this.flag = false;\n            if (res.data.code == 200) {\n              //  赋值全部\n              var result = res.data.data.map((val, key) => {\n                for (var i = 0; i < submitData.length; i++) {\n                  if (\n                    submitData[i].binding_sign === val.binding_sign &&\n                    val.business_type_id !== 10003\n                  ) {\n                    var box = [\n                      \"binding_sign\",\n                      \"discount_price\",\n                      \"discount_unit_price\",\n                      \"business_type_id\",\n                      \"subtotal_price\",\n                      \"sales_price\",\n                      \"goods_price\",\n                      \"policy_id\",\n                      \"policy_name\", //增加促销政策的名称展示\n                    ];\n                    box.forEach((twoVal) => {\n                      submitData[i][twoVal] = val[twoVal];\n                    });\n\n                    this.handleEdit({\n                      row: submitData[i],\n                      column: { property: \"goods_num\" },\n                    });\n                    return submitData[i];\n                  }\n                }\n                return val;\n              });\n              if (result.length !== 0) {\n                this.$refs.xTable._proxy(\"loadData\", result);\n              }\n              var box = this.$refs.xTable\n                ._proxy(\"getTableData\")\n                .fullData.concat([]);\n              if (box.length === 0 || box[box.length - 1].goods_num) {\n                this.addF();\n              }\n              this.$refs.xTable._proxy(\"updateFooter\");\n            }\n          })\n          .catch(() => {\n            this.flag = false;\n          });\n      }\n    },\n    goodsdialog(val) {\n      this.addChandise2 = true;\n    },\n    //  打开选择商品得弹框\n    goSelectShop(scope) {\n      if (this.params.customer_id) {\n        this.dialogChooseProducts = true;\n        this.indexchart = scope.row;\n      } else {\n        this.$message.warning(\"请先选择客户！\");\n      }\n    },\n    opens() {\n      this.stategoods = true;\n    },\n    goBack() {\n      if (this.sourceType === 1) {\n        this.$router.push({ path: \"/sales/salesout\" });\n      } else {\n        this.$router.push({ path: \"/inventory/salesoutstorage\" });\n      }\n      this.$publicFution.goPage(1);\n    },\n    companyChange(val) {\n      if (val) {\n        this.params.company_name = this.companyList.filter(\n          (obj) => obj.company_id === val\n        )[0].company_name;\n      }\n      this.params = {\n        company_name: this.params.company_name,\n        company_id: val,\n        business_time: this.$publicFution.formatData(new Date()),\n        payment_method: 1,\n      };\n      this.$refs.xTable._proxy(\"remove\");\n      this.referenceDisabled = false;\n      this.addDisabled = true;\n      this.electricityOrderStatus = 0\n      this.$baseData.settingInfo({ num: 2, company_id: val }, () => {\n        if (localStorage.Documents_operation) {\n          let state = localStorage.getItem(\"Documents_operation\");\n          this.autoGetBatch = eval(state)[0].status == 1 ? true : false;\n        }\n      });\n      this.$baseData.settingInfo({ num: 3, company_id: val }, () => {\n        if (localStorage.FDBName_business) {\n          let state = localStorage.getItem(\"FDBName_business\");\n          this.onlyQuote = eval(state)[1].status == 1 ? true : false;\n          this.addDisabled = eval(state)[1].status == 1 ? true : false;\n        }\n      });\n    },\n    orderAdd(scope) {\n      let row = scope.row,\n        index = scope.$rowIndex;\n      let keyArr = [\n        \"order_goods_id\",\n        \"unit_credit_price\",\n        \"unit_rebate_price\",\n        \"unit_deposits_price\",\n        \"remark\",\n      ];\n      this.index = index; //把当前哪一行点击批次进行存储\n      let realNum = row.real_num; //列表实际出库数量20\n      //available_stocks 弹框可用库存\n      if (row.batch_id) {\n        //如果一开始就没有选择批次\n        this.batchMultiple.unshift(row);\n        var obj = {};\n        this.batchMultiple = this.batchMultiple.reduce((item, next) => {\n          obj[next.batch_id]\n            ? \"\"\n            : (obj[next.batch_id] = true && item.push(next));\n          return item;\n        }, []);\n      }\n      this.batchMultiple.map((val, index) => {\n        if (realNum >= val.available_stocks) {\n          val.real_num = val.available_stocks;\n          val.business_type_name = row.business_type_name;\n          val.business_type_id = row.business_type_id;\n          realNum = realNum - val.available_stocks;\n          val.unit_price = row.unit_price;\n          val.sales_price = Number(val.real_num * val.unit_price).toFixed(2); //商品金额等于商品数量*商品单价\n          val.discount_unit_price = row.discount_unit_price; //优惠单价\n          val.discount_price = Number(\n            val.discount_unit_price * val.real_num\n          ).toFixed(2); //优惠金额等于优惠单价*数量\n          val.total_price = val.sales_price - val.discount_price; //小计金额等于商品金额-优惠金额\n          val.warehouse_id = val.warehouse_id;\n          val.allocation_id = val.allocation_id;\n          val.allocation_name = val.allocation_name;\n          keyArr.forEach((item, index) => {\n            val[item] = row[item];\n          });\n        } else if (!realNum) {\n          val.real_num = 0;\n          val.unit_price = row.unit_price;\n          val.business_type_name = row.business_type_name;\n          val.business_type_id = row.business_type_id;\n          val.sales_price = Number(val.real_num * val.unit_price).toFixed(2); //商品金额等于商品数量*商品单价\n          val.discount_unit_price = row.discount_unit_price; //优惠单价\n          val.discount_price = Number(\n            val.discount_unit_price * val.real_num\n          ).toFixed(2); //优惠金额等于优惠单价*数量\n          val.total_price = val.sales_price - val.discount_price; //小计金额等于商品金额-优惠金额\n          val.warehouse_id = val.warehouse_id;\n          val.allocation_id = val.allocation_id;\n          val.allocation_name = val.allocation_name;\n          keyArr.forEach((item, index) => {\n            val[item] = row[item];\n          });\n        } else {\n          val.real_num = realNum;\n          realNum = 0;\n          val.unit_price = row.unit_price;\n          val.business_type_name = row.business_type_name;\n          val.business_type_id = row.business_type_id;\n          val.sales_price = Number(val.real_num * val.unit_price).toFixed(2); //商品金额等于商品数量*商品单价\n          val.discount_unit_price = row.discount_unit_price; //优惠单价\n          val.discount_price = Number(\n            val.discount_unit_price * val.real_num\n          ).toFixed(2); //优惠金额等于优惠单价*数量\n          val.total_price = val.sales_price - val.discount_price; //小计金额等于商品金额-优惠金额\n          val.warehouse_id = val.warehouse_id;\n          val.allocation_id = val.allocation_id;\n          val.allocation_name = val.allocation_name;\n          keyArr.forEach((item, index) => {\n            val[item] = row[item];\n          });\n        }\n        return val;\n      });\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"insertAt\", this.batchMultiple, row);\n      xtable._proxy(\"remove\", row);\n      this.dialogTableBatch = false;\n    },\n    handleSelectionChangelist(val) {\n      if (val.length != 0) {\n        this.batchMultiple = val;\n      }\n    },\n    closeDialog(val) {\n      this.dialogBillVisible = false;\n    },\n    getCustomerInfo(val) {\n      if (val) {\n        this.referenceDisabled = false; //引用显示\n        this.$refs.xTable._proxy(\"remove\");\n        this.$refs.xTable._proxy(\"updateFooter\");\n        // if (this.referenceStack) {\n        //   //如果已经选择了客户，并且账套设置中只能引用单据\n        //   this.addDisabled = false;\n        // } else {\n        //   this.addDisabled = true;\n        // }\n        this.addDisabled = false;\n        if (val) {\n          //保存客户名称\n          this.params.customer_name = this.customerList.filter(\n            (obj) => obj.customer_id == val\n          )[0].customer_name;\n        }\n        this.$axMethod\n          .getCustomerInfoV2({\n            company_id: this.params.company_id,\n            customer_id: this.params.customer_id,\n          })\n          .then(({ data }) => {\n            if (data.code == 200) {\n              delete data.data.company_id;\n              let par = Object.assign({}, this.params, data.data);\n              this.params = par;\n              this.defaultArea = [\n                data.data.province_id,\n                data.data.city_id,\n                data.data.area_id,\n              ];\n              opthionList(this, data.data);\n            }\n          });\n        // 初始化授信\n      } else {\n        this.referenceDisabled = false; //引用显示\n        this.addDisabled = true;\n      }\n    },\n    departmentF(val) {\n      if (val) {\n        this.params.department_name = this.departmentList.filter(\n          (obj) => obj.department_id == val\n        )[0].department_name;\n      }\n    },\n    changeDefaultArea(addressId) {\n      this.params.cityList = addressId.join(\",\");\n      this.params.province_id = addressId[0];\n      this.params.city_id = addressId[1];\n      this.params.area_id = addressId[2];\n    },\n    paymentMethodChange(val) {\n      if (this.params.payment_method === 2) {\n        if (this.params.is_erp === 1 && !this.clearSettlement_customerId) {\n          this.clearSettlement_customerId = true;\n          this.params.settlement_customer_id = \"\"; // 电商订单物流公司清空\n        }\n        setTimeout(() => {\n          this.$refs.TableDataRef.validateField([\"settlement_customer_id\"]);\n        }, 50);\n      } else {\n        this.$refs.TableDataRef.clearValidate(\"settlement_customer_id\");\n      }\n    },\n    logisticsChanges(val) {\n      this.$refs.TableDataRef.validateField([\"settlement_customer_id\"]);\n      this.clearSettlement_customerId = true;\n      this.params.logistics_name = this.logisticsList.filter(\n        (obj) => obj.logistics_id == val\n      )[0].logistics_name;\n    },\n    warehousechange(val) {\n      if (!val) return;\n      this.params.warehouse_name = this.warehouseList.filter(\n        (obj) => obj.warehouse_id == val\n      )[0].warehouse_name;\n    },\n    referenceOrder() {\n      this.dialogBillVisible = true;\n    },\n    dialogformInline(val, num) {\n      this.clearSettlement_customerId = false; // 为了电商订单首次切换回款方式  清空物流公司\n      this.$refs.xTable._proxy(\"remove\");\n      this.dialogBillVisible = false;\n      let { goods_info, is_erp, ec_type } = val;\n      this.electricityOrderStatus = is_erp;\n      this.ec_type = ec_type;\n      this.sumprice = num; //引用订单单据商品数量\n      goods_info.forEach((val) => {\n        val.realNums = val.real_num;\n        val.sales_price = val.goods_price;\n        val.total_price = val.subtotal_price;\n        this.handleEdit({ row: val, column: { property: \"sales_price\" } });\n        if (val.batch_id) {\n          this.batchList.push({\n            batch: val.batch,\n            batch_id: val.batch_id,\n            warehouse_id: val.warehouse_id || \"\", // 2019/11/26 添加仓库ID\n            warehouse_name: val.warehouse_name,\n            allocation_name: val.allocation_name,\n            available_stocks: val.available_stocks,\n            stocks: val.stocks,\n          });\n        }\n      });\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"insertAt\", goods_info, -1);\n      Object.assign(\n        val,\n        {\n          employee_id: val.business_id,\n          employee_name: val.business_name,\n        },\n        {\n          settlement_customer_name: this.params.settlement_customer_name\n            ? this.params.settlement_customer_name\n            : val.intentional_logistics,\n          settlement_customer_id: this.params.settlement_customer_id\n            ? this.params.settlement_customer_id\n            : val.intentional_logistics_id,\n        }\n      );\n      this.logisticsList.push({\n        logistics_name: val.intentional_logistics,\n        logistics_id: val.intentional_logistics_id,\n      });\n      delete val.goods_info;\n      delete val.business_time;\n      delete val.company_id;\n      delete val.intentional_logistics; // 删掉 意向物流公司\n      delete val.intentional_logistics_id; // 删掉 意向物流公司\n      this.defaultArea = [val.province_id, val.city_id, val.area_id];\n      this.params = Object.assign({}, this.params, val);\n      opthionList(this, val);\n      this.addDisabled = true;\n      this.$refs.xTable._proxy(\"updateFooter\");\n      if (!this.params.settlement_customer_name) {\n        this.params.settlement_customer_id = null;\n      }\n    },\n    open11() {\n      this.$message({\n        showClose: true,\n        message: \"请确认业务日期，修改会清空表体数据\",\n        type: \"warning\",\n        duration: 5000,\n      });\n    },\n    addRow() {\n      // if (this.onces == 1) {\n      //   this.onces = 2;\n      //   this.open11();\n      // }\n      let xtable = this.$refs.xTable;\n      xtable\n        ._proxy(\"createRow\", {\n          binding_sign: this.binding_sign++,\n          discount_unit_price: \"\",\n          sales_price: \"\",\n          discount_price: \"\",\n          unit_price: \"\",\n          real_num: \"\",\n          remark: \"\",\n          business_type_id: 10001,\n        })\n        .then((newRow) => {\n          xtable._proxy(\"insertAt\", newRow, -1);\n        });\n      this.referenceDisabled = true;\n    },\n    rowClassName({ $rowIndex }) {\n      if (\n        this.styleArry.includes($rowIndex + 1 + \"\") ||\n        this.styleArry.includes($rowIndex + 1)\n      ) {\n        return {\n          backgroundColor: \"#fdecea\",\n          color: \"#5F5F5F\",\n        };\n      }\n    },\n    // input/blur 事件 type 1 input事件 2 blur事件\n    countSettlementPrice(type = 1) {\n      // 本单使用返利+本单使用授信+本单结算金额=订单的合计金额；\n      let valArry = [\"rebate_price\", \"credit_price\", \"deposits_price\"];\n      valArry.forEach((value) => {\n        let _value = this.params[value];\n        if (_value < 0) {\n          _value = _value.replace(/[^0-9.]/, \"\");\n        } else if (_value == undefined) {\n          _value = \"0.00\";\n        }\n        if (!_value && type == 2) _value = \"0.00\"; // 失焦\n        if (type == 2) {\n          _value = Number(_value).toFixed(2);\n        }\n        this.$set(this.params, value, _value);\n      });\n      let settlement_price =\n        Number(this.totalPrice) -\n        Number(this.params.rebate_price) -\n        Number(this.params.credit_price) -\n        Number(this.params.deposits_price);\n      this.$set(this.params, \"settlement_price\", settlement_price.toFixed(2));\n    },\n    handleEdit({ row, column }) {\n      if (column.property === \"goods_name\") {\n        return;\n      }\n      var obj = {\n        num: \"real_num\", // 商品数量的key\n        price: \"unit_price\", // 商品价格的key\n        goodsPrice: \"sales_price\", // 商品总金额的key  数量 * 单价\n        discount_unitPrice: \"discount_unit_price\", // 优惠单价的 key\n        discount_price: \"discount_price\", // 优惠金额的key\n        totalPrice: \"total_price\", // 商品小计金额,\n        taxrate: \"taxrate\", // 税率\n        revenue_price: \"revenue_price\", // 税额\n        no_revenue_price: \"no_revenue_price\", // 不纳税额\n        BuoyancyFactor: \"BuoyancyFactor\", //上调比例\n      };\n      var order = true;\n      if (this.referenceDisabled == false) {\n        order = false;\n      }\n      var that = this;\n      this.$publicFution.computeTotal(row, obj, column.property, this, {\n        callback: () => {\n          let xtable = that.$refs.xTable;\n          xtable._proxy(\"reloadRow\", row);\n          xtable._proxy(\"updateFooter\");\n        },\n        minus: true, //允许负数\n        major: order,\n      });\n      // 合并计算\n    },\n    deleteRow() {\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"removeSelecteds\");\n      if (!xtable._proxy(\"getTableData\").fullData.length) {\n        this.referenceDisabled = false; //引用订单按钮是否可以点击\n        this.addDisabled = false; //增行按钮是否可点击,等于true的时候不可点击\n        this.$set(this.params, \"order_sn\", \"\");\n        this.$set(this.params, \"order_id\", \"\");\n        this.electricityOrderStatus = 0\n      }\n      xtable._proxy(\"updateFooter\");\n      this.styleArry = [];\n    },\n    batchChange(val, index) {\n      const {\n        production_time,\n        batch_id,\n        batch,\n        stocks,\n        available_stocks,\n        warehouse_id,\n        warehouse_name,\n        allocation_id,\n        allocation_name,\n      } = val;\n      Object.assign(val, {\n        production_time,\n        batch_id,\n        batch,\n        stocks,\n        available_stocks,\n        warehouse_id,\n        warehouse_name,\n        allocation_id,\n        allocation_name,\n      });\n    },\n    seeMoneyDetail() {\n      this.$router.push({\n        path: \"/custom/accountloglist\",\n      });\n      this.accountloglist_showIndexACT({\n        params: this.params,\n        goPage: this.goPage,\n        pageSize: this.pageSize,\n      });\n    },\n    changeGoods(value, scope) {\n      let row = scope.row;\n      Object.assign(row, value, {\n        discount_unit_price: \"\",\n        sales_price: \"\",\n        discount_price: \"\",\n        unit_price: \"\",\n        real_num: \"\",\n        total_price: \"\",\n        remark: \"\",\n        business_type_id: 10001,\n      });\n      if (this.autoGetBatch) {\n        value.batch = null;\n        value.batch_id = null;\n        value.warehouse_name = null;\n        value.allocation_name = null;\n        Object.assign(row, value);\n        this.batchInvok(row, \"\", 2, (result) => {\n          if (result.code === 200) {\n            var obj = result.data[0];\n            let defaultBatch = {\n              batch: obj.batch || \"\",\n              batch_id: obj.batch_id || \"\",\n              warehouse_id: obj.warehouse_id || \"\", // 2019/11/26 添加仓库ID\n              warehouse_name: obj.warehouse_name || \"\",\n              allocation_id: obj.allocation_id || \"\", // 没有更新货位id会报货位不存在\n              allocation_name: obj.allocation_name || \"\",\n              production_time: obj.production_time || \"\", // 生产日期（反应会带出与年周批次生产日期不匹配）\n            };\n            this.batchList.push(defaultBatch);\n            Object.assign(row, defaultBatch);\n          }\n        });\n      } else {\n        this.$set(row, \"unit_name\", value.unit_name);\n        this.$set(row, \"goods_id\", value.goods_id);\n        this.$set(row, \"batch\", null);\n        this.$set(row, \"unit_price\", value.unit_price ? value.unit_price : 0);\n      }\n      //若为赠品\n      if ([10002, 10003].includes(row.business_type_id)) {\n        this.$set(row, \"sales_price\", 0);\n        this.$set(row, \"total_price\", 0);\n        this.$set(row, \"discount_unit_price\", 0);\n      }\n      this.confirm(scope);\n      var hasEmptyData = true;\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"getTableData\").fullData.forEach((item) => {\n        if (!item.goods_id) hasEmptyData = false;\n      });\n      if (hasEmptyData) {\n        this.addRow();\n      }\n    },\n    submitInfo(state) {\n      let vm = this;\n      // this.params.goods_info = JSON.stringify(this.TableData);\n      let arry = [\n        \"serial_number\",\n        \"binding_sign\",\n        \"batch_id\",\n        \"goods_id\",\n        \"allocation_id\",\n        \"goods_name\",\n        \"goods_sn\",\n        \"warehouse_id\",\n        \"warehouse_name\",\n        \"batch\",\n        \"production_time\",\n        \"real_num\",\n        \"order_goods_id\",\n        \"sales_price\",\n        \"total_price\",\n        \"outstock_goods_id\",\n        \"unit_price\",\n        \"cost_price\",\n        \"discount_unit_price\",\n        \"discount_price\",\n        \"business_type_id\",\n        \"unit_credit_price\",\n        \"unit_rebate_price\",\n        \"unit_deposits_price\",\n        \"policy_name\",\n        \"policy_id\",\n        \"factory_code\",\n        \"remark\",\n        \"allocation_id_str\",\n        \"taxrate\",\n        \"revenue_price\",\n        \"no_revenue_price\",\n      ];\n      let TableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .fullData.concat([])\n        .filter((item) => {\n          return !!item.goods_id;\n        });\n      if (!TableData.length) {\n        this.$message.warning(\"请先选择商品！\");\n        return false;\n      }\n      let regroup = [];\n      TableData.forEach((element, index) => {\n        regroup.push({});\n        arry.forEach((val) => {\n          if (val == \"allocation_id_str\") {\n            let allocationObj = {};\n            allocationObj[element.allocation_id] = element.real_num;\n            this.$set(regroup[index], val, allocationObj);\n          } else if (val == \"serial_number\") {\n            this.$set(regroup[index], val, index + 1);\n          } else if (val == \"real_num\") {\n            this.$set(regroup[index], val, element[val] ? element[val] : 0);\n          } else {\n            this.$set(regroup[index], val, element[val] ? element[val] : \"\");\n          }\n        });\n      });\n      this.params.goods_info = JSON.stringify(regroup);\n      let newParams = Object.assign(\n        {},\n        {\n          type: this.addDisabled ? 0 : 1,\n          order_type: 0,\n        },\n        this.params\n      );\n      let obj = {\n        company_id: this.params.company_id,\n        goods_info: this.params.goods_info,\n        operation: 1,\n        bill_type: 2,\n        is_info: 0,\n      };\n\n      let objs = {\n        async foo() {\n          return vm.$axMethod\n            .v2setBillCostControl(obj)\n            .then((res) => {\n              let s = res.data.data;\n              if (res.data.code == 200) {\n                if (s.length > 0) {\n                  if (s[0].bill_setting_status == 0) {\n                    //提醒逻辑\n                    let test = \"\";\n                    s.forEach((item, index) => {\n                      test += index + 1 + \".\" + item.name + \"<br>\";\n                    });\n                    vm.$confirm(\n                      ` <div class=\"colorblue\">${test}</div> <br>以上商品售价低于成本价，是否继续提交？`,\n                      \"提示\",\n                      {\n                        confirmButtonText: \"确定\",\n                        cancelButtonText: \"取消\",\n                        dangerouslyUseHTMLString: true,\n                        showClose: false,\n                        type: \"warning\",\n                        distinguishCancelAndClose: true, // 将取消（点击取消按钮）与关闭（点击关闭按钮或遮罩层、按下 ESC 键）进行区分\n                      }\n                    )\n                      .then(() => {\n                        vm.clickEnd(state, newParams);\n                      })\n                      .catch(() => {});\n                  } else {\n                    // 禁止逻辑\n                    vm.$message({\n                      message: \"商品售价低于成本价，保存失败！\",\n                      type: \"warning\",\n                    });\n                    s.forEach((item) => {\n                      vm.styleArry.push(Number(item.serial_number));\n                    });\n                  }\n                } else {\n                  vm.clickEnd(state, newParams);\n                  throw new Error(\"出错了\");\n                }\n              }\n            })\n            .catch((error) => {\n              console.log(error);\n            });\n        },\n      };\n      objs.foo().catch(() => {\n        this.clickEnd(state, newParams);\n      });\n    },\n    clickEnd(state, newParams) {\n      let vm = this;\n      // 校验安全库存金额参数\n      var box = JSON.parse(newParams.goods_info).map((item) => {\n        return {\n          warehouse_id: item.warehouse_id,\n          warehouse_name: item.warehouse_name,\n          allocation_id: item.allocation_id,\n          order_goods_id: item.order_goods_id || 0,\n          sale_price: item.unit_price || 0,\n          goods_id: item.goods_id,\n          batch: item.batch,\n          batch_id: item.batch_id,\n          goods_num: item.real_num,\n        };\n      });\n      // 校验对接车郎中\n      this.$baseData\n        .checkCarDoctor({\n          company_id: this.params.company_id,\n          company_name: this.params.company_name,\n          bill_type: 9,\n          // bill_id: this.params.return_id,\n          operation_type: 1,\n          goods_info: JSON.stringify(box),\n        })\n        .then(() => {\n          this.$baseData\n            .checkComputation(JSON.parse(newParams.goods_info), {\n              goods_num: \"real_num\",\n              total_price: \"total_price\",\n              goods_price: \"unit_price\",\n              discounted_price: \"discount_unit_price\",\n            })\n            .then(() => {\n              // 校验安全库存金额\n              this.$axMethod\n                .safetyStockCheck({\n                  company_id: this.params.company_id,\n                  company_name: this.params.company_name,\n                  business_time: this.params.business_time,\n                  bill_logogram: \"xsck\",\n                  order_type: 1,\n                  goods_info: JSON.stringify(box),\n                })\n                .then((data) => {\n                  repertory(\n                    this,\n                    {\n                      company_id: this.params.company_id,\n                      goods_info: this.params.goods_info,\n                      status: 1,\n                      type: 1,\n                    },\n                    function () {\n                      vm.$axMethod\n                        .salesOutstockAddOut(newParams)\n                        .then(({ data }) => {\n                          if (data.code == \"200\") {\n                            vm.$message({\n                              message: data.data,\n                              type: \"success\",\n                            });\n                            if (state) {\n                              vm.initialize();\n                              vm.$refs.xTable._proxy(\"remove\");\n                              vm.$refs.xTable._proxy(\"updateFooter\");\n                              vm.referenceDisabled = false;\n                              vm.addDisabled = true;\n                            } else {\n                              vm.goBack();\n                            }\n                          } else {\n                            vm.styleArry = data.data;\n                          }\n                        });\n                    }\n                  );\n                });\n            });\n        });\n    },\n    preSubmit(formName, state) {\n      this.$refs.xTable._proxy(\"clearActived\");\n      let TableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .fullData.concat([]);\n      let tk = \"n\";\n      if (this.params.warehouse_id != undefined) {\n        TableData.some((item) => {\n          if (\n            item.warehouse_id &&\n            item.warehouse_id != this.params.warehouse_id\n          ) {\n            tk = \"y\";\n            return;\n          }\n        });\n      }\n      if (tk == \"y\") {\n        this.$confirm(\n          \"表头仓库和表体商品仓库不一致，是否清空表头仓库\",\n          \"提示\",\n          {\n            confirmButtonText: \"是\",\n            cancelButtonText: \"否\",\n            type: \"warning\",\n            distinguishCancelAndClose: true, // 将取消（点击取消按钮）与关闭（点击关闭按钮或遮罩层、按下 ESC 键）进行区分\n          }\n        )\n          .then(() => {\n            this.params.warehouse_id = \"\";\n            this.submit(formName, state);\n          })\n          .catch((action) => {\n            if (action == \"cancel\") {\n              // 点击否\n              this.submit(formName, state);\n            }\n          });\n      } else {\n        this.submit(formName, state);\n      }\n    },\n    submit(formName, state) {\n      let TableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .fullData.concat([]);\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let sumbitStack = true;\n          if (!TableData.length) {\n            this.$message.error(\"请先选择订单\");\n            sumbitStack = false;\n          }\n          for (var i = 0; i < TableData.length; i++) {\n            if (!TableData[i].batch_id && TableData[i].goods_id) {\n              this.$message.error(\"请完善批次信息\");\n              sumbitStack = false;\n              return;\n            }\n          }\n          if (!sumbitStack) return false;\n          if (this.addDisabled) {\n            let sum = 0;\n            //引用单据\n            if (TableData.length > 1) {\n              TableData.forEach((val) => {\n                sum += val.real_num;\n              });\n            } else {\n              sum = TableData[0].real_num;\n            }\n            if (\n              sum != this.sumprice &&\n              this.electricityOrderStatus &&\n              this.ec_type != \"sourcing_order\" &&\n              this.ec_type != \"liancai_order\"\n            ) {\n              this.$message.error(\"电商订单不允许部分出库\");\n              return false;\n            }\n            this.submitInfo(state);\n          } else {\n            this.submitInfo(state);\n          }\n        }\n      });\n    },\n    initialize() {\n      this.$set(this, \"params\", {\n        business_time: this.$publicFution.formatData(new Date()),\n        company_id: Number(localStorage.company_id),\n        company_name: localStorage.company_name,\n        payment_method: 1,\n      });\n      opthionList(this, window.localStorage);\n    },\n  },\n  mounted() {\n    this.$baseData.settingInfo(\n      {\n        num: 3,\n        company_id: Number(localStorage.company_id),\n      },\n      () => {\n        if (localStorage.FDBName_business) {\n          let state = localStorage.getItem(\"FDBName_business\");\n          console.log(eval(state)[1]);\n          this.onlyQuote = eval(state)[1].status == 1 ? true : false;\n          this.addDisabled = eval(state)[1].status == 1 ? true : false;\n          // this.referenceStack = eval(state)[1].status == 1 ? false : true;\n        }\n      }\n    );\n    this.$baseData.settingInfo(\n      {\n        num: 2,\n        company_id: Number(localStorage.company_id),\n      },\n      () => {\n        if (localStorage.Documents_operation) {\n          //账套设置\n          let state = localStorage.getItem(\"Documents_operation\");\n          this.autoGetBatch = eval(state)[0].status == 1 ? true : false;\n        }\n      }\n    );\n\n    this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n    this.initialize();\n    this.getBusinsstypeInvok({\n      // 获取业务类型\n      order_key: \"business_type_id\",\n      order_by: 1,\n    });\n    this.$refs.customerId.focus();\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.el-table .warning-row {\n  background: oldlace;\n}\n\n.el-table .success-row {\n  background: #f0f9eb;\n}\n.table_container {\n  position: relative;\n  /deep/ .vxe-grid.is--maximize {\n    top: 0px;\n    .vxe-toolbar {\n      position: static;\n      // right: 0px;\n      // top: 0px;\n    }\n  }\n  /deep/ .vxe-toolbar {\n    position: absolute;\n    right: 0px;\n    top: -38px;\n  }\n}\n</style>\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('common',{attrs:{\"sourceType\":2}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading_demo),expression:\"loading_demo\"}],attrs:{\"element-loading-text\":\"列表正在生成中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(255, 255, 255, 0.8)\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.sourceType === 1 ? '销售管理' : '库存管理'))]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"销售出库\")])]),_c('el-breadcrumb-item',[_vm._v(\"新增销售出库\")])],1),_c('el-form',{ref:\"TableDataRef\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"size\":\"mini\",\"prop\":\"company_id\",\"rules\":_vm.rules.company_id}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.companyListInvok,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.outstock_sn),callback:function ($$v) {_vm.$set(_vm.params, \"outstock_sn\", $$v)},expression:\"params.outstock_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\",\"prop\":\"business_time\",\"rules\":_vm.rules.business_time}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":function($event){return _vm.confirmList()}},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"客户名称\",\"size\":\"mini\",\"prop\":\"customer_id\",\"rules\":_vm.rules.customer_id}},[_c('el-select',{ref:\"customerId\",attrs:{\"filterable\":\"\",\"placeholder\":\"请先选择客户\",\"loading\":_vm.loading,\"remote\":\"\",\"remote-method\":_vm.clienteleListInvok},on:{\"change\":_vm.getCustomerInfo,\"focus\":_vm.clienteleListInvok},model:{value:(_vm.params.customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"customer_id\", $$v)},expression:\"params.customer_id\"}},[_c('ul',{staticClass:\"customer customer-ul4 customer-ul2\"},[_c('li',[_vm._v(\"客户编号\")]),_c('li',[_vm._v(\"客户名称\")]),_c('li',[_vm._v(\"联系人\")]),_c('li',[_vm._v(\"联系电话\")]),_c('li',[_vm._v(\"区域\")])]),_vm._l((_vm.customerList),function(item){return _c('el-option',{key:item.customer_id,attrs:{\"label\":item.customer_name,\"value\":item.customer_id}},[_c('ul',{staticClass:\"customer customer-ul4\"},[_c('li',{attrs:{\"title\":item.customer_id}},[_vm._v(_vm._s(item.customer_id))]),_c('li',{attrs:{\"title\":item.customer_name}},[_vm._v(_vm._s(item.customer_name))]),_c('li',{attrs:{\"title\":item.contact_name}},[_vm._v(_vm._s(item.contact_name))]),_c('li',{attrs:{\"title\":item.customer_mobile}},[_vm._v(_vm._s(item.customer_mobile))]),_c('li',[_vm._v(_vm._s(item.province_name)+\"/\"+_vm._s(item.city_name)+\"/\"+_vm._s(item.area_name))])])])})],2)],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.department_id == 0){ _vm.params.department_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"disabled\":_vm.electricityOrderStatus == 1,\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"change\":_vm.departmentF,\"focus\":_vm.DepartmentListInvok},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"业务员\",\"size\":\"mini\",\"prop\":\"business_id\",\"rules\":_vm.businessIdRules}},[_c('erpEmployee',{attrs:{\"fatherParams\":_vm.params,\"modelLabel\":\"business_name\",\"disabled\":_vm.addDisabled,\"searchParams\":{ company_id: _vm.params.company_id }},model:{value:(_vm.params.business_id),callback:function ($$v) {_vm.$set(_vm.params, \"business_id\", $$v)},expression:\"params.business_id\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"收货人\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"7\",\"disabled\":_vm.addDisabled},model:{value:(_vm.params.consignee_name),callback:function ($$v) {_vm.$set(_vm.params, \"consignee_name\", $$v)},expression:\"params.consignee_name\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"电话\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":_vm.addDisabled},model:{value:(_vm.params.consignee_mobile),callback:function ($$v) {_vm.$set(_vm.params, \"consignee_mobile\", $$v)},expression:\"params.consignee_mobile\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],staticClass:\"wauto\",staticStyle:{\"min-width\":\"312px\"},attrs:{\"label\":\"所属区域\",\"size\":\"mini\"}},[(_vm.defaultArea && _vm.defaultArea.length)?_c('getAreaList',{attrs:{\"disabled\":_vm.addDisabled,\"defaultArea\":_vm.defaultArea},on:{\"changeDefaultArea\":_vm.changeDefaultArea}}):_vm._e()],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"详细地址\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":_vm.addDisabled},model:{value:(_vm.params.address),callback:function ($$v) {_vm.$set(_vm.params, \"address\", $$v)},expression:\"params.address\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"label\":\"关联单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.order_sn),callback:function ($$v) {_vm.$set(_vm.params, \"order_sn\", $$v)},expression:\"params.order_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"回款方式\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.payment_method == 0){ _vm.params.payment_method = null }})())+\" \"),_c('el-select',{on:{\"change\":_vm.paymentMethodChange},model:{value:(_vm.params.payment_method),callback:function ($$v) {_vm.$set(_vm.params, \"payment_method\", $$v)},expression:\"params.payment_method\"}},[_c('el-option',{attrs:{\"label\":\"客户自结\",\"value\":1}},[_vm._v(\"客户自结\")]),_c('el-option',{attrs:{\"label\":\"物流代收\",\"value\":2}},[_vm._v(\"物流代收\")]),_c('el-option',{attrs:{\"label\":\"电商结算\",\"value\":3}},[_vm._v(\"电商结算\")])],1)],1),(_vm.params.payment_method === 2)?_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"物流公司\",\"size\":\"mini\",\"prop\":\"settlement_customer_id\",\"rules\":_vm.rules.settlement_customer_id}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"filter-method\":_vm.logisticsInvok},on:{\"focus\":_vm.logisticsInvok,\"change\":_vm.logisticsChanges},model:{value:(_vm.params.settlement_customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"settlement_customer_id\", $$v)},expression:\"params.settlement_customer_id\"}},_vm._l((_vm.logisticsList),function(item){return _c('el-option',{key:item.logistics_id,attrs:{\"label\":item.logistics_name,\"value\":item.logistics_id}})}),1)],1):_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"物流公司\",\"size\":\"mini\",\"prop\":\"settlement_customer_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"filter-method\":_vm.logisticsInvok},on:{\"focus\":_vm.logisticsInvok,\"change\":_vm.logisticsChanges},model:{value:(_vm.params.settlement_customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"settlement_customer_id\", $$v)},expression:\"params.settlement_customer_id\"}},_vm._l((_vm.logisticsList),function(item){return _c('el-option',{key:item.logistics_id,attrs:{\"label\":item.logistics_name,\"value\":item.logistics_id}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"送货需求\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.delivery_demand_id == 0){ _vm.params.delivery_demand_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"disabled\":_vm.addDisabled},on:{\"focus\":_vm.getDeliveryDemandListInvok},model:{value:(_vm.params.delivery_demand_id),callback:function ($$v) {_vm.$set(_vm.params, \"delivery_demand_id\", $$v)},expression:\"params.delivery_demand_id\"}},_vm._l((_vm.deliveryDemandList),function(item){return _c('el-option',{key:item.delivery_demand_id,attrs:{\"label\":item.delivery_demand_name,\"value\":item.delivery_demand_id}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"交货方式\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.hand_over_id == 0){ _vm.params.hand_over_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"disabled\":_vm.addDisabled},on:{\"focus\":_vm.getHandoverListInvok},model:{value:(_vm.params.hand_over_id),callback:function ($$v) {_vm.$set(_vm.params, \"hand_over_id\", $$v)},expression:\"params.hand_over_id\"}},_vm._l((_vm.handoverList),function(item){return _c('el-option',{key:item.hand_over_id,attrs:{\"label\":item.hand_over_name,\"value\":item.hand_over_id}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"出库类型\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){_vm.params.outstock_type_id = 10002})())+\" \"),_c('el-input',{attrs:{\"value\":\"销售出库\",\"disabled\":\"\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"仓库名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.warehouse_id == 0){ _vm.params.warehouse_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\"},on:{\"focus\":_vm.warehouseInvok,\"change\":_vm.warehousechange},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}},_vm._l((_vm.warehouseList),function(item){return _c('el-option',{key:item.warehouse_id,attrs:{\"label\":item.warehouse_name,\"value\":item.warehouse_id}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"打印次数\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.print_times),callback:function ($$v) {_vm.$set(_vm.params, \"print_times\", $$v)},expression:\"params.print_times\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"单据状态:\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.auditor_status_name),callback:function ($$v) {_vm.$set(_vm.params, \"auditor_status_name\", $$v)},expression:\"params.auditor_status_name\"}})],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hideClass),expression:\"hideClass\"}],attrs:{\"label\":\"摘要\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\",\"placeholder\":\"摘要最多300个字\"},model:{value:(_vm.params.abstract),callback:function ($$v) {_vm.$set(_vm.params, \"abstract\", $$v)},expression:\"params.abstract\"}})],1),_c('p',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"14px\",\"cursor\":\"pointer\",\"color\":\"#409eff\"},on:{\"click\":function($event){_vm.hideClass=!_vm.hideClass}}},[_c('i',{class:_vm.hideClass?'el-icon-caret-top':'el-icon-caret-bottom'}),_c('span',[_vm._v(_vm._s(_vm.hideClass?'收缩':'展开'))])])],1),_c('div',{staticClass:\"add_delet\"},[_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"disabled\":_vm.referenceDisabled,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.referenceOrder}},[_vm._v(\"参照订单\")]),(!_vm.onlyQuote)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"disabled\":_vm.addDisabled,\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"增行\")]):_vm._e(),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deleteRow}},[_vm._v(\"删行\")])],1),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"isEdit\":true,\"toolConfig\":_vm.tool_Config,\"showFooter\":true,\"row-style\":_vm.rowClassName,\"footerMethod\":_vm.footerMethod,\"xData\":_vm.tableData,\"dragable\":\"\",\"column-min-width\":\"100\",\"mouse-config\":{selected: true},\"tableColumn\":_vm.tableColumn,\"isShowTool\":true,\"editConfig\":{trigger: 'click', mode: 'cell',autoClear:false,activeMethod:_vm.activeMethod}}})],1),_c('br'),(!_vm.addDisabled)?_c('div',[_c('el-form',{ref:\"TableDataRef2\",staticClass:\"db priceFoot\",attrs:{\"model\":_vm.params,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"本单使用返利：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"type\":\"number\"},on:{\"blur\":function($event){return _vm.countSettlementPrice(2)},\"input\":function (value) { return _vm.countSettlementPrice(1); }},model:{value:(_vm.params.rebate_price),callback:function ($$v) {_vm.$set(_vm.params, \"rebate_price\", $$v)},expression:\"params.rebate_price\"}}),_c('span',{staticClass:\"yeban\"},[_vm._v(\"余额:\"+_vm._s(_vm._f(\"priceFormat\")(_vm.params.rebate_balance?_vm.params.rebate_balance: 0)))])],1),_c('el-form-item',{attrs:{\"label\":\"本单使用授信：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"type\":\"number\"},on:{\"blur\":function($event){return _vm.countSettlementPrice(2)},\"input\":function (value) { return _vm.countSettlementPrice(1); }},model:{value:(_vm.params.credit_price),callback:function ($$v) {_vm.$set(_vm.params, \"credit_price\", $$v)},expression:\"params.credit_price\"}}),_c('span',{staticClass:\"yeban\"},[_vm._v(\"余额:\"+_vm._s(_vm._f(\"priceFormat\")(_vm.params.credit_balance?_vm.params.credit_balance:0)))])],1),_c('el-form-item',{attrs:{\"label\":\"本单使用预收：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"type\":\"number\"},on:{\"blur\":function($event){return _vm.countSettlementPrice(2)},\"input\":function (value) { return _vm.countSettlementPrice(1); }},model:{value:(_vm.params.deposits_price),callback:function ($$v) {_vm.$set(_vm.params, \"deposits_price\", $$v)},expression:\"params.deposits_price\"}}),_c('span',{staticClass:\"yeban\"},[_vm._v(\"余额:\"+_vm._s(_vm._f(\"priceFormat\")(_vm.params.deposits?_vm.params.deposits:0)))])],1),_c('el-form-item',{attrs:{\"label\":\"客户余额：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"disabled\":\"\",\"size\":\"mini\"},model:{value:(_vm.params.balance),callback:function ($$v) {_vm.$set(_vm.params, \"balance\", $$v)},expression:\"params.balance\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.seeMoneyDetail}},[_vm._v(\"查看往来\")])],1),_c('el-form-item',{attrs:{\"label\":\"本单结算金额：\",\"size\":\"mini\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"disabled\":\"\",\"type\":\"number\"},model:{value:(_vm.params.settlement_price),callback:function ($$v) {_vm.$set(_vm.params, \"settlement_price\", $$v)},expression:\"params.settlement_price\"}})],1)],1)],1):_vm._e(),_c('div',[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"开票信息：\")]),_c('el-input',{staticStyle:{\"width\":\"50%\",\"vertical-align\":\"text-top\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入开票金额\"},model:{value:(_vm.params.invoice_info),callback:function ($$v) {_vm.$set(_vm.params, \"invoice_info\", $$v)},expression:\"params.invoice_info\"}})],1),_c('div',{staticClass:\"refundauditFoot\"},[_c('span',[_vm._v(\"制单人：\"+_vm._s(_vm.username))]),_c('span',[_vm._v(\"单据时间：\"+_vm._s(_vm.params.add_time))]),_c('span',[_vm._v(\"审核人：\"+_vm._s(_vm.params.auditor_name))]),_c('span',[_vm._v(\"审核时间：\"+_vm._s(_vm.params.auditor_time))]),_c('span',[_vm._v(\"修改人：\"+_vm._s(_vm.params.update_user_name))]),_c('span',[_vm._v(\"修改时间：\"+_vm._s(_vm.params.update_time))])]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.preSubmit( 'TableDataRef',false)}}},[_vm._v(\"保 存\")]),(_vm.authority.b_add==1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.preSubmit( 'TableDataRef',true)}}},[_vm._v(\"保存并新增\")]):_vm._e()],1),_c('el-dialog',{attrs:{\"title\":\"多批次\",\"visible\":_vm.dialogTableBatch,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogTableBatch=$event}}},[_c('el-table',{attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.batchList,\"max-height\":\"300\"},on:{\"selection-change\":_vm.handleSelectionChangelist}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"batch\",\"width\":\"100\",\"label\":\"年周/批次\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"warehouse_name\",\"label\":\"仓库名称\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"allocation_name\",\"label\":\"货位名称\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"production_time\",\"label\":\"生产日期\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"stocks\",\"label\":\"在库库存\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"available_stocks\",\"label\":\"批次可用库存\",\"align\":\"right\"}})],1),_c('div',{staticStyle:{\"text-align\":\"center\",\"padding\":\"10px\"}},[_c('el-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.orderAdd(_vm.dialogArryrow)}}},[_vm._v(\"确定\")])],1)],1),(_vm.dialogChooseProducts)?_c('goodsPopout',{attrs:{\"searchParams\":{\n            company_id:_vm.params.company_id,\n        warehouse_id:_vm.params.warehouse_id,\n        customer_id:_vm.params.customer_id,\n        warehouse_name:_vm.params.warehouse_name}},on:{\"close\":function($event){_vm.dialogChooseProducts = false},\"submit\":_vm.chooseProducts_confirm}}):_vm._e(),(_vm.dialogBillVisible)?_c('div',[_c('el-dialog',{staticClass:\"dialogForm\",attrs:{\"close-on-click-modal\":false,\"title\":\"选择订单\",\"visible\":_vm.dialogBillVisible,\"width\":\"1300px\"},on:{\"update:visible\":function($event){_vm.dialogBillVisible=$event}}},[_c('source-bill',{attrs:{\"pardata\":_vm.params},on:{\"dialogformInline\":_vm.dialogformInline,\"closedialog\":_vm.closeDialog}})],1)],1):_vm._e(),(_vm.dialogTableVisible)?_c('historicalPrices',{attrs:{\"searchParams\":{ company_id: _vm.params.company_id,goods_id:_vm.currentScope.row && _vm.currentScope.row.goods_id },\"company_id\":_vm.params.company_id},on:{\"sumbitData\":_vm.handleCurrentChange},model:{value:(_vm.dialogTableVisible),callback:function ($$v) {_vm.dialogTableVisible=$$v},expression:\"dialogTableVisible\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salesoutAddCommon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salesoutAddCommon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./salesoutAddCommon.vue?vue&type=template&id=4c1182d4&scoped=true&\"\nimport script from \"./salesoutAddCommon.vue?vue&type=script&lang=js&\"\nexport * from \"./salesoutAddCommon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./salesoutAddCommon.vue?vue&type=style&index=0&id=4c1182d4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c1182d4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- 库存管理销售出库新增\n    1 销售管理\n    2 库存管理\n   --> \n  <common  :sourceType='2' />\n</template>\n\n\n<script>\nimport common from \"@/components/element/sales/salesoutmanage/salesout/config/salesoutAddCommon.vue\";\nexport default {\n  name: \"inventorySalesoutAdd\",\n  data() {\n    return {};\n  },\n  components: {\n    common\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salesoutAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salesoutAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./salesoutAdd.vue?vue&type=template&id=6f600280&\"\nimport script from \"./salesoutAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./salesoutAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./salesoutAddCommon.vue?vue&type=style&index=0&id=4c1182d4&lang=less&scoped=true&\"","// 获取业务员 调整\nfunction getBusinessName(list, row, vm) {\n  if (list) {\n    for (var i = 0; i < list.length; i++) {\n      if (row.business_type_id === list[i].business_type_id) {\n        return list[i].business_type_name + getIndexShop(row, vm)\n      }\n    }\n  }\n}\n// 获取是哪行的赠品\nfunction getIndexShop(row, vm) {\n  if (row.business_type_id === 10003) {\n    var box = vm.$refs.xTable._proxy('getTableData').fullData;\n    for (var i = 0; i < box.length; i++) {\n      if (box[i].binding_sign === row.binding_sign && box[i].business_type_id !== 10003) {\n        return '(行' + (i + 1) + ')'\n      }\n    }\n  }\n  return ''\n}\n// 赠品是否可以修改方法\nfunction giftUpdate(row, that) {\n  var num = 0;\n  var box = that.$refs.xTable._proxy('getTableData').fullData;\n  for (var i = 0; i < box.length; i++) {\n    if (row.binding_sign !== undefined && box[i].binding_sign === row.binding_sign) {\n      num++\n    }\n    if (num >= 2 && row.business_type_id === 10003) {\n      that.$message.warning('当前满足促销政策不可修改')\n      return false\n    }\n  }\n  return true\n}\nconst mixins = {\n  data() {\n    return {\n      dialogArryrow: null,//多批次弹出框row\n      tableColumn: [{\n        type: 'checkbox',\n        width: 40\n      },\n      {\n        type: 'index',\n        title: '序号',\n        width: 50\n      },\n      {\n        title: '业务类型', // 同element-ui的 lable\n        field: 'business_type_id', // 同element的 prop   property \n        width: 110,\n        showOverflow: true,\n        editRender: {\n          type: 'default',\n          autofocus: '.el-input__inner'\n        },\n        slots: {\n          edit: (scope, h) => {\n            var { row, rowIndex } = scope\n            var a =\n              <el-select v-model={row.business_type_id}\n                onChange={($event) => {\n                  row.business_type_id = $event\n                  this.changeBusinessType(scope)\n                }}>\n                {\n                  this.businessTypeList.map((val) => {\n                    return <el-option label={val.business_type_name} value={val.business_type_id} key={val.business_type_id}\n                    ></el-option>\n                  })\n                }\n              </el-select>\n            return [\n              a\n            ]\n          },\n          default: ({ row, rowIndex }, h) => {\n            var a\n            a = <span>{getBusinessName(this.businessTypeList, row, this)}</span>\n            return [\n              a\n            ]\n          }\n        }\n      },\n      {\n        field: 'goods_id',\n        title: '商品编号',\n        width: 80,\n        showOverflow: true\n      },\n      {\n        field: 'goods_name',\n        title: '商品名称',\n        width: 300,\n        showOverflow: true,\n        editRender: {\n          name: 'vGoods',\n          getParams: (scope) => {\n            let _this = this\n            return {\n              params: {\n                company_id: this.params.company_id || 0,\n                customer_id: this.params.customer_id || 0,\n                warehouse_id: this.params.warehouse_id || 0,\n                bill_type: 2,\n                isTotal: 1,\n              },\n              showObj: {\n                goods_id: \"商品编号\",\n                goods_name: \"商品名称\",\n                factory_code: \"工厂代码\",\n                shorthand_code: \"速记码\",\n                available_stocks: \"可用库存\",\n                stocks: \"在库库存\"\n              },\n              getIcon() { // 渲染器内部图标 返回一个数组 (非必传 默认为空)\n                return [{\n                  icon: 'el-icon-plus', // 渲染器图标 基于element图标 (非必传 默认为查询图标)\n                  iconMethod() { // 渲染器图标点击方法 (非必传)\n                    _this.goSelectShop(scope)\n                  }\n                }]\n              },\n            }\n          },\n          events: {\n            change: this.changeGoods\n          }\n        }\n      },\n      {\n        field: 'batch',\n        title: '年周/批次',\n        showOverflow: true,\n        width: 200,\n        editRender: {\n          autoselect: true,\n          name: 'vBatch',\n          getParams: (scope) => {\n            let _this = this\n            return {\n              params: {\n                company_id: this.params.company_id,\n                warehouse_id: this.params.warehouse_id,\n                goods_id: scope.row.goods_id,\n                bill_type: 2\n              },\n              getOutIcon() { // 渲染器内部图标 返回一个数组 (非必传 默认为空)\n                if (_this.addDisabled) {\n                  return [{\n                    icon: 'icon-copy', // 渲染器图标 基于element图标 (非必传 默认为查询图标)\n                    iconMethod() { // 渲染器图标点击方法 (非必传)\n                      _this.dialogArryrow = scope\n                      _this.batchInvok(scope.row, '', 2)\n                      _this.dialogTableBatch = true\n                    }\n                  }]\n                } else {\n                  return []\n                }\n              },\n            }\n          },\n          events: {\n            change: (val, { row }) => {\n              if (!row.goods_id) {\n                return false\n              }\n              const {\n                production_time,\n                batch_id,\n                batch,\n                stocks,\n                available_stocks,\n                warehouse_id,\n                warehouse_name,\n                allocation_id,\n                allocation_name\n              } = val;\n              Object.assign(row, {\n                production_time,\n                batch_id,\n                batch,\n                stocks,\n                available_stocks,\n                warehouse_id,\n                warehouse_name,\n                allocation_id,\n                allocation_name\n              });\n            }\n          }\n        }\n      },\n      {\n        field: 'production_time',\n        title: '生产日期',\n        showOverflow: true,\n        width: 80\n      },\n      {\n        field: 'real_num',\n        title: '数量',\n        showOverflow: true,\n        editRender: {\n          autoselect: true,\n          name: 'number',\n          events: {\n            input: (scope) => {\n              scope.row.is_price = 1\n              this.handleEdit(scope)\n            },\n            change: (scope, value) => {\n              var { row, $rowIndex, column } = scope\n              this.confirm(scope)\n              // this.promotionChange(scope, value)\n            }\n          }\n        }\n      },\n      {\n        field: 'unit_price',\n        title: '售价',\n        showOverflow: true,\n        width: 150,\n        editRender: {\n          autoselect: true,\n          name: 'Vinput',\n          getSlots: (scope) => {\n            if (!this.addDisabled) {\n              this.dialogArryrow = scope\n              return <el-link onClick={ () => { this.getHistryPrice(scope) } }>历史价</el-link>\n            }\n          },\n          events: {\n            input: (scope) => {\n              scope.row.is_price = 1\n              this.handleEdit(scope)\n            },\n            change: (scope, value) => {\n              var { row, $rowIndex, column } = scope\n              this.confirm(scope)\n            }\n          },\n\n        }\n      }, {\n        field: 'sales_price',\n        title: '商品金额',\n        showOverflow: true,\n        editRender: {\n          autoselect: true,\n          name: 'Vinput',\n          events: {\n            input: (scope) => {\n              scope.row.is_price = 1\n              this.handleEdit(scope)\n            },\n            change: (scope, value) => {\n              // this.promotionChange(scope, value)\n              var { row, $rowIndex, column } = scope\n              this.confirm(scope)\n            }\n          },\n        }\n      }, {\n        field: 'discount_unit_price',\n        title: '优惠单价',\n        showOverflow: true,\n        editRender: {\n          autoselect: true,\n          name: 'vNumber',\n          events: {\n            input: (scope) => {\n              this.handleEdit(scope)\n            }\n          },\n        }\n      }, {\n        field: 'discount_price',\n        title: '优惠金额',\n        showOverflow: true,\n        editRender: {\n          autoselect: true,\n          name: 'vNumber',\n          events: {\n            input: (scope) => {\n              this.handleEdit(scope)\n            }\n          },\n        }\n      }, {\n        field: 'total_price',\n        showOverflow: true,\n        title: '小计金额'\n      },\n      {\n        title: '门店优惠金额',\n        field: 'shop_discount_price',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        width: 100\n      },\n      {\n        title: '原价金额',\n        field: 'original_price',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        width: 100\n      },\n      {\n        field: 'revenue_price',\n        showOverflow: true,\n        title: '税额',\n        editRender: {\n          autoselect: true,\n          name: 'Vinput',\n          formatter: 'Positive',\n          events: {\n            input: (scope) => {\n              this.handleEdit(scope)\n            }\n          },\n        }\n      },\n      {\n        field: 'no_revenue_price',\n        showOverflow: true,\n        title: '不含税金额'\n      },\n      {\n        field: 'warehouse_name',\n        title: '仓库',\n        showOverflow: true,\n        width: 120,\n      }, {\n        field: 'allocation_name',\n        title: '货位',\n        sortable: true,\n        showOverflow: true,\n        width: 120,\n      }, {\n        field: 'unit_name',\n        title: '单位',\n        showOverflow: true,\n        width: 110\n      }, {\n        field: 'policy_name',\n        title: '促销政策',\n        showOverflow: true,\n        width: 150\n      },\n      {\n        title: '工厂代码',\n        field: 'factory_code',\n        showOverflow: true,\n        width: 120\n      }, \n      {\n        title: '速记码',\n        field: 'shorthand_code',\n        showOverflow: true,\n        width: 120\n      }, \n      {\n        field: 'remark',\n        title: '备注',\n        width: 150,\n        showOverflow: true,\n        editRender: {\n          name: 'Vinput',\n          formatter: 'String'\n        }\n      }\n      ],\n      tableData: [],\n    }\n  },\n  methods: {\n    activeMethod({ column, row }) {\n      var step = true;\n      if (this.addDisabled) {\n        if (column.property === 'real_num' || column.property === 'batch' || column.property === 'revenue_price') {\n          if (!row.goods_name) {\n            this.$message.warning('请先选择商品')\n            return false\n          } else if (column.property === 'real_num' && this.electricityOrderStatus &&\n            (this.ec_type != \"sourcing_order\" && this.ec_type != 'liancai_order')) {//如果是电商订单则数量不允许输入\n            this.$message.warning('电商订单不允许部分出库！')\n            return false\n          }\n          // step = giftUpdate(row, this)\n        } else {\n          this.$message.warning('引用订单只能修改数量，批次和税额')\n          step = false\n        }\n        return step;\n      } else {\n        if (column.property === \"goods_name\") {\n          if (row.business_type_id === 10003) {\n            step = giftUpdate(row, this)\n          }\n        }\n        if (column.property === \"batch\") {\n          if (!row.goods_id) {\n            this.$message.warning('请先选择商品')\n            step = false\n          }\n        }\n        if (column.property === \"sales_price\" || column.property === 'unit_price') {\n          if (row.business_type_id === 10007 && row.policy_id) {\n            this.$message.warning('特价不允许修改售价和商品金额')\n            step = false\n          }\n        }\n        if (column.property === 'discount_unit_price' || column.property === 'discount_price') {\n          if (row.business_type_id !== 10001 && row.policy_id) {\n            this.$message.warning('当前满足促销政策不可修改')\n            step = false\n          }\n        }\n        if (column.property === 'discount_price' || column.property === 'discount_unit_price' || column.property ===\n          'sales_price' || column.property === 'unit_price') {\n          if (row.business_type_id === 10001) {\n            if (!row.goods_name) {\n              this.$message.warning('请先选择商品')\n              step = false\n            }\n          }\n          if (row.business_type_id === 10002 || row.business_type_id === 10003) {\n            this.$message.warning('赠品不可修改')\n            step = false\n          }\n        }\n        if (column.property === 'real_num') {\n          if (!row.goods_name) {\n            this.$message.warning('请先选择商品')\n            return false\n          }\n          step = giftUpdate(row, this)\n        }\n        if (column.property === 'business_type_id') {\n          if (this.salesorderAddGet && this.salesorderAddGet.order_id) {\n            this.$message.warning('修改不可编辑')\n            return false\n          }\n          if (row.policy_id) {\n            this.$message.warning('当前满足促销政策不可修改')\n            return false\n          }\n          step = giftUpdate(row, this)\n        }\n        return step;\n      }\n    },\n    footerMethod({ columns, data }) {\n      return [\n        columns.map((column, columnIndex) => {\n          if (columnIndex === 1) {\n            return \"合计\";\n          }\n          if (\n            [\"total_price\", \"discount_price\", \"real_num\"].includes(\n              column.property\n            )\n          ) {\n            if (column.property == 'total_price') {\n              this.totalPrice = this.$utils.sum(data, column.property);\n              this.countSettlementPrice();\n            }\n            var num = this.$utils.sum(data, column.property);\n            return Number.isInteger(num) ? num : num.toFixed(2)\n          }\n          return null;\n        })\n      ];\n    }\n  }\n}\nexport default mixins"],"sourceRoot":""}