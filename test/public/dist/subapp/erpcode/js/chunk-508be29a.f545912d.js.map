{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/seeInfo.vue?830f","webpack://erpcode-[name]/src/components/element/sales/salesbefore/promotionpolicy/seeInfo.vue","webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/seeInfo.vue?54e0","webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/seeInfo.vue","webpack://erpcode-[name]/./src/components/element/sales/salesbefore/promotionpolicy/seeInfo.vue?d248"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","goBack","ref","params","_s","company_name","policy_name","staticStyle","auditor_status_name","start_time","end_time","directives","name","rawName","value","expression","goods_list","unit_type","_e","textone","full_price","texttwo","full_subtraction_price","textthree","full_type","_l","tag","key","goods_id","type","goods_name","promotion_range","index","customer_id","customer_name","customer_mobile","remark","$event","passwxy","staticRenderFns","data","authority","TableData","info_data","list","timeValue","loading","getPolicy_id","computed","methods","urlTpe","types","confirmButtonText","cancelButtonText","method","url","res","code","vm","$message","message","msg","$router","push","created","$axios","$api","getPromotionPolicyInfo","component"],"mappings":"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","file":"js/chunk-508be29a.f545912d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"销售管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"销售政策\")])]),_c('el-breadcrumb-item',[_vm._v(\"查看促销政策\")])],1)],1),_c('div',{staticClass:\"contbk\"},[_c('h2',{staticClass:\"cont_tit\"},[_vm._v(\"查看促销政策\")]),_c('el-form',{ref:\"policyRef\",staticClass:\"cont_list\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"size\":\"mini\"}},[_c('span',{staticClass:\"fs12lg\"},[_vm._v(\" \"+_vm._s(_vm.params.company_name))])]),_c('br'),_c('el-form-item',{attrs:{\"size\":\"mini\",\"label\":\"政策名称\"}},[_c('span',{staticClass:\"fs12lg\"},[_vm._v(_vm._s(_vm.params.policy_name))]),_c('span',{staticClass:\"fs12lg\",staticStyle:{\"border\":\"1px solid\"}},[_vm._v(\" \"+_vm._s(_vm.params.auditor_status_name)+\" \")])]),_c('br'),_c('el-form-item',{attrs:{\"size\":\"mini\",\"label\":\"政策生效日期\"}},[_c('span',{staticClass:\"fs12lg\"},[_vm._v(_vm._s(_vm.params.start_time)+\" ~ \"+_vm._s(_vm.params.end_time))]),_c('span',{staticClass:\"smstyle\"},[_vm._v(\"说明：促销政策有效期在业务日期内，促销政策有效\")])]),_c('br'),_c('el-row',{staticStyle:{\"margin\":\"10px 0\",\"border-bottom\":\"1px dashed #e5e5e5\",\"padding-bottom\":\"10px\"}},[_c('span',{staticClass:\"resetH\"},[_vm._v(\"促销商品\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}],staticClass:\"goodslist\",attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.params.goods_list,\"max-height\":\"225\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"45\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"label\":\"商品编号\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"property\":\"goods_name\",\"label\":\"商品名称\",\"min-width\":\"290\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"brand_name\",\"label\":\"品牌\",\"min-width\":\"110\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"unit_name\",\"min-width\":\"40\",\"label\":\"单位\"}})],1),_c('div',{staticClass:\"smstyle\",staticStyle:{\"float\":\"left\",\"margin-left\":\"106px\"}},[_vm._v(\" 【说明】 1、点击商品名称中的放大镜图标，可批量选择商品；2、将对以上每一个商品分别应用促销规则。 \")])],1),_c('el-row',{staticStyle:{\"margin\":\"10px 0\",\"border-bottom\":\"1px dashed #e5e5e5\",\"padding-bottom\":\"10px\"}},[_c('span',{staticClass:\"resetH\"},[_vm._v(\"促销类型\")]),(_vm.params.unit_type==3)?_c('span',{staticClass:\"fs12lg\"},[_vm._v(\"按照商品数量\")]):_vm._e(),(_vm.params.unit_type==4)?_c('span',{staticClass:\"fs12lg\"},[_vm._v(\"按照商品金额\")]):_vm._e(),(_vm.params.unit_type==5)?_c('span',{staticClass:\"fs12lg\"},[_vm._v(\"特价\")]):_vm._e()]),_c('el-row',{staticStyle:{\"margin\":\"10px 0\",\"border-bottom\":\"1px dashed #e5e5e5\",\"padding-bottom\":\"10px\"}},[_c('span',{staticClass:\"resetH\"},[_vm._v(\"促销规则\")]),(_vm.params.unit_type!=5)?_c('div',{staticClass:\"fs12lg\"},[_vm._v(\" \"+_vm._s(_vm.textone)+\" \"),_c('span',{staticClass:\"smstyle\"},[_vm._v(_vm._s(_vm.params.full_price))]),_vm._v(\" \"+_vm._s(_vm.texttwo)+\" \"),_c('span',{staticClass:\"smstyle\"},[_vm._v(_vm._s(_vm.params.full_subtraction_price))]),_vm._v(\" \"+_vm._s(_vm.textthree)+\" \")]):_vm._e(),(_vm.params.unit_type==5)?_c('div',{staticClass:\"flagstyle fs12lg\"},[_vm._v(\" 商品售价降至 \"),_c('span',{staticClass:\"smstyle\"},[_vm._v(_vm._s(_vm.params.full_price))]),_vm._v(\" 元 \")]):_vm._e(),(_vm.params.full_type==1&&_vm.params.unit_type!=5)?_c('div',{staticClass:\"customBk\"},_vm._l((_vm.params.gift_goods_list),function(tag){return _c('el-tag',{key:tag.goods_id,attrs:{\"type\":tag.type}},[_vm._v(\" \"+_vm._s(tag.goods_name)+\" \")])}),1):_vm._e()]),_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\",\"border-bottom\":\"1px dashed #e5e5e5\",\"padding-bottom\":\"10px\"}},[_c('span',{staticClass:\"resetH \"},[_vm._v(\"促销范围\")]),(_vm.params.promotion_range==2)?_c('div',{staticClass:\"fs12lg\"},[_vm._v(\"全部客户\")]):_vm._e(),(_vm.params.promotion_range==1)?_c('div',{staticClass:\"fs12lg\"},[_vm._v(\"指定客户\")]):_vm._e(),(_vm.params.promotion_range==1)?_c('div',{staticClass:\"customBk\"},_vm._l((_vm.params.customer_list),function(tag,index){return _c('el-tag',{key:tag.customer_id,attrs:{\"type\":tag.type}},[_vm._v(\" \"+_vm._s(index+1)+\"、 \"+_vm._s(tag.customer_id)+\" \"+_vm._s(tag.customer_name)+\" \"+_vm._s(tag.customer_mobile)+\" \")])}),1):_vm._e()]),_c('el-form-item',{attrs:{\"size\":\"mini\",\"label\":\"备注\"}},[_c('span',[_vm._v(_vm._s(_vm.params.remark))])]),_c('div',{staticClass:\"smstyle\",staticStyle:{\"float\":\"left\",\"margin-left\":\"106px\"}},[_vm._v(\" 【说明】 在相同生效时间内，相同的商品、客户，以最新的促销政策为准。 \")])],1),_c('el-row',{staticStyle:{\"width\":\"550px\",\"margin\":\"30px 0 0\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[(_vm.params.auditor_status_name=='未审核')?_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.passwxy(1)}}},[_vm._v(\"审核\")])],1)]):_vm._e(),(_vm.params.auditor_status_name!='关闭')?_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.passwxy(2)}}},[_vm._v(\"关闭\")])],1)]):_vm._e(),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[(_vm.params.auditor_status_name=='关闭')?_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")]):_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")])],1)])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!--  促销政策查看详情 -->\n    <div class=\"search_container\">\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item>销售管理</el-breadcrumb-item>\n        <el-breadcrumb-item class=\"attrbute\">\n          <span @click=\"goBack\">销售政策</span>\n        </el-breadcrumb-item>\n        <el-breadcrumb-item>查看促销政策</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <div class=\"contbk\">\n      <h2 class=\"cont_tit\">查看促销政策</h2>\n      <el-form :inline=\"true\" :model=\"params\" class=\"cont_list\" ref=\"policyRef\">\n        <el-form-item label=\"销售组织\" size=\"mini\">\n          <span class=\"fs12lg\"> {{params.company_name}}</span>\n        </el-form-item>\n        <br>\n        <el-form-item size=\"mini\" label=\"政策名称\">\n          <span class=\"fs12lg\">{{params.policy_name}}</span>\n          <span class=\"fs12lg\" style=\"border:1px solid\">&nbsp;{{params.auditor_status_name}}&nbsp;</span>\n        </el-form-item>\n        <br>\n        <el-form-item size=\"mini\" label=\"政策生效日期\">\n          <span class=\"fs12lg\">{{params.start_time}} ~ {{params.end_time}}</span>\n          <span class=\"smstyle\">说明：促销政策有效期在业务日期内，促销政策有效</span>\n        </el-form-item>\n\n        <br>\n        <el-row style=\"margin:10px 0;border-bottom: 1px dashed #e5e5e5;padding-bottom:10px\">\n          <span class=\"resetH\">促销商品</span>\n          <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"params.goods_list\" max-height=\"225\" class=\"goodslist\" v-loading=\"loading1\">\n            <el-table-column type=\"index\" label=\"序号\" width=\"45\"></el-table-column>\n            <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" label=\"商品编号\" width=\"70\">\n            </el-table-column>\n            <el-table-column property=\"goods_name\" label=\"商品名称\" min-width=\"290\">\n            </el-table-column>\n            <el-table-column :show-overflow-tooltip=\"true\" property=\"brand_name\" label=\"品牌\" min-width=\"110\">\n            </el-table-column>\n            <el-table-column :show-overflow-tooltip=\"true\" property=\"unit_name\" min-width=\"40\" label=\"单位\">\n            </el-table-column>\n          </el-table>\n          <div style=\"float:left;margin-left:106px;\" class=\"smstyle\">\n            【说明】 1、点击商品名称中的放大镜图标，可批量选择商品；2、将对以上每一个商品分别应用促销规则。\n          </div>\n        </el-row>\n\n        <el-row style=\"margin:10px 0;border-bottom: 1px dashed #e5e5e5;padding-bottom:10px\">\n          <span class=\"resetH\">促销类型</span>\n          <span v-if=\"params.unit_type==3\" class=\"fs12lg\">按照商品数量</span>\n          <span v-if=\"params.unit_type==4\" class=\"fs12lg\">按照商品金额</span>\n          <span v-if=\"params.unit_type==5\" class=\"fs12lg\">特价</span>\n        </el-row>\n\n        <el-row style=\"margin:10px 0;border-bottom: 1px dashed #e5e5e5;padding-bottom:10px\">\n          <span class=\"resetH\">促销规则</span>\n          <div v-if=\"params.unit_type!=5\" class=\"fs12lg\">\n            {{textone}}\n            <span class=\"smstyle\">{{params.full_price}}</span> {{texttwo}}\n            <span class=\"smstyle\">{{params.full_subtraction_price}}</span> {{textthree}}\n          </div>\n          <div v-if=\"params.unit_type==5\" class=\"flagstyle fs12lg\">\n            商品售价降至\n            <span class=\"smstyle\">{{params.full_price}}</span> 元\n          </div>\n          <div class=\"customBk\" v-if=\"params.full_type==1&&params.unit_type!=5\">\n            <el-tag v-for=\"tag in params.gift_goods_list\" :key=\"tag.goods_id\" :type=\"tag.type\">\n              {{tag.goods_name}}\n            </el-tag>\n          </div>\n        </el-row>\n\n        <el-row style=\"margin-bottom:10px;border-bottom: 1px dashed #e5e5e5;padding-bottom:10px\">\n          <span class=\"resetH \">促销范围</span>\n          <div v-if=\"params.promotion_range==2\" class=\"fs12lg\">全部客户</div>\n          <div v-if=\"params.promotion_range==1\" class=\"fs12lg\">指定客户</div>\n          <div class=\"customBk\" v-if=\"params.promotion_range==1\">\n            <el-tag v-for=\"(tag,index) in params.customer_list\" :key=\"tag.customer_id\" :type=\"tag.type\">\n              {{index+1}}、&nbsp;{{tag.customer_id}}&nbsp;{{tag.customer_name}}&nbsp;{{tag.customer_mobile}}\n            </el-tag>\n          </div>\n        </el-row>\n\n        <el-form-item size=\"mini\" label=\"备注\">\n          <span>{{params.remark}}</span>\n        </el-form-item>\n        <div style=\"float:left;margin-left:106px;\" class=\"smstyle\">\n          【说明】 在相同生效时间内，相同的商品、客户，以最新的促销政策为准。\n        </div>\n      </el-form>\n      <!-- 确定按钮部分 -->\n\n      <el-row type=\"flex\" justify=\"center\" style=\"width:550px;margin:30px 0 0;\">\n        <el-col :span=\"4\" v-if=\"params.auditor_status_name=='未审核'\">\n          <div class=\"grid-content bg-purple\">\n            <el-button @click=\"passwxy(1)\" size=\"mini\" type=\"primary\">审核</el-button>\n          </div>\n        </el-col>\n        <el-col :span=\"4\" v-if=\"params.auditor_status_name!='关闭'\">\n          <div class=\"grid-content bg-purple\">\n            <el-button plain @click=\"passwxy(2)\" size=\"mini\">关闭</el-button>\n          </div>\n        </el-col>\n        <el-col :span=\"4\">\n          <div class=\"grid-content bg-purple-light\">\n            <el-button plain @click=\"goBack\" size=\"mini\" v-if=\"params.auditor_status_name=='关闭'\">返回</el-button>\n            <el-button plain @click=\"goBack\" size=\"mini\" v-else>取消</el-button>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport {\n  getData,\n  getCompanyListCommon,\n  getDepartmentListCommon,\n} from \"common/utils/public_function/commonUtils\";\nimport { MessageBox } from \"common/npm/element-ui\";\nexport default {\n  name: \"salesSalesbeforeSeeInfo\",\n\n  data() {\n    return {\n      authority: {},\n      TableData: {\n        info_data: {},\n        list: [],\n      },\n      timeValue: [],\n      loading: false,\n      params: {},\n      getPolicy_id: null,\n    };\n  },\n  computed: {\n    ...mapGetters([\"policyseeInfo_hideGet\"]),\n  },\n  methods: {\n    ...mapActions([\"promotionpolicyIndexACT\"]),\n    passwxy(types) {\n      let vm = this;\n      var urlTpe = \"\";\n      if (types == 1) {\n        urlTpe = \"auditorPassPromotionPolicy\";\n      } else {\n        urlTpe = \"v2closePromotionPolicy\";\n      }\n      MessageBox.confirm(\"确定要操作此条信息？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      }).then(() => {\n        this.$axios({\n          method: \"post\",\n          url: this.$api[urlTpe],\n          data: { policy_id: this.params.policy_id },\n        }).then(function (res) {\n          if (res.data.code == 200) {\n            vm.$message({\n              message: types == 1 ? res.data.data : res.data.msg,\n              type: \"success\",\n            });\n            vm.goBack();\n          } else {\n            vm.goBack();\n          }\n        });\n      });\n    },\n    goBack() {\n      this.$router.push({ path: \"/sales/promotionpolicy\" });\n    },\n  },\n  created() {\n    this.$axios({\n      method: \"get\",\n      url: this.$api.getPromotionPolicyInfo,\n      params: { policy_id: this.$route.query.id },\n    }).then((res) => {\n      if (res.data.code == 200) {\n        this.params = res.data.data;\n        if (this.params.unit_type == 3) {\n          // 按照商品数量\n          switch (this.params.full_type) {\n            case 2:\n              this.textone =\n                this.params.is_double == 1 ? \"商品数量每满\" : \"商品数量满\";\n              this.texttwo = \"则减免\";\n              this.textthree = \"元\";\n              break;\n            case 3:\n              this.textone = \"商品数量满\";\n              this.texttwo = \"则打\";\n              this.textthree = \"折\";\n              break;\n            case 1:\n              this.textone =\n                this.params.is_double == 1 ? \"商品数量每满\" : \"商品数量满\";\n              this.texttwo = \"则赠送数量\";\n              this.textthree = \"的\";\n              break;\n          }\n        } else if (this.params.unit_type == 4) {\n          // 按照商品金额\n          switch (this.params.full_type) {\n            case 2:\n              this.textone =\n                this.params.is_double == 1 ? \"商品金额每满\" : \"商品金额满\";\n              this.texttwo = \"则减免\";\n              this.textthree = \"元\";\n              break;\n            case 3:\n              this.textone = \"商品金额满\";\n              this.texttwo = \"则打\";\n              this.textthree = \"折\";\n              break;\n            case 1:\n              this.textone =\n                this.params.is_double == 1 ? \"商品金额每满\" : \"商品金额满\";\n              this.texttwo = \"则赠送数量\";\n              this.textthree = \"的\";\n              break;\n          }\n        } else {\n          //全都不展示\n        }\n      }\n    });\n  },\n};\n</script>\n<style scoped  lang=\"less\">\n.policyadd {\n  min-width: 953px;\n}\n.smstyle {\n  color: #e4723f;\n  font-size: 13px;\n}\n.fs12lg {\n  font-size: 12px;\n}\n.contbk {\n  width: 100%;\n  margin-top: 20px;\n  border: 1px solid #e5e5e5;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  overflow: hidden;\n  .cont_list {\n    padding: 0 160px 0 80px;\n    .el-form-item {\n      border-bottom: 1px dashed #e5e5e5;\n    }\n    .el-form-item--mini.el-form-item {\n      width: 100% !important;\n    }\n    .el-form-item__content .el-input {\n      width: 100% !important;\n    }\n    .el-form-item__content .el-date-editor {\n      width: 100% !important;\n    }\n  }\n}\n.cont_tit {\n  width: 100%;\n  height: 35px;\n  letter-spacing: 2px;\n  line-height: 35px;\n  font-size: 14px;\n  padding-left: 10px;\n  box-sizing: border-box;\n  color: black;\n  background: #d0def1;\n  margin-bottom: 25px;\n}\n.goodslist {\n  max-width: 80%;\n  float: left;\n}\n.flagstyle {\n  font-size: 12px;\n  color: #606266;\n  margin-top: -5px;\n  .el-input {\n    width: 50px !important;\n  }\n}\n.pdbj {\n  padding: 20px 0 0 110px;\n}\n// wxy添加必填星号\n.resetH2,\n.resetH {\n  width: 100px;\n  float: left;\n  padding-right: 6px;\n  font-size: 12px;\n  color: #606266;\n  text-align: right;\n  position: relative;\n  top: 3px;\n}\n.resetH2::before {\n  content: \"*\";\n  position: absolute;\n  color: #f56c6c;\n  right: 60px;\n}\n.btncustomer {\n  color: #2b85e4;\n  font-size: 14px;\n  padding-left: 20px;\n  cursor: pointer;\n}\n// 新增促销政策 特殊的input\n.smallInput .el-input__inner {\n  width: 50px;\n  padding: 0 0 0 5px;\n}\n.customBk2 {\n  width: 300px;\n  height: 100px;\n  display: inline-block;\n  overflow-y: scroll;\n  border: 1px solid #e5e5e5;\n  padding: 10px;\n  box-sizing: border-box;\n  border-radius: 4px;\n  background: #fff;\n}\n.customBk {\n  width: 80%;\n  float: left;\n  height: 60px;\n  margin: 15px 0 0 110px;\n  overflow-y: scroll;\n  border: 1px solid #e5e5e5;\n  padding: 10px;\n  box-sizing: border-box;\n  border-radius: 4px;\n  background: #fff;\n}\n.customBk::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  background-color: #f5f5f5;\n  border-radius: 10px;\n}\n\n.customBk::-webkit-scrollbar {\n  width: 10px;\n  background-color: #f5f5f5;\n}\n\n.customBk::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-image: -webkit-gradient(\n    linear,\n    left bottom,\n    left top,\n    color-stop(0.44, rgb(122, 153, 217)),\n    color-stop(0.72, rgb(73, 125, 189)),\n    color-stop(0.86, rgb(28, 58, 148))\n  );\n}\n\n.customBk2::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  background-color: #f5f5f5;\n  border-radius: 10px;\n}\n\n.customBk2::-webkit-scrollbar {\n  width: 10px;\n  background-color: #f5f5f5;\n}\n\n.customBk2::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-image: -webkit-gradient(\n    linear,\n    left bottom,\n    left top,\n    color-stop(0.44, rgb(122, 153, 217)),\n    color-stop(0.72, rgb(73, 125, 189)),\n    color-stop(0.86, rgb(28, 58, 148))\n  );\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./seeInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./seeInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./seeInfo.vue?vue&type=template&id=3569f972&scoped=true&\"\nimport script from \"./seeInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./seeInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./seeInfo.vue?vue&type=style&index=0&id=3569f972&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3569f972\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./seeInfo.vue?vue&type=style&index=0&id=3569f972&scoped=true&lang=less&\""],"sourceRoot":""}