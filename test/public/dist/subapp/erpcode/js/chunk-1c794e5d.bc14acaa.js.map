{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/report/inventoryreport/costdetail/costdetail.vue?9085","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/report/inventoryreport/costdetail/costdetail.vue?5a71","webpack://erpcode-[name]/src/components/element/report/inventoryreport/costdetail/costdetail.vue","webpack://erpcode-[name]/./src/components/element/report/inventoryreport/costdetail/costdetail.vue?1fd2","webpack://erpcode-[name]/./src/components/element/report/inventoryreport/costdetail/costdetail.vue"],"names":["$","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","toFixed","pow","x","n","acc","log","x2","multiply","data","c","index","c2","divide","dataToString","s","t","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","this","fractDigits","sign","result","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","params","rules","company_id","companyFilter","on","companyChange","getCompany","model","value","callback","$$v","$set","expression","_l","item","key","company_name","class","type","_v","_s","required","message","trigger","warehouseChangeId","warehouseInvok","warehouse_id","warehouse_name","is_incomplete","row","handleSelect","goods_id","goods_name","getBatchListInvok","batch","change","timeValue","onSearch","onReset","authority","b_export","listShow","staticStyle","slot","nativeOn","$event","exportOrder","_e","directives","name","rawName","TableData","tableData","tableHeight","getSummaries","scopedSlots","_u","fn","scope","_f","out_costprice","bond_price","bond_cost_price","goPage","pageSize1","per_page","total","handleSizeChange","handleCurrentChange","staticRenderFns","searchParams","optionsW","exportType","companyList","allList","pageSize","getwarehouseOption","loading","goodsList","list","methods","columns","forEach","includes","column","property","sums","values","reduce","prev","curr","Number","start_time","val","end_time","changeDefaultArea","province_id","addressId","city_id","area_id","$message","export_type","scheduleType","$axMethod","exportCostDetailUrl","then","response","code","window","location","href","url","changeProvince","$common","options","city","level","p_id","changeCity","area","allocationChange","localStorage","console","$refs","filterFormRef","validate","valid","Object","assign","page","mounted","JSON","parse","getItem","API","vm","onresize","component"],"mappings":"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","file":"js/chunk-1c794e5d.bc14acaa.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./costdetail.vue?vue&type=style&index=0&id=589d621c&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"filterFormRef\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"库存组织\",\"size\":\"mini\",\"rules\":_vm.rules.company_id,\"prop\":\"company_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filter-method\":_vm.companyFilter,\"filterable\":\"\"},on:{\"change\":_vm.companyChange,\"focus\":_vm.getCompany},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"仓库\",\"size\":\"mini\",\"prop\":\"warehouse_id\",\"rules\":[{ required: true, message: '请选择仓库', trigger: 'change' }]}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.warehouseChangeId,\"focus\":_vm.warehouseInvok},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}},_vm._l((_vm.warehouseList),function(item){return _c('el-option',{key:item.warehouse_id,attrs:{\"label\":item.warehouse_name,\"value\":item.warehouse_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"货位\",\"size\":\"mini\",\"prop\":\"allocation_id\",\"rules\":[{ required: true, message: '请选择货位', trigger: 'change' }]}},[_c('erpAllocation',{attrs:{\"searchParams\":{company_id: _vm.params.company_id, warehouse_id: _vm.params.warehouse_id, is_incomplete: 3}},model:{value:(_vm.params.allocation_id),callback:function ($$v) {_vm.$set(_vm.params, \"allocation_id\", $$v)},expression:\"params.allocation_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"size\":\"mini\",\"prop\":\"goods_name\",\"rules\":[{ required: true, message: '请选择商品', trigger: 'change' }]}},[_c('v-GoodsList',{attrs:{\"scopes\":{row: _vm.params },\"vxeParams\":{company_id: _vm.params.company_id},\"changeGoods\":_vm.handleSelect,\"showObj\":{goods_id: '商品编号' , goods_name: '商品名称'}}})],1),_c('el-form-item',{attrs:{\"label\":\"年周/批次\",\"size\":\"mini\",\"prop\":\"batch\",\"rules\":[{ required: true, message: '请选择批次', trigger: 'change' }]}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.getBatchListInvok},model:{value:(_vm.params.batch),callback:function ($$v) {_vm.$set(_vm.params, \"batch\", $$v)},expression:\"params.batch\"}},_vm._l((_vm.batchList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.batch,\"value\":item.batch}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"审核日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"clearable\":\"\"},on:{\"change\":_vm.change},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),(_vm.authority.b_export==1 && _vm.listShow)?_c('div',{staticClass:\"add_delet\"},[_c('el-dropdown',{attrs:{\"placement\":\"bottom-start\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"#4e90e2\"},attrs:{\"split-button\":\"\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"iconfont icon-daochu10\",\"size\":\"mini\"}},[_vm._v(\"导出\")])],1),_c('el-dropdown-menu',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.exportOrder(1)}}},[_vm._v(\"导出Excel文件\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.exportOrder(2)}}},[_vm._v(\"导出CSV逗号分隔\")])],1)],1)],1):_vm._e(),(_vm.listShow)?_c('div',{staticClass:\"table_container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData.tableData,\"max-height\":_vm.tableHeight,\"summary-method\":_vm.getSummaries,\"show-summary\":\"\"}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"company_name\",\"width\":\"150\",\"label\":\"库存组织\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"width\":\"180\",\"label\":\"商品编号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_name\",\"min-width\":\"500\",\"label\":\"商品名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(scope.row.goods_name))])]}}],null,false,3380057349)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"batch\",\"width\":\"180\",\"label\":\"年周/批次\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"warehouse_name\",\"width\":\"132\",\"label\":\"仓库名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"allocation_name\",\"width\":\"180\",\"label\":\"货位名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"order_sn\",\"width\":\"180\",\"label\":\"单据号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"add_time\",\"width\":\"180\",\"label\":\"单据日期\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"auditor_time\",\"width\":\"180\",\"label\":\"审核日期\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"type\",\"width\":\"180\",\"label\":\"单据类型\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"in_num\",\"width\":\"180\",\"label\":\"入库数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"in_price\",\"width\":\"180\",\"label\":\"入库单价\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"in_costprice\",\"width\":\"180\",\"label\":\"入库成本\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"out_num\",\"width\":\"180\",\"label\":\"出库数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"out_price\",\"width\":\"180\",\"label\":\"出库单价\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"out_costprice\",\"width\":\"180\",\"label\":\"出库成本\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.out_costprice))+\" \")]}}],null,false,1248515447)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"bond_num\",\"width\":\"180\",\"label\":\"结存数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"bond_price\",\"width\":\"180\",\"label\":\"结存单价\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.bond_price))+\" \")]}}],null,false,1868728181)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"bond_cost_price\",\"width\":\"180\",\"label\":\"结存成本\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.bond_cost_price))+\" \")]}}],null,false,120342369)})],1),_c('div',{staticClass:\"page_container\"},[_c('div',{staticClass:\"pageNumber\"},[_vm._v(\"每页显示\")]),_c('el-pagination',{staticClass:\"erp-pagination\",attrs:{\"current-page\":_vm.goPage,\"page-size\":_vm.pageSize1,\"page-sizes\":_vm.per_page,\"layout\":\"total,sizes, prev, pager, next,jumper\",\"prevText\":\"上一页\",\"nextText\":\"下一页\",\"total\":_vm.TableData.total},on:{\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.goPage=$event},\"update:current-page\":function($event){_vm.goPage=$event},\"current-change\":_vm.handleCurrentChange}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" ref=\"filterFormRef\" :model=\"params\" :rules=\"rules\" class=\"demo-form-inline\">\n        <el-form-item label=\"库存组织\" size=\"mini\" :rules=\"rules.company_id\" prop=\"company_id\">\n          <el-select v-model=\"params.company_id\" placeholder=\"请选择\" @change=\"companyChange\" :filter-method=\"companyFilter\" filterable @focus=\"getCompany\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': ''\">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"仓库\" size=\"mini\" prop=\"warehouse_id\" :rules=\"[{ required: true, message: '请选择仓库', trigger: 'change' }]\">\n          <el-select v-model=\"params.warehouse_id\" placeholder=\"请选择\" @change=\"warehouseChangeId\" @focus=\"warehouseInvok\">\n            <el-option :label=\"item.warehouse_name\" :value=\"item.warehouse_id\" :key=\"item.warehouse_id\" v-for=\"item in warehouseList\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"货位\" size=\"mini\" prop=\"allocation_id\" :rules=\"[{ required: true, message: '请选择货位', trigger: 'change' }]\">\n          <erpAllocation v-model=\"params.allocation_id\" :searchParams=\"{company_id: params.company_id, warehouse_id: params.warehouse_id, is_incomplete: 3}\" />\n        </el-form-item>\n        <el-form-item label=\"商品名称\" size=\"mini\" prop=\"goods_name\" :rules=\"[{ required: true, message: '请选择商品', trigger: 'change' }]\">\n          <v-GoodsList :scopes='{row: params }' :vxeParams='{company_id: params.company_id}' :changeGoods='handleSelect' :showObj=\"{goods_id: '商品编号' , goods_name: '商品名称'}\" />\n        </el-form-item>\n\n        <el-form-item label=\"年周/批次\" size=\"mini\" prop=\"batch\" :rules=\"[{ required: true, message: '请选择批次', trigger: 'change' }]\">\n          <!-- <el-input v-model=\"params.batch\" clearable placeholder=\"请输入\"></el-input> -->\n          <!-- 1274需求 -->\n          <el-select v-model=\"params.batch\" @focus=\"getBatchListInvok\" filterable clearable placeholder=\"请选择\">\n            <el-option v-for=\"(item,index) in batchList\" :key=\"index\" :label=\"item.batch\" :value=\"item.batch\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"审核日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" @change=\"change\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" clearable>\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item size=\"mini\" class=\"search-style search\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n          <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n        </el-form-item>\n\n      </el-form>\n    </div>\n\n    <div class=\"add_delet\" v-if=\"authority.b_export==1 && listShow\">\n      <el-dropdown placement=\"bottom-start\">\n        <span split-button style=\"cursor:pointer;color:#4e90e2\">\n          <el-button plain icon=\"iconfont icon-daochu10\" size=\"mini\">导出</el-button>\n        </span>\n        <el-dropdown-menu slot=\"dropdown\" style=\"margin-top:10px;\">\n          <el-dropdown-item @click.native=\"exportOrder(1)\">导出Excel文件</el-dropdown-item>\n          <el-dropdown-item @click.native=\"exportOrder(2)\">导出CSV逗号分隔</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n\n    <!-- <div class=\"add_delet\">\n      <el-select v-model=\"params.export_type\" placeholder=\"请选择\">\n        <el-option label=\"Excel文件\" value=\"1\">Excel文件</el-option>\n        <el-option label=\"CSV逗号分隔\" value=\"2\">CSV逗号分隔</el-option>\n      </el-select>\n      <el-button plain @click=\"exportOrder\" size=\"mini\" icon=\"iconfont icon-daochu10\" class=\"exporT\" v-if=\"authority.b_export==1\">导出</el-button>\n    </div> -->\n\n    <div class=\"table_container\" v-if=\"listShow\">\n      <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableData.tableData\" :max-height=\"tableHeight\" style=\"width: 100%\" v-loading=\"loading1\" :summary-method=\"getSummaries\" show-summary>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"company_name\" width=\"150\" label=\"库存组织\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" width=\"180\" label=\"商品编号\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_name\" min-width=\"500\" label=\"商品名称\">\n          <template slot-scope=\"scope\">\n            <pre>{{scope.row.goods_name}}</pre>\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"batch\" width=\"180\" label=\"年周/批次\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"warehouse_name\" width=\"132\" label=\"仓库名称\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"allocation_name\" width=\"180\" label=\"货位名称\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"order_sn\" width=\"180\" label=\"单据号\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"add_time\" width=\"180\" label=\"单据日期\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"auditor_time\" width=\"180\" label=\"审核日期\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"type\" width=\"180\" label=\"单据类型\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"in_num\" width=\"180\" label=\"入库数量\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"in_price\" width=\"180\" label=\"入库单价\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"in_costprice\" width=\"180\" label=\"入库成本\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"out_num\" width=\"180\" label=\"出库数量\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"out_price\" width=\"180\" label=\"出库单价\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"out_costprice\" width=\"180\" label=\"出库成本\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.out_costprice|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"bond_num\" width=\"180\" label=\"结存数量\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"bond_price\" width=\"180\" label=\"结存单价\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.bond_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"bond_cost_price\" width=\"180\" label=\"结存成本\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.bond_cost_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"page_container\">\n        <div class=\"pageNumber\">每页显示</div>\n        <el-pagination class=\"erp-pagination\" @size-change=\"handleSizeChange\" :current-page.sync=\"goPage\" :page-size=\"pageSize1\" @current-change=\"handleCurrentChange\" :page-sizes=\"per_page\" layout=\"total,sizes, prev, pager, next,jumper\" prevText=\"上一页\" nextText=\"下一页\" :total=\"TableData.total\">\n        </el-pagination>\n      </div>\n\n    </div>\n\n  </div>\n</template>\n<script>\nimport {\n  getData,\n  getInventoryFinanceCompanyOpen,\n  tableResize //明细表去除页面滚动条\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"reportCostdetail\",\n  data() {\n    return {\n      authority: {},\n      params: {},\n      searchParams: {},\n      listShow: false,\n      timeValue: [],\n      optionsW: null,\n      exportType: null,\n      companyList: {},\n      TableData: {\n        allList: {},\n        tableData: []\n      },\n      goPage: 1, //默认搜索页面\n      pageSize: 30,\n      getwarehouseOption: true,\n      per_page: [30, 50, 100, 500],\n      loading: false,\n      goodsList: [],\n      list: [],\n      tableHeight: 600\n    };\n  },\n\n  methods: {\n    getSummaries(param) {\n      // 合并计算\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = \"合计\";\n          return;\n        }\n        if ([\"in_num\", \"out_num\"].includes(column.property)) {\n          const values = data.map(item => Number(item[column.property] || 0));\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            return prev + curr;\n          }, 0);\n        } else if (\n          [\"in_costprice\", \"out_costprice\"].includes(column.property)\n        ) {\n          const values = data.map(item => Number(item[column.property] || 0));\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            return Number((prev + curr).toFixed(2));\n          }, 0);\n          sums[index] = sums[index].toFixed(2);\n        }\n      });\n      return sums;\n    },\n    change(val) {\n      //选择的日期\n      this.params.start_time = val[0];\n      this.params.end_time = val[1];\n    },\n    changeDefaultArea(addressId) {\n      this.params.province_id = addressId[0];\n      this.params.city_id = addressId[1];\n      this.params.area_id = addressId[2];\n    },\n    exportOrder(scheduleType) {\n      // 导出库存收发明细表导出URL\n      if (this.listShow == false) {\n        this.$message({\n          message: \"请查询需要导出的数据\",\n          type: \"error\"\n        });\n        return false;\n      }\n      let s = Object.assign(this.params, {\n        export_type: scheduleType\n      });\n      this.$axMethod.exportCostDetailUrl(this.params).then(response => {\n        if (response.data.code == 200) {\n          window.location.href = response.data.data.url;\n        }\n      });\n    },\n    changeProvince() {\n      //   this.params.city_id = \"\";\n      this.$common.options(\"getAreaListOption\", this.city, {\n        level: 3,\n        p_id: this.params.province_id\n      });\n      this.$set(this.params, \"city_id\", \"\");\n      this.$set(this.params, \"area_id\", \"\");\n    },\n    changeCity() {\n      this.$common.options(\"getAreaListOption\", this.area, {\n        level: 4,\n        p_id: this.params.city_id\n      });\n    },\n    companyChange(val) {\n      this.$set(this.params, \"warehouse_id\", \"\"); // 仓库初始化\n      this.$set(this.params, \"goods_name\", \"\"); // 商品名称初始化\n      this.$set(this.params, \"goods_id\", \"\"); // 商品编号初始化\n      this.$set(this.params, \"allocation_id\", \"\"); // 初始化货位\n      this.$set(this.params, \"batch\", \"\"); // 初始化批次\n    },\n    warehouseChangeId(val) {\n      // 仓库ID的获取\n      this.getwarehouseOption = false;\n      this.$set(this.params, \"goods_name\", \"\"); // 商品名称初始化\n      this.$set(this.params, \"goods_id\", \"\"); // 商品编号初始化\n      this.$set(this.params, \"allocation_id\", \"\"); // 初始化货位\n      this.$set(this.params, \"batch\", \"\"); // 初始化批次\n    },\n    // 货位\n    allocationChange() {\n      this.$set(this.params, \"goods_name\", \"\"); // 商品名称初始化\n      this.$set(this.params, \"goods_id\", \"\"); // 商品编号初始化\n      this.$set(this.params, \"batch\", \"\"); // 初始化批次\n    },\n    onReset() {\n      /** 重置时 如需保存默认参数，则： */\n      this.$set(this, \"params\", {\n        company_id: Number(localStorage.company_id)\n      });\n      this.timeValue = [];\n      this.$set(this.TableData, \"tableData\", []);\n      this.listShow = false;\n    },\n    handleSelect(value) {\n      this.$set(this.params, \"goods_id\", value.goods_id);\n      this.$set(this.params, \"goods_name\", value.goods_name);\n      this.$set(this.params, \"batch\", \"\");\n    },\n    onSearch() {\n      console.log(this.params);\n      this.$refs.filterFormRef.validate(valid => {\n        if (valid) {\n          this.listShow = true;\n          if (this.timeValue && this.timeValue.length == 2) {\n            this.params.start_time = this.timeValue[0];\n            this.params.end_time = this.timeValue[1];\n          } else {\n            this.params.start_time = this.params.end_time = \"\";\n          }\n          Object.assign(this.searchParams.params, this.params, {\n            page: 1\n          });\n\n          getData(this.searchParams, 2, tableResize.bind(this));\n        }\n      });\n    },\n    handleSizeChange(val) {\n      Object.assign(this.searchParams.params, {\n        per_page: val,\n        page: 1\n      });\n      getData(this.searchParams);\n    },\n    handleCurrentChange(val) {\n      Object.assign(this.searchParams.params, {\n        page: val\n      });\n      getData(this.searchParams);\n    },\n    companyFilter(val) {\n      let options = {\n        type: 1,\n        company_name: val\n      };\n      getInventoryFinanceCompanyOpen(this, options);\n    },\n    getCompany() {\n      let options = {\n        type: 1,\n        company_name: null\n      };\n      getInventoryFinanceCompanyOpen(this, options);\n    }\n  },\n  mounted() {\n    this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n    this.$set(this, \"params\", {\n      company_id: Number(localStorage.company_id)\n    });\n    this.companyList = [\n      {\n        company_id: Number(localStorage.company_id),\n        company_name: localStorage.company_name\n      }\n    ];\n    this.$set(this, \"searchParams\", {\n      params: {}, //1默认带的参数\n      TableData: this.TableData, //列表数据\n      API: \"v2GetCostDetailList\", //接口名\n      vm: this //传递的this\n    });\n\n    //取消单据右侧滚动条\n    tableResize.bind(this)();\n    window.onresize = tableResize.bind(this);\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.title {\n  line-height: 50px;\n  border-bottom: 1px solid #dddddd;\n}\n.warehouse-ul li {\n  padding: 0px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./costdetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./costdetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./costdetail.vue?vue&type=template&id=589d621c&scoped=true&\"\nimport script from \"./costdetail.vue?vue&type=script&lang=js&\"\nexport * from \"./costdetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./costdetail.vue?vue&type=style&index=0&id=589d621c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"589d621c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}