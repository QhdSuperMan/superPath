{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/purchase/shoplowPrice/shoplowPriceSee.vue?182f","webpack://erpcode-[name]/./src/components/element/purchase/shoplowPrice/shoplowPriceSee.vue?7b92","webpack://erpcode-[name]/src/components/element/purchase/shoplowPrice/shoplowPriceSee.vue","webpack://erpcode-[name]/./src/components/element/purchase/shoplowPrice/shoplowPriceSee.vue?b6a4","webpack://erpcode-[name]/./src/components/element/purchase/shoplowPrice/shoplowPriceSee.vue","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/purchase/shoplowPrice/config/policyContent.js","webpack://erpcode-[name]/./src/components/element/purchase/shoplowPrice/config/shoplowPriceAdd.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","goBack","ref","params","_s","company_name","price_strategy_name","brand_name","effective_start_time","slice","effective_end_time","infoTableData","cellClassName","infoTableColumn","spanMethod","tableColumn","staticRenderFns","name","mixins","data","policyMonth","$publicFution","deepCopy","editType","methods","goPage","$route","query","id","$router","push","mounted","$axios","method","url","$api","getPriceStrategyInfo","code","i","component","$","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","un$ToFixed","toFixed","pow","x","n","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","t","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","result","policyContent","type","project","unit_name","price","computePriceInfo","ratio","ratioCycle","tableConfig","0","value","isEdit","title","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","paramsModule","company_id","localStorage","getItem","tableHead","editRules","required","message","field","width","headerAlign","align","editRender","autoselect","formatter","getOutSlots","$rowIndex","a","events","change","contentDisabled","row","children","shopDisabled","remark","getRowPrice","key","isNaN","Number","getRow","brandChange","val","brand_id","$axMethod","getInventoryGoodsList","start_time","end_time","then","$refs","xTable","_proxy","getRenderRow","policyMonthChange","currentYear","Array","isArray","column","property","scope","rowIndex","rowspanNum","computedSapn","colspanNum","rowspan","colspan","end","start","computedContent","step","computedPurchasePrice","computedGrossProfit","zhRabio","renderShop","tableData","fullData","concat","avg_purchase_price","obj","forEach","map","Object","assign"],"mappings":"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","file":"js/chunk-282cc3bb.03d259fe.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shoplowPriceSee.vue?vue&type=style&index=0&id=3991e2c4&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container squareFormSpan\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"销售管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"商品底价策略\")])]),_c('el-breadcrumb-item',[_vm._v(\"查看商品底价策略\")])],1),_c('div',{staticClass:\"editOrderbox\"},[_c('h5',{staticClass:\"baseTitle\"},[_vm._v(\"基本信息\")]),_c('el-form',{ref:\"params\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"组织名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.company_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"策略名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.price_strategy_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"品牌\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.brand_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"策略有效年月\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.effective_start_time? _vm.params.effective_start_time.slice(0, 7) : '')+\" \"+_vm._s('-' + (_vm.params.effective_end_time ? _vm.params.effective_end_time.slice(0, 7) : ''))+\" \")])],1),_c('h5',{staticClass:\"baseTitle\"},[_vm._v(\"策略内容\")]),_c('div',{staticClass:\"table_container policyContent\"},[_c('xTable',{attrs:{\"xData\":_vm.infoTableData,\"cell-class-name\":_vm.cellClassName,\"isEdit\":function () { false },\"tableColumn\":_vm.infoTableColumn,\"span-method\":_vm.spanMethod}})],1),_c('h5',{staticClass:\"baseTitle\"},[_vm._v(\"商品信息\")]),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"tableColumn\":_vm.tableColumn,\"isEdit\":function () { false }}})],1),_c('div',{staticClass:\"add_delet\"},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 采购申请新增修改 -->\n  <div class='container squareFormSpan'>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>销售管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">商品底价策略</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>查看商品底价策略</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class='editOrderbox'>\n      <h5 class=\"baseTitle\">基本信息</h5>\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\" ref=\"params\">\n        <el-form-item label=\"组织名称\" size=\"mini\">\n          {{ params.company_name }}\n        </el-form-item>\n        <el-form-item label=\"策略名称\" size=\"mini\">\n          {{ params.price_strategy_name }}\n        </el-form-item>\n        <el-form-item label=\"品牌\" size=\"mini\">\n          {{ params.brand_name }}\n        </el-form-item>\n        <el-form-item label=\"策略有效年月\" size=\"mini\">\n          {{ params.effective_start_time? params.effective_start_time.slice(0, 7) : '' }}  {{ '-' + (params.effective_end_time ? params.effective_end_time.slice(0, 7) : '') }}\n        </el-form-item>\n      </el-form>\n      <h5 class=\"baseTitle\">策略内容</h5>\n      <div class=\"table_container policyContent\">\n        <xTable :xData='infoTableData' :cell-class-name='cellClassName' :isEdit='() => { false }' :tableColumn='infoTableColumn' :span-method='spanMethod' />\n      </div>\n      <h5 class=\"baseTitle\">商品信息</h5>\n      <div class=\"table_container\">\n        <xTable ref='xTable' :tableColumn='tableColumn' :isEdit='() => { false }' />\n      </div>\n\n      <!-- <div>\n        <div style='margin-bottom: 5px;'>\n          <el-input v-model=\"params.remark\">\n            <template slot=\"prepend\">单据备注</template>\n          </el-input>\n        </div>\n        <p class=\"operationInformation\">\n          <span>创建人：{{params.add_user_name}}</span>\n          <span>创建时间：{{params.add_time_name}}</span>\n          <span>修改人：{{params.update_user_name||\"\"}}</span>\n          <span>修改时间：{{params.update_time_name||\"\"}}</span>\n        </p>\n      </div> -->\n      <div class=\"add_delet\">\n        <el-button plain @click=\"goBack\" size=\"small\">返回</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { paramsModule, tableHead } from \"./config/shoplowPriceAdd\";\nexport default {\n  name: \"shoplowPrice/shoplowPriceAdd\",\n  mixins: [tableHead],\n  data() {\n    return {\n      policyMonth: [],\n      params: this.$publicFution.deepCopy(paramsModule),\n      editType: 1 // 操作类型 1是新增  2是编辑\n    };\n  },\n  methods: {\n    goBack() {\n      this.$publicFution.goPage(this.$route.query && this.$route.query.id);\n      this.$router.push(\"/purchase/shoplowPrice\");\n    }\n  },\n  mounted() {\n    if (this.$route.query && this.$route.query.id) {\n      this.editType = 2;\n      this.$axios({\n        method: \"get\",\n        params: { price_strategy_id: this.$route.query.id },\n        url: this.$api.getPriceStrategyInfo\n      }).then(({ data }) => {\n        if (data.code === 200) {\n          this.params = data.data.info;\n          for (var i in this.tableConfig) {\n            this.infoTableData[i].price = this.params[\n              this.tableConfig[i].value\n            ];\n          }\n          this.computedContent(true);\n          this.$refs.xTable._proxy(\"loadData\", data.data.goods_list);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang='less'>\n.policyContent {\n  /deep/ .vxe-table .vxe-body--row.row--current {\n    background-color: white !important;\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shoplowPriceSee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shoplowPriceSee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shoplowPriceSee.vue?vue&type=template&id=3991e2c4&scoped=true&\"\nimport script from \"./shoplowPriceSee.vue?vue&type=script&lang=js&\"\nexport * from \"./shoplowPriceSee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shoplowPriceSee.vue?vue&type=style&index=0&id=3991e2c4&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3991e2c4\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export const policyContent = [\n  {\n    type: '采购',\n    project: '工厂年度任务',\n    unit_name: '条',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '不适用',\n    ratioCycle: '不适用'\n  },\n  {\n    type: '采购',\n    project: '平均含税进价',\n    unit_name: '元/条',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '不适用',\n    ratioCycle: '不适用'\n  },\n  {\n    type: '采购',\n    project: '采购金额',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '工厂年度任务*平均含税进价',\n    ratio: '不适用',\n    ratioCycle: '不适用'\n  },\n  {\n    type: '固定费用',\n    project: '人力费用',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '人力费用/销售金额'\n  },\n  {\n    type: '固定费用',\n    project: '差旅费',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '差旅费/销售金额'\n  },\n  {\n    type: '固定费用',\n    project: '培训费',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '培训费/销售金额'\n  },\n  {\n    type: '固定费用',\n    project: '模具折旧',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '模具折旧/销售金额'\n  },\n  {\n    type: '变动费用',\n    project: '仓储费用',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '仓储费用/销售金额'\n  },\n  {\n    type: '变动费用',\n    project: '物流费用',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '物流费用/销售金额'\n  },\n  {\n    type: '变动费用',\n    project: '资金成本',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '手动填写',\n    ratio: '0.0',\n    ratioCycle: '资金成本/销售金额'\n  },\n  {\n    type: '变动费用',\n    project: '总部管理费',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '销售金额*比率',\n    ratio: '固定1.0',\n    ratioCycle: '固定值'\n  },\n  {\n    type: '变动费用',\n    project: '订单通奖励',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '销售金额*比率',\n    ratio: '固定1.0',\n    ratioCycle: '固定值'\n  },\n  {\n    type: '变动费用',\n    project: '综合税金',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '销售金额*比率',\n    ratio: '实际0.0',\n    ratioCycle: '固比率（底价毛利）/1.13*0.1456定值'\n  },\n  {\n    type: '税前利润',\n    project: '税前利润',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '销售金额*比率',\n    ratio: '固定2.0',\n    ratioCycle: '固定值'\n  },\n  {\n    type: '销售',\n    project: '销售金额',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '采购金额+底价毛利',\n    ratio: '不适用',\n    ratioCycle: '不适用'\n  },\n  {\n    type: '销售',\n    project: '销售底价毛利金额',\n    unit_name: '元',\n    price: '',\n    computePriceInfo: '（（固定费用+仓储费用+物流费用+资金成本）+采购金额*（比率（总部管理费）+比率（订单通奖励）+比率（税前利润））/（1-1/1.13*13%*1.12-（比率（总部管理费）+比率（订单通奖励）+比率（税前利润）））',\n    ratio: 0.0,\n    ratioCycle: '底价毛利/销售金额'\n  },\n  {\n    type: '销售',\n    project: '平均含税售价',\n    unit_name: '元/条',\n    price: '',\n    computePriceInfo: '销售金额/工厂年度任务',\n    ratio: '不适用',\n    ratioCycle: '不适用'\n  },\n]\n\nexport const tableConfig = {\n  0: {\n    value: 'factory_annual_task',\n    isEdit: true,\n    title: '工厂年度任务'\n  },\n  1: {\n    value: 'avg_purchase_price',\n    isEdit: true,\n    title: '平均含税进价'\n  },\n  2: {\n    value: 'purchase_price',\n    isEdit: false,\n    title: '采购金额'\n  },\n  3: {\n    value: 'manpower_price',\n    isEdit: true,\n    title: '人力费用'\n  },\n  4: {\n    value: 'travel_price',\n    isEdit: true,\n    title: '差旅费'\n  },\n  5: {\n    value: 'trainning_price',\n    isEdit: true,\n    title: '培训费'\n  },\n  6: {\n    value: 'depreciation_price',\n    isEdit: true,\n    title: '模具折旧'\n  },\n  7: {\n    value: 'warehousing_price',\n    isEdit: true,\n    title: '仓储费用'\n  },\n  8: {\n    value: 'logistics_price',\n    isEdit: true,\n    title: '物流费用'\n  },\n  9: {\n    value: 'capital_price',\n    isEdit: true,\n    title: '资金成本'\n  },\n  10: {\n    value: 'headquarters_management_price',\n    isEdit: false,\n    title: '总部管理费'\n  },\n  11: {\n    value: 'order_pass_price',\n    isEdit: false,\n    title: '订单通奖励'\n  },\n  12: {\n    value: 'comprehensive_tax_price',\n    isEdit: false,\n    title: '综合税金'\n  },\n  13: {\n    value: 'profit_before_tax',\n    isEdit: false,\n    title: '税前利润'\n  },\n  14: {\n    value: 'sales_price',\n    isEdit: false,\n    title: '销售金额'\n  },\n  15: {\n    value: 'gross_profit',\n    isEdit: false,\n    title: '底价毛利'\n  },\n  16: {\n    value: 'sales_gross_profit',\n    isEdit: false,\n    title: '平均含税售价'\n  },\n}","import { policyContent, tableConfig } from './policyContent'\n// params 模板\nexport const paramsModule = {\n  company_id: localStorage.getItem(\"company_id\"),// int(11) unsigned NOT NULL DEFAULT '0' COMMENT '集采公司id（冗余字段，目前只有scm下集采公司）',\n  company_name: localStorage.getItem(\"company_name\"),// varchar(100) NOT NULL DEFAULT '' COMMENT '集采公司名称（冗余字段，目前只有scm下集采公司）',\n  price_strategy_name: '',\n  effective_start_time: '',\n  effective_end_time: '',\n}\nexport const sumbitParams = {\n  purchase_in_storage_id: '',\n  company_id: localStorage.getItem(\"purchase_center_company_id\"),\n  purchase_order_id: '',\n  purchase_order_sn: '',\n  supplier_id: '',\n  payment_method: '',\n  transaction_type: '',\n  remark: ''\n}\n// 渲染行数据模板\nexport const rowModule = {\n\n}\nexport const tableHead = {\n  data() {\n    return {\n      editRules: {\n        price: [\n          { required: true, message: '数量输入请在0-99999999之间' }\n        ]\n      },\n      infoTableData: this.$publicFution.deepCopy(policyContent), // 策略内容表格数据\n      tableConfig: tableConfig,// 策略内容配置\n      infoTableColumn: [//策略内容\n        {\n          title: '类型',\n          field: 'type',\n          width: 200\n        },\n        {\n          title: '项目',\n          field: 'project',\n          width: 200\n        },\n        {\n          title: '单位',\n          field: 'unit_name',\n          width: 80\n        },\n        {\n          title: '金额',\n          field: 'price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 100,\n          editRender: {\n            name: 'Vinput',\n            autoselect: true,\n            formatter: 'Positive',\n            getOutSlots: ({ $rowIndex }) => {\n              var a = ''\n              if (this.tableConfig[$rowIndex].isEdit) {\n                a = [<i style='margin-left: 2px;color:#5CADFF' class='el-icon-edit'></i>]\n              }\n              return a\n            },\n            events: {\n              change: () => {\n                this.contentDisabled = true\n              }\n            }\n          }\n        },\n        {\n          title: '金额计算说明',\n          field: 'computePriceInfo',\n          width: 300,\n        },\n        {\n          title: '比率',\n          field: 'ratio',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 120,\n          editRender: {\n            name: 'Vinput',\n            getOutSlots: ({ row }) => {\n              if (row.ratio !== '不适用') {\n                return [\n                  <span>%</span>\n                ]\n              }\n            }\n          }\n        },\n        {\n          title: '比率计算说明',\n          field: 'ratioCycle',\n        }\n      ],\n      tableColumn: [// 商品信息\n        {\n          title: '商品类型',\n          field: 'goods_type_name',\n          width: 100\n        },\n        {\n          title: '品牌',\n          field: 'unit_name',\n          width: 100\n        },\n        {\n          title: '商品编号',\n          field: 'goods_id',\n          width: 100\n        },\n        {\n          title: '商品名称',\n          field: 'goods_name',\n          width: 400\n        },\n        {\n          title: '工厂代码',\n          field: 'factory_code',\n          width: 100\n        },\n        {\n          title: '单位',\n          field: 'unit_name',\n          width: 100\n        },\n        {\n          title: '采购',\n          width: 100,\n          children: [\n            {\n              title: '工厂年度任务',\n              field: 'factory_annual_task',\n              width: 100\n            },\n            {\n              title: '平均进货价',\n              field: 'avg_purchase_price',\n              editRender: {\n                name: 'Vinput',\n                formatter: 'Positive',\n                events: {\n                  change: ({ row }) => {\n                    this.shopDisabled = true\n                    row.remark = '手动修改进价'\n                  }\n                }\n              },\n              width: 100\n            },\n            {\n              title: '采购金额',\n              field: 'purchase_price',\n              width: 100\n            },\n          ]\n        },\n        {\n          title: '固定费用',\n          width: 100,\n          children: [\n            {\n              title: '人力费用',\n              field: 'manpower_price',\n              width: 100\n            },\n            {\n              title: '差旅费',\n              field: 'travel_price',\n              width: 100\n            },\n            {\n              title: '培训费',\n              field: 'trainning_price',\n              width: 100\n            },\n            {\n              title: '模具折旧',\n              field: 'depreciation_price',\n              width: 100\n            },\n          ]\n        },\n        {\n          title: '变动费用',\n          width: 100,\n          children: [\n            {\n              title: '仓储费用',\n              field: 'warehousing_price',\n              width: 100\n            },\n            {\n              title: '物流费用',\n              field: 'logistics_price',\n              width: 100\n            },\n            {\n              title: '资金成本',\n              field: 'capital_price',\n              width: 100\n            },\n            {\n              title: '总部管理费',\n              field: 'headquarters_management_price',\n              width: 100\n            },\n            {\n              title: '订单通奖励',\n              field: 'order_pass_price',\n              width: 100\n            },\n            {\n              title: '综合税金',\n              field: 'comprehensive_tax_price',\n              width: 100\n            }\n          ]\n        },\n        {\n          title: '税前利润',\n          field: 'profit_before_tax',\n          width: 100\n        },\n        {\n          title: '销售',\n          width: 100,\n          children: [\n            {\n              title: '销售金额',\n              field: 'sales_price',\n              width: 100\n            },\n            {\n              title: '底价毛利',\n              field: 'gross_profit',\n              width: 100\n            },\n            {\n              title: '销售底价金额',\n              field: 'sales_gross_profit',\n              width: 100\n            },\n          ]\n        },\n        {\n          title: '备注',\n          field: 'remark',\n          width: 100\n        }\n      ]\n    }\n  },\n  methods: {\n    // 获取到指定的row价格\n    getRowPrice(key) {\n      for (var i in this.tableConfig) {\n        if (this.tableConfig[i].value === key) {\n          return isNaN(Number(this.infoTableData[i].price))\n            ? 0\n            : Number(this.infoTableData[i].price);\n        }\n      }\n    },\n    // 获取到指定的row\n    getRow(key) {\n      for (var i in this.tableConfig) {\n        if (this.tableConfig[i].value === key) {\n          return this.infoTableData[i];\n        }\n      }\n    },\n    // 品牌改变\n    brandChange(val) {\n      if (val.brand_id) {\n        this.$axMethod\n          .getInventoryGoodsList({\n            company_id: this.params.company_id,\n            brand_id: val.brand_id,\n            start_time: this.params.effective_start_time ? this.params.effective_start_time += \"-01\" : '',\n            end_time: this.params.effective_end_time ? this.params.effective_end_time += \"-01\" : ''\n          })\n          .then(({ data }) => {\n            this.$refs.xTable._proxy(\"loadData\", data.data);\n          });\n      }\n    },\n    // 渲染商品信息\n    getRenderRow() {\n      var row = {};\n      for (var i in this.tableConfig) {\n        row[this.tableConfig[i].value] = this.getRowPrice(\n          this.tableConfig[i].value\n        );\n      }\n      return row;\n    },\n    // 有效期改变\n    policyMonthChange(val) {\n      this.currentYear = null\n      if (Array.isArray(val)) {\n        this.params.effective_start_time = val[0];\n        this.params.effective_end_time = val[1];\n      } else {\n        this.params.effective_start_time = \"\";\n        this.params.effective_end_time = \"\";\n      }\n      this.brandChange(this.params)\n    },\n    isEdit({ column, $rowIndex }) {\n      if (!this.tableConfig[$rowIndex].isEdit) {\n        return false\n      }\n      if (column.property === 'ratio') {\n        return false\n      }\n      return true\n    },\n    cellClassName({ row, column }) {\n      if (row.project === '销售底价毛利金额' && column.property === 'computePriceInfo') {\n        return 'vxe-nowrap'\n      }\n    },\n    // 合并单元格\n    spanMethod(scope) {\n      var { row, rowIndex, column, data } = scope;\n      if (\n        column.property === \"type\" ||\n        column.property === \"ratio\" ||\n        column.property === \"ratioCycle\"\n      ) {\n        if (\n          (data[rowIndex - 1] &&\n            data[rowIndex - 1][column.property] !== row[column.property]) ||\n          rowIndex === 0\n        ) {\n          var rowspanNum = this.computedSapn(scope, (column.property === \"ratio\" || column.property === 'ratioCycle') ? 3 : null);\n          var colspanNum = 1;\n          if (row.type === row.project && column.property === \"type\") {\n            colspanNum = 2;\n          }\n          return { rowspan: rowspanNum, colspan: colspanNum };\n        } else {\n          var rowspan = 0\n          if ((column.property === \"ratio\" ||\n            column.property === \"ratioCycle\") && rowIndex > 2) {\n            rowspan = 1\n          }\n          return { rowspan: rowspan, colspan: 1 };\n        }\n      }\n      // (column.property === \"ratio\" || column.property === 'ratioCycle')\n      if (column.property === \"project\") {\n        // 是否是type 一行\n        if (row.type === row.project) {\n          return { rowspan: 0, colspan: 0 };\n        }\n      }\n      return { rowspan: 1, colspan: 1 };\n    },\n    // 计算合并单元行\n    computedSapn({ row, rowIndex, data, column }, end) {\n      var start = 1;\n      var length = end ? end : data.length\n      for (var i = rowIndex + 1; i < length; i++) {\n        if (data[i][column.property] === row[column.property]) {\n          start++;\n        } else {\n          return start;\n        }\n      }\n      return start;\n    },\n    // 计算策略内容\n    computedContent(step) {\n      // 计算采购单价\n      this.computedPurchasePrice();\n      // 计算底价毛利\n      this.computedGrossProfit();\n      this.getRow(\"headquarters_management_price\").price = (\n        this.getRowPrice(\"sales_price\") * 0.01\n      ).toFixed(2); // 总部管理费\n      this.getRow(\"order_pass_price\").price = (\n        this.getRowPrice(\"sales_price\") * 0.01\n      ).toFixed(2); // 订单通奖励\n      var zhRabio = (this.getRow(\"gross_profit\").ratio / 100 / 1.13) * 0.1456; // 综合税金的比率\n      this.getRow(\"comprehensive_tax_price\").ratio = (zhRabio * 100).toFixed(2);\n      this.getRow(\"comprehensive_tax_price\").price = (\n        this.getRowPrice(\"sales_price\") * zhRabio.toFixed(4)\n      ).toFixed(2); // 综合税金\n      this.getRow(\"profit_before_tax\").price = (\n        this.getRowPrice(\"sales_price\") * 0.02\n      ).toFixed(2); // 税前利润\n      if (this.getRowPrice(\"factory_annual_task\") !== 0) {\n        this.getRow(\"sales_gross_profit\").price = (\n          this.getRowPrice(\"sales_price\") /\n          this.getRowPrice(\"factory_annual_task\")\n        ).toFixed(2); // 平均含税售价\n      } else {\n        this.getRow(\"sales_gross_profit\").price = 0;\n      }\n      // 算比率\n      if (this.getRowPrice(\"sales_price\") !== 0) {\n        this.getRow(\"manpower_price\").ratio = (\n          (this.getRowPrice(\"manpower_price\") /\n            this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 人力比率\n        this.getRow(\"travel_price\").ratio = (\n          (this.getRowPrice(\"travel_price\") / this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 差率费\n        this.getRow(\"trainning_price\").ratio = (\n          (this.getRowPrice(\"trainning_price\") /\n            this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 培训费\n        this.getRow(\"depreciation_price\").ratio = (\n          (this.getRowPrice(\"depreciation_price\") /\n            this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 模具折旧比率\n        this.getRow(\"warehousing_price\").ratio = (\n          (this.getRowPrice(\"warehousing_price\") /\n            this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 仓储费用比率\n        this.getRow(\"logistics_price\").ratio = (\n          (this.getRowPrice(\"logistics_price\") /\n            this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 物流比率\n        this.getRow(\"capital_price\").ratio = (\n          (this.getRowPrice(\"capital_price\") /\n            this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 资金成本比率\n      } else {\n        this.getRow(\"manpower_price\").ratio = 0;\n        this.getRow(\"travel_price\").ratio = 0;\n        this.getRow(\"trainning_price\").ratio = 0;\n        this.getRow(\"depreciation_price\").ratio = 0;\n        this.getRow(\"warehousing_price\").ratio = 0;\n        this.getRow(\"logistics_price\").ratio = 0;\n        this.getRow(\"capital_price\").ratio = 0;\n      }\n      if (step !== true) {\n        this.renderShop();\n      }\n      this.contentDisabled = false\n      this.shopDisabled = true\n    },\n    // 渲染商品信息\n    renderShop() {\n      var tableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .fullData.concat([]);\n      var length = tableData.length;\n      var row = this.getRenderRow();\n      delete row.avg_purchase_price;\n      var obj = {};\n      [\n        // 列表中工厂年度任务、人力费用、差旅费、培训费、模具折旧、仓储费用、物流费用、资金成本，这些字段根据“策略内容”列表中这些字段的金额，按照该品牌下商品编号的数量，拆分到每个商品上\n        // 金额除以数量\n        \"manpower_price\",\n        \"travel_price\",\n        \"trainning_price\",\n        \"depreciation_price\",\n        \"warehousing_price\",\n        \"logistics_price\",\n        \"capital_price\",\n        \"factory_annual_task\"\n      ].forEach(val => {\n        obj[val] = (row[val] / length).toFixed(2);\n      });\n      tableData = tableData.map(val => {\n        var result = Object.assign({}, val, obj);\n        return result;\n      });\n      this.$refs.xTable._proxy(\"loadData\", tableData);\n    },\n    computedPurchasePrice() {\n      var result = (\n        this.getRowPrice(\"factory_annual_task\") *\n        this.getRowPrice(\"avg_purchase_price\")\n      ).toFixed(2);\n      this.getRow(\"purchase_price\").price = result;\n    },\n    // 计算底价毛利 （（固定费用+仓储费用+物流费用+资金成本）+采购金额*（比率（总部管理费）+比率（订单通奖励）+比率（税前利润））/（1-1/1.13*13%*1.12-（比率（总部管理费）+比率（订单通奖励）+比率（税前利润）））\n    computedGrossProfit() {\n      var result =\n        (this.getRowPrice(\"manpower_price\") +\n          this.getRowPrice(\"travel_price\") +\n          this.getRowPrice(\"trainning_price\") +\n          this.getRowPrice(\"depreciation_price\") +\n          this.getRowPrice(\"warehousing_price\") +\n          this.getRowPrice(\"logistics_price\") +\n          this.getRowPrice(\"capital_price\") +\n          (this.getRowPrice(\"purchase_price\") * (0.01 + 0.01 + 0.02))) /\n        (1 - (1 / 1.13) * 0.13 * 1.12 - (0.01 + 0.01 + 0.02));\n      result = result.toFixed(2);\n      this.getRow(\"gross_profit\").price = result;\n      this.getRow(\"sales_price\").price = (\n        this.getRowPrice(\"purchase_price\") + this.getRowPrice(\"gross_profit\")\n      ).toFixed(2);\n      if (this.getRowPrice(\"sales_price\") !== 0) {\n        this.getRow(\"gross_profit\").ratio = (\n          (this.getRowPrice(\"gross_profit\") / this.getRowPrice(\"sales_price\")) *\n          100\n        ).toFixed(2); // 计算销售低价比率\n      }\n    },\n  }\n}"],"sourceRoot":""}