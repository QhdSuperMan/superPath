(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-05443077"],{"47cd":function(t,a,e){},"4e46":function(t,a,e){"use strict";e("47cd")},cd35:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"search_container"},[e("el-form",{ref:"filterFormRef",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.params}},[e("el-form-item",{attrs:{label:"财务组织",size:"mini"}},[e("el-select",{attrs:{placeholder:"请选择","filter-method":t.companyChange,filterable:""},on:{focus:t.getCompany},model:{value:t.params.company_id,callback:function(a){t.$set(t.params,"company_id",a)},expression:"params.company_id"}},t._l(t.companyList,(function(a){return e("el-option",{key:a.company_id,attrs:{label:a.company_name,value:a.company_id}},[e("span",{class:1==a.type?"optionStyle":""},[t._v(t._s(a.company_name))])])})),1)],1),e("el-form-item",{attrs:{label:"审核日期",size:"mini"}},[e("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:t.change},model:{value:t.timeValue,callback:function(a){t.timeValue=a},expression:"timeValue"}})],1),e("el-form-item",{attrs:{label:"供应商(厂家)",size:"mini"}},[e("el-select",{attrs:{clearable:"",maxlength:"100","filter-method":t.supplierChange,filterable:"",placeholder:"请选择"},on:{focus:t.supplier},model:{value:t.params.supplier_id,callback:function(a){t.$set(t.params,"supplier_id",a)},expression:"params.supplier_id"}},t._l(t.supplierList,(function(t){return e("el-option",{key:t.supplier_id,attrs:{label:t.supplier_name,value:t.supplier_id}})})),1)],1),e("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onSearch}},[t._v("查询")]),e("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.onReset}},[t._v("重置")])],1)],1)],1),1==t.authority.b_export&&t.listShow?e("div",{staticClass:"add_delet"},[e("el-dropdown",{attrs:{placement:"bottom-start"}},[e("span",{staticStyle:{cursor:"pointer",color:"#4e90e2"},attrs:{"split-button":""}},[e("el-button",{attrs:{plain:"",icon:"iconfont icon-daochu10",size:"mini"}},[t._v("导出")])],1),e("el-dropdown-menu",{staticStyle:{"margin-top":"10px"},attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(a){return t.exportOrder(1)}}},[t._v("导出Excel文件")]),e("el-dropdown-item",{nativeOn:{click:function(a){return t.exportOrder(2)}}},[t._v("导出CSV逗号分隔")])],1)],1)],1):t._e(),t.listShow?e("div",{staticClass:"table_container"},[e("el-table",{staticStyle:{width:"100%"},attrs:{"tooltip-effect":"light",border:"",data:t.TableData.tableData,"max-height":t.tableHeight,"highlight-current-row":!0}},[e("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_name",label:"财务组织"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"supplier_name",label:"供应商(厂家)"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"early_stage",label:"期初余额",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("priceFormatNone")(a.row.early_stage))+" ")]}}],null,!1,3097628760)}),e("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"payable_price",label:"应付款",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("priceFormatNone")(a.row.payable_price))+" ")]}}],null,!1,1836954480)}),e("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"payment_price",label:"付款",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("priceFormatNone")(a.row.payment_price))+" ")]}}],null,!1,3705071400)}),e("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"terminal",label:"期末余额",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("priceFormatNone")(a.row.terminal))+" ")]}}],null,!1,2701528036)})],1),e("div",{staticClass:"table_info"},[e("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"report_row"},[t._v("期末余额合计："+t._s(t._f("priceFormatNone")(t.TableData.desc.all_terminal))+"元")])])],1),e("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[e("el-col",{attrs:{span:12}},[e("div",[t._v("生成时间："+t._s(t.TableData.desc.time))])]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"textAr"},[t._v("制表人："+t._s(t.TableData.desc.name))])])],1),e("el-row",{staticClass:"row-bg report_row",attrs:{type:"flex"}},[e("el-col",{attrs:{span:12}},[e("div",[t._v("审核日期起始:"+t._s(this.params.start_time))])]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"textAr"},[t._v("审核日期截止:"+t._s(this.params.end_time))])])],1)],1)],1):t._e()])},s=[],l=e("65b0"),r={name:"reportFactorysumrpt",data:function(){return{authority:{},params:{},searchParams:{},listShow:!1,timeValue:[],exportType:null,supplierList:[],customerList:{options:[]},TableData:{desc:{},tableData:[]},companyList:[],loading:!0,tableHeight:600}},methods:{exportOrder:function(t){Object.assign(this.params,{export_type:t});var a={params:this.params,API:"exportFactoryDealingsListUrl"};Object(l["d"])(a)},supplier:function(){var t={company_id:this.params.company_id,supplier_name:null};Object(l["n"])(this,t)},change:function(t){this.params.start_time=t[0],this.params.end_time=t[1]},onReset:function(){var t=this;this.timeValue="",this.params={},this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="";var a=this;this.$axios({method:"get",url:this.$api.getFactoryDealingsList,params:this.params}).then((function(e){var i=e.data;200==i.code&&(i.data.data?(a.TableData.tableData=i.data.data,a.TableData.desc=i.data.desc,l["o"].bind(t)()):(a.TableData.tableData=[],a.TableData.desc={},l["o"].bind(t)()))}))},supplierChange:function(t){var a={company_id:this.params.company_id,supplier_name:t};Object(l["n"])(this,a)},onSearch:function(){var t=this;this.listShow=!0,this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="";var a=this;this.$axios({method:"get",url:this.$api.getFactoryDealingsList,params:this.params}).then((function(e){var i=e.data;200==i.code&&(i.data.data?(a.TableData.tableData=i.data.data,a.TableData.desc=i.data.desc,l["o"].bind(t)()):(a.TableData.tableData=[],a.TableData.desc={},l["o"].bind(t)()))}))},companyChange:function(t){var a={type:2,company_name:t};Object(l["k"])(this,a)},getCompany:function(){var t={type:2,company_name:null};Object(l["k"])(this,t)}},mounted:function(){this.authority=JSON.parse(localStorage.getItem("authority")),l["o"].bind(this)(),window.onresize=l["o"].bind(this)}},o=r,n=(e("4e46"),e("2877")),p=Object(n["a"])(o,i,s,!1,null,"5a472136",null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-05443077.db89ad45.js.map