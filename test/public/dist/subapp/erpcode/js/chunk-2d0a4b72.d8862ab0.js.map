{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/report/financereport/relationAccounting/relationAccounting.vue?99bc","webpack://erpcode-[name]/src/components/element/report/financereport/relationAccounting/relationAccounting.vue","webpack://erpcode-[name]/./src/components/element/report/financereport/relationAccounting/relationAccounting.vue?9688","webpack://erpcode-[name]/./src/components/element/report/financereport/relationAccounting/relationAccounting.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","params","rules","company_id","companyChange","on","getCompany","model","value","callback","$$v","$set","expression","_l","item","key","company_name","class","type","_v","_s","change","timeValue","label","$event","onSearch","onReset","authority","b_export","listShow","staticStyle","slot","nativeOn","exportOrder","_e","TableData","data","getSummaries","tableHeight","scopedSlots","_u","fn","scope","_f","row","debtor_price","creditor_price","shekuan_price","wear_price","inflap_price","goPage","pageSize1","per_page","total","handleSizeChange","handleCurrentChange","staticRenderFns","name","order_typeopthin","desc","searchParams","companyList","pageSize","methods","export_type","scheduleType","API","Object","assign","val","page","getData","columns","forEach","index","sums","_this","start_time","end_time","$axMethod","getRelationAccountingList","datas","then","res","code","$refs","formName","validate","valid","mounted","JSON","parse","localStorage","getItem","window","onresize","component"],"mappings":"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","file":"js/chunk-2d0a4b72.d8862ab0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"params\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"clearable\":\"\",\"label\":\"财务组织\",\"size\":\"mini\",\"rules\":_vm.rules.company_id,\"prop\":\"company_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filter-method\":_vm.companyChange,\"filterable\":\"\"},on:{\"focus\":_vm.getCompany},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"起止日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"clearable\":\"\"},on:{\"change\":_vm.change},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"核算明细\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\"},model:{value:(_vm.params.order_type),callback:function ($$v) {_vm.$set(_vm.params, \"order_type\", $$v)},expression:\"params.order_type\"}},_vm._l((_vm.order_typeopthin),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSearch('params')}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),(_vm.authority.b_export==1 && _vm.listShow)?_c('div',{staticClass:\"add_delet\"},[_c('el-dropdown',{attrs:{\"placement\":\"bottom-start\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"#4e90e2\"},attrs:{\"split-button\":\"\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"iconfont icon-daochu10\",\"size\":\"mini\"}},[_vm._v(\"导出\")])],1),_c('el-dropdown-menu',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.exportOrder(1)}}},[_vm._v(\"导出Excel文件\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.exportOrder(2)}}},[_vm._v(\"导出CSV逗号分隔\")])],1)],1)],1):_vm._e(),(_vm.listShow)?_c('div',{staticClass:\"table_container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData.data,\"summary-method\":_vm.getSummaries,\"show-summary\":\"\",\"max-height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"company_name\",\"label\":\"财务组织\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"order_type_name\",\"label\":\"核算项目\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"supplier_name\",\"label\":\"三包供应商(厂家)\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"debtor_price\",\"label\":\"借方\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.debtor_price))+\" \")]}}],null,false,839433720)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"creditor_price\",\"label\":\"贷方\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.creditor_price))+\" \")]}}],null,false,3741182466)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"shekuan_price\",\"label\":\"折款金额\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.shekuan_price))+\" \")]}}],null,false,3064564989)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"wear_price\",\"label\":\"磨损费\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.wear_price))+\" \")]}}],null,false,1840376371)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"inflap_price\",\"label\":\"内垫费\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.inflap_price))+\" \")]}}],null,false,2977048142)})],1)],1):_vm._e(),(_vm.listShow)?_c('div',{staticClass:\"page_container\"},[_c('div',{staticClass:\"pageNumber\"},[_vm._v(\"每页显示\")]),_c('el-pagination',{staticClass:\"erp-pagination\",attrs:{\"current-page\":_vm.goPage,\"page-size\":_vm.pageSize1,\"page-sizes\":_vm.per_page,\"layout\":\"total,sizes, prev, pager, next,jumper\",\"prevText\":\"上一页\",\"nextText\":\"下一页\",\"total\":_vm.TableData.total},on:{\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.goPage=$event},\"update:current-page\":function($event){_vm.goPage=$event},\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" ref=\"params\" :model=\"params\" class=\"demo-form-inline\">\n        <el-form-item clearable label=\"财务组织\" size=\"mini\" :rules=\"rules.company_id\" prop=\"company_id\">\n          <el-select v-model=\"params.company_id\" placeholder=\"请选择\" :filter-method=\"companyChange\" @focus=\"getCompany\" filterable>\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': ''\">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"起止日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" @change=\"change\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" clearable>\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"核算明细\" size=\"mini\">\n          <el-select v-model=\"params.order_type\" placeholder=\"请选择\" filterable>\n            <el-option v-for=\"item in order_typeopthin\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item size=\"mini\" class=\"search-style search\">\n          <el-button @click=\"onSearch('params')\" size=\"mini\" type=\"primary\">查询</el-button>\n          <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"add_delet\" v-if=\"authority.b_export==1 && listShow\">\n      <el-dropdown placement=\"bottom-start\">\n        <span split-button style=\"cursor:pointer;color:#4e90e2\">\n          <el-button plain icon=\"iconfont icon-daochu10\" size=\"mini\">导出</el-button>\n        </span>\n        <el-dropdown-menu slot=\"dropdown\" style=\"margin-top:10px;\">\n          <el-dropdown-item @click.native=\"exportOrder(1)\">导出Excel文件</el-dropdown-item>\n          <el-dropdown-item @click.native=\"exportOrder(2)\">导出CSV逗号分隔</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n    <div class=\"table_container\" v-if=\"listShow\">\n      <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableData.data\" :summary-method=\"getSummaries\" show-summary style=\"width: 100%\" :max-height=\"tableHeight\">\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"company_name\" label=\"财务组织\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"order_type_name\" label=\"核算项目\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"supplier_name\" label=\"三包供应商(厂家)\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"debtor_price\" label=\"借方\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.debtor_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"creditor_price\" label=\"贷方\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.creditor_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"shekuan_price\" label=\"折款金额\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.shekuan_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"wear_price\" label=\"磨损费\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.wear_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"inflap_price\" label=\"内垫费\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.inflap_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"page_container\" v-if=\"listShow\">\n      <div class=\"pageNumber\">每页显示</div>\n      <el-pagination class=\"erp-pagination\" @size-change=\"handleSizeChange\" :current-page.sync=\"goPage\" :page-size=\"pageSize1\" @current-change=\"handleCurrentChange\" :page-sizes=\"per_page\" layout=\"total,sizes, prev, pager, next,jumper\" prevText=\"上一页\" nextText=\"下一页\" :total=\"TableData.total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  exportFile,\n  getInventoryFinanceCompanyOpen,\n  tableResize //明细表去除页面滚动条\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"reportRelationAccounting\",\n  data() {\n    return {\n      authority: {},\n      params: {},\n      listShow: false,\n      timeValue: [],\n      order_typeopthin: [\n        {\n          value: 99,\n          label: \"全部\"\n        },\n        {\n          value: 0,\n          label: \"优惠金额\"\n        },\n        {\n          value: 1,\n          label: \"销售退货\"\n        },\n        {\n          value: 2,\n          label: \"商品订购\"\n        },\n        {\n          value: 3,\n          label: \"客户赠胎\"\n        },\n        {\n          value: 4,\n          label: \"赠品\"\n        },\n        {\n          value: 5,\n          label: \"使用返利\"\n        },\n        {\n          value: 6,\n          label: \"委托代销\"\n        },\n        {\n          value: 7,\n          label: \"销售调拨\"\n        },\n        {\n          value: 8,\n          label: \"三包销售\"\n        },\n        {\n          value: 9,\n          label: \"三包折款\"\n        },\n        {\n          value: 10,\n          label: \"回款\"\n        },\n        {\n          value: 11,\n          label: \"内部划转\"\n        },\n        {\n          value: 12,\n          label: \"调账\"\n        },\n        {\n          value: 13,\n          label: \"三包销售(照顾) \"\n        },\n        {\n          value: 14,\n          label: \"三包折款(照顾)\"\n        }\n      ],\n      TableData: {\n        desc: {},\n        total: 10\n      },\n      searchParams: {},\n      companyList: [],\n      goPage: 1, //默认搜索页面\n      pageSize: 30,\n      per_page: [30, 50, 100, 500],\n      tableHeight: 600\n    };\n  },\n\n  methods: {\n    exportOrder(scheduleType) {\n      //导出\n      let s = Object.assign(this.params, {\n        export_type: scheduleType\n      });\n      let arg = {\n        params: this.params,\n        API: \"getRelationexportRelationUrl\"\n      };\n      exportFile(arg);\n    },\n    handleSizeChange(val) {\n      Object.assign(this.params, {\n        per_page: val,\n        page: 1\n      });\n      this.getData(this.params);\n    },\n    handleCurrentChange(val) {\n      Object.assign(this.params, {\n        page: val\n      });\n      this.getData(this.params);\n    },\n    getSummaries(param) {\n      let _this = this;\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 1) {\n          sums[index] = \"总计\";\n          return;\n        }\n        if (index === 3) {\n          //借方\n          sums[index] = _this.TableData.desc\n            ? _this.TableData.desc.total_debtor_price\n            : \"\";\n          return;\n        }\n        if (index === 4) {\n          //贷方\n          sums[index] = _this.TableData.desc\n            ? _this.TableData.desc.total_creditor_price\n            : \"\";\n          return;\n        }\n        if (index === 5) {\n          //折款金额\n          sums[index] = _this.TableData.desc\n            ? _this.TableData.desc.total_shekuan_price\n            : \"\";\n          return;\n        }\n        if (index === 6) {\n          //磨损费\n          sums[index] = _this.TableData.desc\n            ? _this.TableData.desc.total_wear_price\n            : \"\";\n          return;\n        }\n        if (index === 7) {\n          //内垫费\n          sums[index] = _this.TableData.desc\n            ? _this.TableData.desc.total_inflap_price\n            : \"\";\n          return;\n        }\n      });\n      return sums;\n    },\n    change(val) {\n      //选择的日期\n      this.params.start_time = val[0];\n      this.params.end_time = val[1];\n    },\n    onReset() {\n      this.timeValue = [];\n      this.params = {};\n      this.getData({ is_reset: 1 });\n    },\n    getData(datas) {\n      this.$axMethod.getRelationAccountingList(datas).then(res => {\n        if (res.data.code == 200) {\n          this.TableData = res.data.data;\n        }\n      });\n    },\n    onSearch(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.listShow = true;\n          if (this.timeValue && this.timeValue.length == 2) {\n            this.params.start_time = this.timeValue[0];\n            this.params.end_time = this.timeValue[1];\n          } else {\n            this.params.start_time = this.params.end_time = \"\";\n          }\n          Object.assign(this.params, {\n            page: 1\n          });\n          this.getData(this.params);\n        }\n      });\n    },\n    companyChange(val) {\n      let options = {\n        type: 2,\n        company_name: val\n      };\n      this.$set(this.params, \"business_id\", \"\");\n      getInventoryFinanceCompanyOpen(this, options);\n    },\n    getCompany() {\n      let options = {\n        type: 2,\n        company_name: null\n      };\n      getInventoryFinanceCompanyOpen(this, options);\n    }\n  },\n  mounted() {\n    this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n    //取消单据右侧滚动条\n    tableResize.bind(this)();\n    window.onresize = tableResize.bind(this);\n  }\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./relationAccounting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./relationAccounting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./relationAccounting.vue?vue&type=template&id=398ff992&\"\nimport script from \"./relationAccounting.vue?vue&type=script&lang=js&\"\nexport * from \"./relationAccounting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}