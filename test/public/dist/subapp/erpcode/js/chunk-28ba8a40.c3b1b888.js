(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-28ba8a40"],{1391:function(t,e,i){"use strict";i("20d4")},"20d4":function(t,e,i){},c007:function(t,e,i){"use strict";i("dab4")},dab4:function(t,e,i){},fd29:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search_container"},[i("el-form",{ref:"addFormInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.params}},[i("el-form-item",{attrs:{label:"商品名称",size:"mini"}},[i("el-input",{attrs:{placeholder:"请输入商品名称/编码"},model:{value:t.params.search_condition,callback:function(e){t.$set(t.params,"search_condition",e)},expression:"params.search_condition"}})],1),i("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),i("div",[i("Classification",{ref:"Classification",attrs:{gcList:t.gcList},on:{change:t.change,search:t.getList}})],1),i("div",{staticClass:"table_container"},[t.tableColumn.length>0?i("xTable",{ref:"xTable",attrs:{ajax:{url:"getSalesOfferList",params:t.params,result:"data.data.list.data",total:"data.data.list.total"},isShowTool:!0,tableColumn:t.tableColumn},on:{getData:t.dealData}}):t._e()],1),i("div",{staticClass:"bottom-area"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("转销售订单")])],1)])},s=[],n=i("5530"),l={data:function(){return{activateScope:{},tableColumn:[{type:"checkbox",width:44},{type:"seq",title:"序号",width:50},{title:"商品编号",field:"goods_id",width:80},{title:"商品名称",field:"goods_name",width:350},{title:"品牌",field:"brand_name",width:100},{title:"规格",field:"specifications",width:100},{title:"单位",field:"unit_name",width:100},{title:"库存数量",field:"available_stocks",width:100},{title:"最近采购价",field:"settlement_price",width:100},{title:"指导价",field:"guide_price",width:100},{title:"订货数量",field:"goods_num",headerAlign:"right",align:"right",width:110,editRender:{name:"number"}},{title:"销售报价",field:"sales_price",headerAlign:"right",align:"right",width:132,editRender:{name:"number"}},{title:"金额",field:"goods_price",headerAlign:"right",align:"right",width:132,slots:{default:function(t){var e=t.row;return e.goods_price=e.goods_num*e.sales_price}}},{title:"适配车型",field:"apply_vehicle_mode"}]}},methods:{}},c=i("2f62"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"Accordion"},[t.tags.length?i("div",{staticClass:"SelectedList"},[i("span",{staticClass:"lable"},[t._v("已选条件：")]),t._l(t.tags,(function(e,a){return i("el-tag",{key:a,attrs:{size:"medium",closable:""},on:{close:function(e){return t.RemoveTag(a)}}},[t._v(" "+t._s(0==a?"一级分类：":1==a?"二级分类：":"三级分类：")+" "+t._s(e.name)+" ")])}))],2):t._e(),i("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"一级分类",name:"1"}},[i("el-tag",{attrs:{size:"medium",type:0==t.stack?"danger":""},on:{click:function(e){return t.ClickOnClassification({val:0,name:"全部"},1)}}},[t._v("全部")]),t._l(t.gcList.p_id0,(function(e,a){return i("el-tag",{key:a,attrs:{size:"medium",type:t.stack==a+1?"danger":""},on:{click:function(i){return t.ClickOnClassification({val:e.goods_type_id||e.gc_id,name:e.goods_type_name||e.gc_name,index:a},1)}}},[t._v(t._s(e.goods_type_name||e.gc_name))])}))],2),i("el-collapse-item",{attrs:{title:"二级分类",name:"2",disabled:!t.tags[0]}},[i("el-tag",{attrs:{size:"medium",type:0==t.vfpStack?"danger":""},on:{click:function(e){return t.ClickOnClassification({val:0,name:"全部"},2)}}},[t._v("全部")]),t._l(t.gcList.p_id1,(function(e,a){return i("el-tag",{key:a,attrs:{size:"medium",type:t.vfpStack==a+1?"danger":""},on:{click:function(i){return t.ClickOnClassification({val:e.goods_type_id||e.gc_id,name:e.goods_type_name||e.gc_name,index:a},2)}}},[t._v(t._s(e.goods_type_name||e.gc_name))])}))],2),i("el-collapse-item",{attrs:{title:"三级分类",name:"3",disabled:!t.tags[1]}},t._l(t.gcList.p_id2,(function(e,a){return i("el-tag",{key:a,attrs:{size:"medium",type:t.level3Stack==a?"danger":""},on:{click:function(i){return t.ClickOnClassification({val:e.goods_type_id||e.gc_id,name:e.goods_type_name||e.gc_name,index:a},3)}}},[t._v(t._s(e.goods_type_name||e.gc_name)+" ")])})),1)],1)],1)])},r=[],d=(i("c9ce"),{props:{gcList:{type:Object,default:function(){return{}}},SecondaryList:{type:Object,default:function(){return{}}}},data:function(){return{activeNames:["1"],tags:[],stack:0,vfpStack:0,level3Stack:null}},methods:{RemoveTag:function(t){0==t?(this.tags=[],this.activeNames=["1"],this.stack=0):1==t?(this.tags.splice(t,2),this.activeNames=["2"],this.vfpStack=0):(this.tags.splice(t,1),this.activeNames=["3"],this.level3Stack=null),this.$emit("search")},clear:function(){this.tags=[],this.activeNames=["1"],this.stack=0,this.vfpStack=0,this.level3Stack=null},ClickOnClassification:function(t,e){t.val?1==e?(this.tags.splice(0,3,t),0!=t.val&&(this.activeNames=["2"]),this.stack=t.index+1):2==e?(this.tags.splice(1,3,t),0!=t.val&&(this.activeNames=["3"]),this.vfpStack=t.index+1):(this.tags.splice(2,3,t),this.level3Stack=t.index):1==e?(this.tags=[],this.stack=0,this.vfpStack=0,this.level3Stack=0):2==e&&(this.tags.splice(1,3),this.vfpStack=0,this.level3Stack=null),this.$emit("change",t.val,e)}}}),h=d,u=(i("c007"),i("2877")),g=Object(u["a"])(h,o,r,!1,null,"2ea5545f",null),m=g.exports,f={mixins:[l],components:{Classification:m},data:function(){return{params:{},gcList:{},Tabledata:[],oneData:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["quoteManagementSalesOrdersACT"])),{},{init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.$axMethod.getselectType({p_id:e}).then((function(e){var a=e.data;200==a.code&&(0==i?t.$set(t.gcList,"p_id0",a.data):1==i?t.$set(t.gcList,"p_id1",a.data):2==i&&t.$set(t.gcList,"p_id2",a.data))}))},getList:function(){var t=this.$refs.Classification.tags;Object.assign(this.params,{goods_type_id_1:t[0]?t[0].val:"",goods_type_id_2:t[1]?t[1].val:"",goods_type_id:t[2]?t[2].val:""}),this.$refs.xTable._getData()},dealData:function(t){this.oneData.length||(this.oneData=t.data.data.type_list)},submit:function(){var t=this.$refs.xTable._proxy("getSelectRecords");return console.log(t),t.length?(this.$router.push({path:"/sales/salesorder/salesorderAdd"}),this.quoteManagementSalesOrdersACT(t)):this.$message.warning("请勾选"),!1},onSearch:function(){this.$refs.Classification.clear(),this.getList()},change:function(t,e){this.init(t,e),this.getList(t,e)}}),mounted:function(){this.init()}},_=f,p=(i("1391"),Object(u["a"])(_,a,s,!1,null,"6f8939da",null));e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-28ba8a40.c3b1b888.js.map