{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/purchase/purchaserefund/refund/refundSee.vue?e3f4","webpack://erpcode-[name]/src/components/element/purchase/purchaserefund/refund/refundSee.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaserefund/refund/refundSee.vue?dda0","webpack://erpcode-[name]/./src/components/element/purchase/purchaserefund/refund/refundSee.vue","webpack://erpcode-[name]/./src/utils/commonCrud/CRUD.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.is-integer.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/purchase/purchaserefund/refund/refundSee.vue?a5ee","webpack://erpcode-[name]/./node_modules/core-js/internals/is-integral-number.js","webpack://erpcode-[name]/./src/components/element/purchase/purchaserefund/refund/config/refundAdd.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","on","goBack","_s","TableData","info","company_name","refund_sn","instorage_sn","business_time","warehouse_name","supplier_name","department_name","buyer_name","reason_name","auditor_status_name","remark","ref","tableColumn","indexSign","goods_list","add_user_name","add_time","auditor_name","auditor_time","update_user_name","update_time","slot","after_auditor_print_status","authority","b_print","auditor_status","printSheet","_e","b_pass","examineFun","b_invalid","abolishFun","b_nopass","AUDIT_GET","staticRenderFns","name","mixins","data","printFlag","trunErrTable","errorState","line","hasAuditorStatusPrint","components","printRefund","methods","renderHeaderpro","examine","_this","url","params","refund_id","list","before","bill_type","bill_id","operation_type","callback","then","$nextTick","$router","push","getSummaries","columns","map","index","includes","column","property","num","Number","isInteger","toFixed","created","$publicFution","filterTableColumn","window","localStorage","JSON","parse","getItem","$route","query","id","$axios","method","$api","getRefundInfo","code","component","isPromise","val","ThisScope","Obj","addr","URL","errId","title","allTitle","checkbox","Data","showConfirm","callbackFunc","multipleSelection","length","$message","message","type","$confirm","confirmButtonText","cancelButtonText","rebateArr","resolve","reject","ajaxFunc","Object","assign","$axMethod","res","catch","err","verify","i","toString","Promise","confirm","sendAjax","logic","success","msg","onSearch","errData","checkArry","forEach","item","serial","activeColor","filter","arr","str","store","commit","table","state","console","log","seeEdit","edit","result","$","isIntegralNumber","target","stat","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","x","n","acc","x2","multiply","c","c2","divide","dataToString","s","t","FORCED","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","isObject","module","exports","it","isFinite","rowModule","tableHead","editRules","goods_num","required","goods_name","allocation_name","purchase_price","width","align","fixed","field","slots","default","scope","h","$refs","xTable","_copyRow","row","editRender","getParams","isTotal","company_id","warehouse_id","is_incomplete","getIcon","icon","iconMethod","events","change","key","goodsInfo","_proxy","fullData","addF","goods_id","header","isPage","batch","allocation_id","headerAlign","input","computedPrice","formatter","showOverflow","autoselect","isEdit"],"mappings":"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","file":"js/chunk-bb2dcd80.f50375c9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"采购管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"采购退货\")])]),_c('el-breadcrumb-item',[_vm._v(\"查看采购退货单\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"采购组织:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.TableData.info.company_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"单据号:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.refund_sn))])]),_c('el-form-item',{attrs:{\"label\":\"来源单号:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.instorage_sn))])]),_c('el-form-item',{attrs:{\"label\":\"业务日期:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.business_time))])]),_c('el-form-item',{attrs:{\"label\":\"出库类型:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(\"采购退货\")])]),_c('el-form-item',{attrs:{\"label\":\"仓库名称\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.TableData.info.warehouse_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家):\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.supplier_name))])]),_c('el-form-item',{attrs:{\"label\":\"部门:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.department_name))])]),_c('el-form-item',{attrs:{\"label\":\"采购员:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.buyer_name))])]),_c('el-form-item',{attrs:{\"label\":\"退货原因:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.reason_name))])]),_c('el-form-item',{attrs:{\"label\":\"审核状态:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.TableData.info.auditor_status_name))])]),_c('el-form-item',{attrs:{\"label\":\"备注:\",\"label-width\":\"110px\",\"size\":\"mini\"}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.TableData.info.remark))])])],1)],1),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"tableColumn\":_vm.tableColumn,\"indexSign\":_vm.indexSign,\"indexSignStart\":1,\"xData\":_vm.TableData.goods_list,\"showFooter\":true,\"totalArray\":['goods_num','goods_price']}}),_c('div',{staticClass:\"refundauditFoot\"},[_c('span',[_vm._v(\"创建人：\"+_vm._s(_vm.TableData.info.add_user_name))]),_c('span',[_vm._v(\"创建时间：\"+_vm._s(_vm.TableData.info.add_time))]),_c('span',[_vm._v(\"审核人：\"+_vm._s(_vm.TableData.info.auditor_name))]),_c('span',[_vm._v(\"审核时间：\"+_vm._s(_vm.TableData.info.auditor_time))]),_c('span',[_vm._v(\"修改人：\"+_vm._s(_vm.TableData.info.update_user_name))]),_c('span',[_vm._v(\"修改时间：\"+_vm._s(_vm.TableData.info.update_time))])]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.after_auditor_print_status == 1)?[(_vm.authority.b_print==1 && _vm.TableData.info.auditor_status==2)?_c('el-button',{on:{\"click\":_vm.printSheet}},[_vm._v(\"打印\")]):_vm._e()]:[(_vm.authority.b_print==1)?_c('el-button',{on:{\"click\":_vm.printSheet}},[_vm._v(\"打印\")]):_vm._e()],(_vm.TableData.info.auditor_status==1)?[(_vm.authority.b_pass==1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.examineFun}},[_vm._v(\"审 核\")]):_vm._e(),(_vm.authority.b_invalid==1)?_c('el-button',{on:{\"click\":_vm.abolishFun}},[_vm._v(\"作 废\")]):_vm._e()]:_vm._e(),(_vm.TableData.info.auditor_status == 2)?[(_vm.authority.b_nopass==1)?_c('el-button',{staticClass:\"iconfont icon-fanshenhe\",attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.AUDIT_GET}},[_vm._v(\"弃审\")]):_vm._e()]:_vm._e(),(_vm.TableData.info.auditor_status==2 || _vm.TableData.info.auditor_status==3 || (_vm.authority.b_invalid!=1 && _vm.authority.b_pass!=1))?[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"返 回\")])]:[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")])]],2),(_vm.printFlag)?_c('div',[_c('printRefund',{ref:\"printRefund\",attrs:{\"title\":\"salesReturn\"}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>采购管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">采购退货</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>查看采购退货单</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" class=\"demo-form-inline\">\n        <el-form-item label=\"采购组织:\" label-width=\"110px\" size=\"mini\">\n          {{TableData.info.company_name}}\n        </el-form-item>\n        <el-form-item label=\"单据号:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.refund_sn}}</span>\n        </el-form-item>\n        <el-form-item label=\"来源单号:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.instorage_sn}}</span>\n        </el-form-item>\n        <el-form-item label=\"业务日期:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.business_time}}</span>\n        </el-form-item>\n        <el-form-item label=\"出库类型:\" label-width=\"110px\" size=\"mini\">\n          <span>采购退货</span>\n        </el-form-item>\n        <el-form-item label=\"仓库名称\" label-width=\"110px\" size=\"mini\">\n          {{TableData.info.warehouse_name}}\n        </el-form-item>\n        <el-form-item label=\"供应商(厂家):\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.supplier_name}}</span>\n        </el-form-item>\n        <el-form-item label=\"部门:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.department_name}}</span>\n        </el-form-item>\n        <el-form-item label=\"采购员:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.buyer_name}}</span>\n        </el-form-item>\n        <el-form-item label=\"退货原因:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.reason_name}}</span>\n        </el-form-item>\n        <el-form-item label=\"审核状态:\" label-width=\"110px\" size=\"mini\">\n          <span>{{TableData.info.auditor_status_name}}</span>\n        </el-form-item>\n        <el-form-item label=\"备注:\" label-width=\"110px\" size=\"mini\">\n          <span> {{TableData.info.remark}}</span>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"table_container\">\n      <xTable ref='xTable' :tableColumn='tableColumn' :indexSign='indexSign' :indexSignStart='1' :xData='TableData.goods_list' :showFooter='true' :totalArray=\"['goods_num','goods_price']\" />\n      <div class=\"refundauditFoot\">\n        <span>创建人：{{TableData.info.add_user_name}}</span>\n        <span>创建时间：{{TableData.info.add_time}}</span>\n        <span>审核人：{{TableData.info.auditor_name}}</span>\n        <span>审核时间：{{TableData.info.auditor_time}}</span>\n        <span>修改人：{{TableData.info.update_user_name}}</span>\n        <span>修改时间：{{TableData.info.update_time}}</span>\n\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <template v-if=\"after_auditor_print_status == 1\">\n          <el-button @click=\"printSheet\" v-if=\"authority.b_print==1 && TableData.info.auditor_status==2\">打印</el-button>\n        </template>\n        <template v-else>\n          <el-button @click=\"printSheet\" v-if=\"authority.b_print==1\">打印</el-button>\n        </template>\n\n        <!--未审核-->\n        <template v-if=\"TableData.info.auditor_status==1\">\n          <el-button type=\"primary\" @click=\"examineFun\" v-if=\"authority.b_pass==1\">审 核</el-button>\n          <el-button @click=\"abolishFun\" v-if=\"authority.b_invalid==1\">作 废</el-button>\n        </template>\n        <template v-if=\"TableData.info.auditor_status == 2\">\n          <!-- 已审核 -->\n          <el-button plain class=\"iconfont icon-fanshenhe\" @click=\"AUDIT_GET\" size=\"mini\" v-if=\"authority.b_nopass==1\">弃审</el-button>\n        </template>\n        <!--作废-->\n        <template v-if=\"TableData.info.auditor_status==2 || TableData.info.auditor_status==3 || (authority.b_invalid!=1 && authority.b_pass!=1)\">\n          <el-button @click=\"goBack\">返 回</el-button>\n        </template>\n        <template v-else>\n          <el-button @click=\"goBack\">取 消</el-button>\n        </template>\n        <!--<el-button type=\"primary\" @click=\"examineFun\" v-if=\"TableData.info.auditor_status_name=='未审核'\">审 核</el-button>-->\n        <!--<el-button @click=\"abolishFun\" v-if=\"TableData.info.auditor_status_name=='未审核'\">作 废</el-button>-->\n        <!--<el-button @click=\"goBack\">返 回</el-button>-->\n      </div>\n      <div v-if=\"printFlag\">\n        <printRefund ref=\"printRefund\" title=\"salesReturn\"></printRefund>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport printRefund from \"common/components/public/PublicPrint.vue\"; //采购退货单\nimport { tableHead } from \"./config/refundAdd.js\";\nimport { seeEdit } from \"@/utils/commonCrud/CRUD.js\";\nexport default {\n  name: \"purchaseRefundSee\",\n  mixins: [tableHead],\n  data() {\n    return {\n      authority: {},\n      printFlag: true,\n      TableData: {\n        info: {}\n      },\n      indexSign: [],\n      trunErrTable: [],\n      errorState: false,\n      line: null,\n      hasAuditorStatusPrint: null\n    };\n  },\n  components: {\n    printRefund\n  },\n  methods: {\n    renderHeaderpro() {\n      return (\n        <el-tooltip class=\"item\" content=\"Bottom center\" effect=\"light\">\n          <p slot=\"content\">生产日期列后期将会隐藏，同时新增商品入库日期列</p>\n          <span\n            class=\"el-icon-question\"\n            style=\"cursor:pointer;font-weight:bold;\"\n          >\n            生产日期\n          </span>\n        </el-tooltip>\n      );\n    },\n    AUDIT_GET() {\n      var examine = new seeEdit({\n        _this: this,\n        url: \"purchaseUnAuditorPass\",\n        params: {\n          refund_id: this.TableData.info.refund_id\n        },\n        list: this.TableData.goods_list,\n        before: () => {\n          // 校验对接车郎中\n          return this.$baseData.checkCarDoctor({\n            bill_type: 14,\n            bill_id: this.TableData.info.refund_id,\n            operation_type: 5\n          });\n        }\n      });\n      examine.callback().then(() => {\n        this.goBack();\n      });\n      //弃审\n    },\n    printSheet() {\n      this.printFlag = true;\n      this.$nextTick(() => {\n        this.$refs.printRefund.printPdf({\n          refund_id: this.TableData.info.refund_id\n        });\n      });\n    },\n    examineFun() {\n      //审核\n      var examine = new seeEdit({\n        _this: this,\n        url: \"refundAuditorPass\",\n        params: {\n          refund_id: this.TableData.info.refund_id\n        },\n        list: this.TableData.goods_list,\n        before: () => {\n          // 校验对接车郎中\n          return this.$baseData.checkCarDoctor({\n            bill_type: 14,\n            bill_id: this.TableData.info.refund_id,\n            operation_type: 4\n          });\n        }\n      });\n      examine.callback().then(() => {\n        this.goBack();\n      });\n    },\n    abolishFun() {\n      var examine = new seeEdit({\n        _this: this,\n        url: \"refundAuditorInvalid\",\n        params: {\n          refund_id: this.TableData.info.refund_id\n        },\n        list: this.TableData.goods_list,\n        before: () => {\n          // 校验对接车郎中\n          return this.$baseData.checkCarDoctor({\n            bill_type: 14,\n            bill_id: this.TableData.info.refund_id,\n            operation_type: 6\n          });\n        }\n      });\n      examine.callback().then(() => {\n        this.goBack();\n      });\n    },\n    goBack() {\n      this.$router.push({ path: \"/purchase/refund\" });\n    },\n    getSummaries({ columns, data }) {\n      return columns.map((column, index) => {\n        if (index === 0) {\n          return \"合计\";\n        }\n        if ([\"goods_num\", \"goods_price\"].includes(column.property)) {\n          var num;\n          num = this.$utils.sum(data, column.property);\n          return Number.isInteger(num) ? num : num.toFixed(2);\n        }\n        return \"\";\n      });\n    }\n  },\n  created() {\n    this.tableColumn = this.$publicFution.filterTableColumn(this.tableColumn);\n    this.hasAuditorStatusPrint = window.localStorage.hasAuditorStatusPrint;\n    this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n    if (this.$route.query && this.$route.query.id) {\n      this.after_auditor_print_status = this.$route.query.after_auditor_print_status;\n      this.$axios({\n        method: \"get\",\n        url: this.$api.getRefundInfo,\n        params: {\n          refund_id: this.$route.query.id\n        }\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          this.$set(this, \"TableData\", data.data);\n        }\n      });\n    }\n  }\n};\n</script>\n\n\n<style lang=\"less\" scoped>\n.dialog-footer {\n  margin-top: 20px;\n  text-align: center;\n}\n\n.search_container span {\n  display: inline-block;\n  width: 180px;\n}\n\n.refundauditFoot {\n  text-align: right;\n  margin-top: 20px;\n  font-size: 13px;\n\n  span {\n    display: inline-block;\n    margin-right: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./refundSee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./refundSee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./refundSee.vue?vue&type=template&id=7c0aaff8&scoped=true&\"\nimport script from \"./refundSee.vue?vue&type=script&lang=js&\"\nexport * from \"./refundSee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./refundSee.vue?vue&type=style&index=0&id=7c0aaff8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c0aaff8\",\n  null\n  \n)\n\nexport default component.exports","//增删改查\n// 弃审\nimport store from \"@/store\"; // vuex\n// 判断一个函数是不是promise\nfunction isPromise(val) {\n  if (typeof (val) === 'function' && val().then) {\n    return true\n  }\n}\nexport class ThisScope {\n  constructor(Obj) {\n    this._this = Obj._this;\n    this.addr = [];\n    this.indexSign = null;\n    this.URL = Obj.url;\n    this.id = Obj.id;\n    this.errId = Obj.errId ? Obj.errId : Obj.id // 用于错误行的显示\n    this.title = Obj.title ? Obj.title : '审核'\n    this.allTitle = Obj.allTitle\n    this.params = Obj.params// 额外参数\n    this.before = Obj.before // 再请求之前的校验，可选值 promise  function\n    this.checkbox = null;\n    this.Data = null;\n    this.showConfirm = Obj.showConfirm\n    this.callbackFunc = Obj.callbackFunc\n  }\n  verify() {\n    if (this._this.multipleSelection.length < 1) {\n      this._this.$message({\n        message: `请选择需要${this.title}的信息`,\n        type: \"warning\"\n      });\n      return false;\n    } else {\n      return true\n    }\n  }\n\n  confirm() {\n    var title = '确定要“' + this.title + '”此条信息?'\n    if (this.allTitle) {\n      title = this.allTitle\n    }\n    return this._this.$confirm(title, '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    })\n  }\n\n  // 发送请求\n  sendAjax(rebateArr, resolve, reject) {\n    var ajaxFunc;\n    var params = Object.assign({ [this.id]: rebateArr }, this.params)\n    if (this._this.$axMethod[this.URL]) {\n      ajaxFunc = this._this.$axMethod[this.URL](params)\n    } else if (this._this.$api[this.URL]) {\n      ajaxFunc = this._this.$axios({\n        url: this._this.$api[this.URL],\n        method: 'post',\n        data: params\n      })\n    }\n    ajaxFunc.then(res => {\n      this.checkbox = this._this.multipleSelection; //选择\n      this.callbackFunc && this.callbackFunc(res.data)\n      if (res.data.code == 200) {\n        resolve(res)\n        this.Data = res;\n      } else {\n        reject(res)\n      }\n    }).catch(err => {\n      reject(err)\n    });\n  }\n  logic() {\n    if (!this.verify()) {\n      return false\n    }\n    for (var i = 0; i < this._this.multipleSelection.length; i++) {\n      this.addr.push(this._this.multipleSelection[i][this.id]);\n    }\n    var rebateArr = this.addr.toString();\n\n    return new Promise((resolve, reject) => {\n      if (this.showConfirm == true) {\n        this.confirm().then(() => {\n          if (isPromise(this.before)) {// promise\n            this.before(rebateArr).then(() => {\n              return this.sendAjax(rebateArr, resolve, reject)\n            })\n          } else if ((this.before && this.before()) || !this.before) {// 传了before函数就是校验是否为true 不传直接可以进来\n            return this.sendAjax(rebateArr, resolve, reject)\n          }\n        })\n      } else {\n        if (isPromise(this.before)) {// promise\n          this.before(rebateArr).then(() => {\n            return this.sendAjax(rebateArr, resolve, reject)\n          })\n        } else if ((this.before && this.before()) || !this.before) {// 传了before函数就是校验是否为true 不传直接可以进来\n          return this.sendAjax(rebateArr, resolve, reject)\n        }\n      }\n    })\n\n  }\n  send() {\n    this.logic().then(({ data }) => {\n      if (data.code === 200) {\n        this._this.$message.success(data.msg ? data.msg : data.data)\n        this._this.onSearch && this._this.onSearch();\n      }\n    })\n  }\n  async callback() {\n    try {\n      await this.logic()\n      if (this.Data && this.Data.data && this.Data.data.data.length) {\n        let errData = this.Data.data.data; //报错\n        let checkArry = [];\n        errData.forEach((item) => {\n          checkArry.push(item.serial);\n        });\n        let activeColor = this.checkbox.filter(\n          val => checkArry.includes(val[this.errId]) == true\n        );\n        this._this.indexSign.arr = activeColor\n        this._this.indexSign.str = this.errId\n        store.commit('setErrorObj', {\n          msg: this.Data.data.msg,\n          table: this.Data.data.data,\n          state: true\n        })\n      } else {\n        let msg = this.Data.data.msg ? this.Data.data.msg : this.Data.data.data;\n        this._this.indexSign.arr = []\n        this._this.$message({\n          message: msg,\n          type: \"success\"\n        });\n        this._this.multipleSelection = [];\n        this._this.onSearch && this._this.onSearch();\n      }\n    } catch (error) {\n      console.log()\n    }\n  }\n}\n// 详情的操作\nexport class seeEdit {\n  constructor({ _this, url, list = [], params = {}, before }) {\n    this._this = _this\n    this.url = url // 操作的url\n    this.list = list // 商品\n    this.params = params // 参数\n    this.before = before // 在请求之前做处理\n  }\n  sendAjax(resolve, reject) {\n    var ajaxFunc;\n    if (this._this.$axMethod[this.url]) {\n      ajaxFunc = this._this.$axMethod[this.url](this.params)\n    } else if (this._this.$api[this.url]) {\n      ajaxFunc = this._this.$axios({\n        url: this._this.$api[this.url],\n        method: 'post',\n        data: this.params\n      })\n    }\n    ajaxFunc.then(res => {\n      if (res.data.code == 200) {\n        resolve(res)\n      } else {\n        reject(res)\n      }\n    }).catch(err => {\n      reject(err)\n    });\n  }\n  edit() {\n    return new Promise((resolve, reject) => {\n      if (isPromise(this.before)) {// promise\n        this.before().then(() => {\n          return this.sendAjax(resolve, reject)\n        })\n      } else if ((this.before && this.before()) || !this.before) {// 传了before函数就是校验是否为true 不传直接可以进来\n        return this.sendAjax(resolve, reject)\n      }\n    })\n  }\n  callback() {\n    return new Promise((resolve, reject) => {\n      this.edit().then((res) => {\n        if (res.data && res.data.data && res.data.data.length) {\n          store.commit('setErrorObj', {\n            msg: res.data.msg,\n            table: res.data.data,\n            state: true\n          })\n          var result = []\n          res.data.data.forEach((item) => {\n            result.push(item.serial);\n          });\n          this._this.indexSign = result\n          reject(res)\n        } else {\n          this._this.$message({\n            message: res.data.msg ? res.data.msg : res.data.data,\n            type: \"success\"\n          });\n          resolve(res)\n        }\n      })\n    })\n  }\n}","var $ = require('../internals/export');\nvar isIntegralNumber = require('../internals/is-integral-number');\n\n// `Number.isInteger` method\n// https://tc39.es/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isIntegralNumber\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./refundSee.vue?vue&type=style&index=0&id=7c0aaff8&lang=less&scoped=true&\"","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `IsIntegralNumber` abstract operation\n// https://tc39.es/ecma262/#sec-isintegralnumber\n// eslint-disable-next-line es/no-number-isinteger -- safe\nmodule.exports = Number.isInteger || function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","// 行模型\nexport const rowModule = {\n  \"serial_number\": '',\n  \"goods_id\": \"\",\n  \"goods_price\": \"\",\n  \"instorage_goods_id\": \"\",\n  \"purchase_price\": \"\",\n  \"batch\": \"\",\n  \"remark\": \"\",\n  \"allocation_id\": \"\",\n  \"goods_num\": '',\n  \"can_refund_num\": \"\",\n  \"production_time\": \"\",\n  \"refund_goods_id\": 0,\n  \"no_revenue_price\": '',\n  \"taxrate\": '',\n  \"revenue_price\": '',\n  \"line\": 1,// 1是引用采购订单 2是手动增行\n}\n\nexport const tableHead = {// 需要传进来一个this对象\n  data() {\n    return {\n      editRules: {\n        goods_num: [\n          { required: true, message: '数量输入请在0-99999999之间' }\n        ],\n        goods_name: [\n          { required: true, message: '请选择商品' }\n        ],\n        allocation_name: [\n          { required: true, message: '请选择货位' }\n        ],\n        purchase_price: [\n          { required: true, message: '请输入采购价' }\n        ],\n      },\n      tableColumn: [\n        {\n          type: \"checkbox\",\n          width: 44,\n          align: 'center'\n        },\n        {\n          title: '序号',\n          type: \"seq\",\n          width: 50\n        },\n        {\n          title: '操作',\n          fixed: 'right',\n          width: 80,\n          field: 'goods_id',\n          slots: {\n            default: (scope, h) => {\n              return [\n                <i class=\"el-icon-document\" onClick={() => { this.$refs.xTable._copyRow(scope.row) }} style=\"cursor: pointer;font-size: 15px;line-height: 28px;\" ></i >\n              ]\n            }\n          },\n        },\n        {\n          title: '商品编号',\n          field: 'goods_id',\n          width: 80\n        },\n        {\n          title: '商品名称',\n          field: 'goods_name',\n          width: 400,\n          editRender: {\n            name: 'vGoods',\n            getParams: ({ row }) => {\n              return {\n                params: {\n                  isTotal: 1,\n                  company_id: this.params.company_id,\n                  warehouse_id: this.params.warehouse_id,\n                  is_incomplete: 0\n                },\n                getIcon: () => {\n                  if (row.goods_name) {\n                    return [{\n                      icon: 'el-icon-close',\n                      title: '删除商品',\n                      iconMethod: () => {\n                        for (var i in row) {\n                          row[i] = ''\n                        }\n                      }\n                    }]\n                  } else {\n                    return []\n                  }\n                }\n              }\n            },\n            events: {\n              change: (val, { row }) => {\n                // 修改商品\n                [\n                  \"allocation_id\",\n                  \"allocation_name\",\n                  \"batch_id\",\n                  \"unit_name\",\n                  \"factory_code\",\n                  \"purchase_price\",\n                  \"production_time\",\n                  \"return_goodsNum\",\n                  \"refund_goods_id\",\n                  \"goods_price\",\n                ].forEach(key => {\n                  if (key == 'refund_goods_id') {\n                    row[key] = 0;\n                  } else {\n                    row[key] = null;\n                  }\n                });\n                let goodsInfo = [\n                  \"goods_id\",\n                  \"goods_sn\",\n                  \"stocks\",\n                  \"factory_code\",\n                  \"purchase_price\",\n                  \"unit_name\",\n                  \"taxrate\"\n                ];\n                goodsInfo.forEach(key => {\n                  row[key] = val[key];\n                });\n                var result = this.$refs.xTable._proxy(\"getTableData\").fullData\n                if (result[result.length - 1].goods_name) {\n                  this.addF()\n                }\n              },\n            }\n          }\n        },\n        {\n          title: '年周/批次',\n          field: 'batch',\n          width: 120,\n          editRender: {\n            name: 'vBatch',\n            getParams: ({ row }) => {\n              return {\n                url: 'getGoodsBatchList',\n                params: {\n                  company_id: this.params.company_id,\n                  warehouse_id: this.params.warehouse_id,\n                  goods_id: row.goods_id ? row.goods_id : \"\"\n                }\n              }\n            },\n            events: {\n              change: (val, { row }) => {\n                [\n                  'batch',\n                  \"batch_id\",\n                  \"production_time\",\n                  \"allocation_id\",\n                  \"allocation_name\"\n                ].forEach(key => {\n                  row[key] = val[key]\n                });\n              }\n            }\n          },\n        },\n        {\n          title: '生产日期',\n          field: 'production_time',\n          width: 100,\n          slots: {\n            header: (scope, h) => {\n              return [\n                <el-tooltip class=\"item\" content=\"Bottom center\" effect=\"light\">\n                  <p slot=\"content\">生产日期列后期将会隐藏，同时新增商品入库日期列</p>\n                  <span\n                    class=\"el-icon-question\"\n                    style=\"cursor:pointer;font-weight:bold;\"\n                  >生产日期</span>\n                </el-tooltip>\n              ]\n            }\n          },\n        },\n        {\n          title: '单位',\n          field: 'unit_name',\n          width: 100\n        },\n        {\n          title: '货位名称',\n          field: 'allocation_name',\n          width: 130,\n          editRender: {\n            name: 'vAllocation',\n            getParams: ({ row }) => {\n              return {\n                url: 'newAllocationListList',\n                isPage: true,\n                params: {\n                  company_id: this.params.company_id ? this.params.company_id : \"\",\n                  warehouse_id: this.params.warehouse_id ? this.params.warehouse_id : \"\",\n                  goods_id: row.goods_id,\n                  is_incomplete: 0,\n                  batch: row.batch\n                }\n              }\n            },\n            events: {\n              change: ({ row }, val) => {\n                row.allocation_id = val.allocation_id\n                row.allocation_name = val.allocation_name\n              }\n            }\n          }\n        },\n        {\n          title: '数量',\n          field: 'goods_num',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 110,\n          editRender: {\n            name: 'number',\n            events: {\n              input: this.computedPrice\n            }\n          }\n        },\n        {\n          title: '采购价',\n          field: 'purchase_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 132,\n          editRender: {\n            name: 'Vinput',\n            formatter: 'String',\n            events: {\n              input: this.computedPrice\n            }\n          }\n        },\n        {\n          title: '小计金额',\n          field: 'goods_price',\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          width: 132,\n          editRender: {\n            name: 'Vinput',\n            events: {\n              input: this.computedPrice\n            }\n          }\n        },\n        {\n          field: 'revenue_price',\n          showOverflow: true,\n          title: '税额',\n          width: 100,\n          editRender: {\n            autoselect: true,\n            name: 'vNumber',\n            events: {\n              input: this.computedPrice\n            },\n          }\n        },\n        {\n          field: 'no_revenue_price',\n          showOverflow: true,\n          width: 100,\n          title: '不含税金额'\n        },\n        {\n          title: '工厂代码',\n          field: 'factory_code',\n          width: 150\n        },\n        {\n          title: '备注',\n          field: 'remark',\n          width: 200,\n          editRender: {\n            name: 'Vinput',\n            formatter: 'String'\n          }\n        }\n      ]\n    }\n  },\n  methods: {// \n    isEdit({ row, column }) {\n      if (column.property === 'goods_name' || column.property === 'batch') {\n        if (this.line === 1) {\n          this.$publicFution.confirm('引用单据不可修改')\n          return false\n        }\n      }\n      if (column.property === 'batch' && !row.goods_name) {\n        this.$publicFution.confirm('请先选择商品')\n        return false\n      }\n      return true\n    }\n  }\n}"],"sourceRoot":""}