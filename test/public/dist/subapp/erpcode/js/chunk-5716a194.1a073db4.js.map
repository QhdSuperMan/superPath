{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/instorageAdd.vue?9bac","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/instorageAdd.vue?c540","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/instorageAdd.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/config/instorageAdd.js","webpack://erpcode-[name]/./node_modules/core-js/internals/array-fill.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.is-integer.js","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/chooseSourceBill.vue?6040","webpack://erpcode-[name]/src/components/element/purchase/purchasein/plan/chooseSourceBill.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/chooseSourceBill.vue?fb21","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/chooseSourceBill.vue","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/purchase/purchasein/plan/instorageAdd.vue?9a97","webpack://erpcode-[name]/./node_modules/core-js/modules/es.array.fill.js","webpack://erpcode-[name]/./src/components/element/purchase/purchaseorder/order/js/tableHead.js","webpack://erpcode-[name]/src/components/element/purchase/purchasein/plan/instorageAdd.vue","webpack://erpcode-[name]/./node_modules/core-js/internals/is-integral-number.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","_v","_s","titles","staticClass","on","goBack","title","ref","params","rules","company_id","disabled","getCompanyList","companyChange","model","callback","$$v","$set","staticStyle","nativeOn","$event","quoteOrder","apply","arguments","business_time","warehouse_id","operation_type","$route","query","instorage_id","warehouseChange","supplier_id","supplierListInvok","supplierChange","_l","item","key","supplier_name","department_id","departmentChange","DepartmentListInvok","department_name","receivablesInvok","receivables_mode_id","receivables_mode_name","calcPrice","slot","label","onlyQuote","_e","addRow","deleteRow","tool_Config","footerMethod","tableData","tableColumn","trigger","mode","autoClear","activeMethod","submit","dialogBillVisible","closeDialog","dialogformInline","staticRenderFns","component","mixins","data","type","width","field","showOverflow","showHeaderOverflow","fixed","slots","default","row","copyLineFun","cursor","fontSize","editRender","getParams","scope","is_incomplete","showObj","goods_id","goods_name","factory_code","unit_name","brand_name","specification_type","supply_mode_name","logogram","getIcon","icon","iconMethod","i","events","change","changeGoods","visible","Boolean","Number","localStorage","getItem","autoselect","placeholder","blur","blurChange","modelKey","list","instorage_type","incomplete_reason","allocation_name","allocation_id","ListGoods","input","handleEdit","$rowIndex","formatter","_this","url","isPage","allocationChange","methods","xtable","$refs","xTable","_proxy","production_time","batch","getWeek","then","newRow","referenceDisabled","obj","toString","length","substr","$message","warning","column","property","$axMethod","newAllocationListList","code","forEach","element","is_system","columns","map","columnIndex","includes","$utils","sum","num","isInteger","toFixed","toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","O","argumentsLength","index","undefined","end","endPos","$","isIntegralNumber","target","stat","company_name","class","timeValue","EmployeeListInvok","employee_id","employee_name","onSearch","onReset","_m","TableData","handleCurrentChanges","scopedSlots","_u","fn","order_id","radio","TableDatas","handleSelectionChange","dialogCancelForm","dialogSubmitForm","searchParams","info","multipleSelection","supplierList","companyList","goPage","pageSize","per_page","loading","start_time","end_time","val","par","$emit","error","props","mounted","buyer_id","Object","assign","buyer_name","employeeList","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","x","n","acc","log","x2","multiply","c","c2","divide","dataToString","s","t","FORCED","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","result","fill","addToUnscopables","common","activated","_routeParams","transferType","portStockEarlyWarningChangeOrderInfo","mapActions","getRebatePrice","brand_id","rebate_balance","turnSaleOrder","salesorderAdd","Buy_order","random","$router","push","path","stockEarlyWarningChangeOrderInfo","portParams","_info","goods_list","keys","remark","abstract","opthionList","orderAddGet","orderIndexACT","unit_id","remaining_goods_num","goods_num","param","price","totalPrice","$publicFution","computeTotal","catch","console","message","warehouseRequired","id","zoom","setting","storage","immediate","chaid","options","hid","rowIndex","otherPriceType","rows","goodsList","checkAddLine","restaurants","timeout","goBackUrl","components","sourceBill","relation_company_id","ruleForm","clearValidate","$confirm","confirmButtonText","cancelButtonText","fullData","today","Date","firstDay","getFullYear","dayOfWeek","getDay","spendDay","d","ceil","valueOf","year","substring","taxrate","isClearOtherPrice","hasEmptyData","other_price_type","getCountApportionOptions","other_price","$axios","method","$api","goods_info","JSON","stringify","goodsInfo","subtotal_price","resData","sqe","arry","tableStack","datataple","InventoryInitialize","InventoryList","reduce","next","cur","allocationList","$baseData","settingInfo","FDBName_business","open","setTimeout","formName","validate","valid","submitData","filter","tableDatas","revenue_price","no_revenue_price","order_goods_id","guidance_price","instorage_goods_id","purchase_price","supply_mode","transaction_type","factorysend_sn","factorysend_time","status","handleMouseEnter","cell","children","style","color","handleMouseOut","purchaseInfoInStorage","res","instoragList","order_sn","company_admin_id","formatData","erpCompanyList","getList","eval","state","isObject","it","isFinite"],"mappings":"kKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,aAAa,CAACN,EAAG,gBAAgB,CAACO,MAAM,CAAC,kBAAkB,wBAAwB,CAACP,EAAG,qBAAqB,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,WAAWV,EAAG,qBAAqB,CAACW,YAAY,YAAY,CAACX,EAAG,OAAO,CAACY,GAAG,CAAC,MAAQhB,EAAIiB,SAAS,CAACjB,EAAIY,GAAG,cAAcR,EAAG,qBAAqB,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIkB,OAAO,YAAY,GAAGd,EAAG,MAAM,CAACW,YAAY,oBAAoB,CAACX,EAAG,UAAU,CAACe,IAAI,WAAWJ,YAAY,mBAAmBJ,MAAM,CAAC,QAAS,EAAK,MAAQX,EAAIoB,SAAS,CAAChB,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,KAAO,aAAa,MAAQX,EAAIqB,MAAMC,aAAa,CAAClB,EAAG,iBAAiB,CAACe,IAAI,iBAAiBR,MAAM,CAAC,aAAeX,EAAIoB,OAAO,SAAWpB,EAAIuB,UAAUP,GAAG,CAAC,QAAUhB,EAAIwB,eAAe,OAASxB,EAAIyB,eAAeC,MAAM,CAACjB,MAAOT,EAAIoB,OAAiB,WAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,aAAcQ,IAAMlB,WAAW,wBAAwB,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,UAAY,MAAM,SAAW,WAAW,YAAc,OAAOe,MAAM,CAACjB,MAAOT,EAAIoB,OAAmB,aAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,eAAgBQ,IAAMlB,WAAW,0BAA0B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,KAAO,iBAAiB,CAACP,EAAG,WAAW,CAAC0B,YAAY,CAAC,OAAS,WAAWnB,MAAM,CAAC,SAAW,WAAW,cAAc,gBAAgBoB,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOhC,EAAIiC,WAAWC,MAAM,KAAMC,aAAaT,MAAM,CAACjB,MAAOT,EAAIoB,OAAe,SAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,WAAYQ,IAAMlB,WAAW,sBAAsB,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,KAAO,gBAAgB,MAAQX,EAAIqB,MAAMe,gBAAgB,CAAChC,EAAG,iBAAiB,CAACO,MAAM,CAAC,eAAe,aAAa,KAAO,OAAO,YAAc,QAAQe,MAAM,CAACjB,MAAOT,EAAIoB,OAAoB,cAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,gBAAiBQ,IAAMlB,WAAW,2BAA2B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,KAAO,OAAO,UAAY,MAAM,MAAQ,OAAO,SAAW,eAAe,GAAIX,EAAqB,kBAAEI,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,KAAO,eAAe,MAAQX,EAAIqB,MAAMgB,eAAe,CAACjC,EAAG,eAAe,CAACO,MAAM,CAAC,aAAe,CACj3EW,WAAYtB,EAAIoB,OAAOE,WACvBgB,eAAgBtC,EAAIuC,OAAOC,MAAMC,aAAe,EAAI,GACpD,aAAezC,EAAIoB,QAAQJ,GAAG,CAAC,OAAShB,EAAI0C,iBAAiBhB,MAAM,CAACjB,MAAOT,EAAIoB,OAAmB,aAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,eAAgBQ,IAAMlB,WAAW,0BAA0B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,eAAe,CAACO,MAAM,CAAC,aAAe,CACnTW,WAAYtB,EAAIoB,OAAOE,WACvBgB,eAAgBtC,EAAIuC,OAAOC,MAAMC,aAAe,EAAI,GACpD,aAAezC,EAAIoB,QAAQJ,GAAG,CAAC,OAAShB,EAAI0C,iBAAiBhB,MAAM,CAACjB,MAAOT,EAAIoB,OAAmB,aAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,eAAgBQ,IAAMlB,WAAW,0BAA0B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,UAAU,KAAO,OAAO,KAAO,cAAc,MAAQX,EAAIqB,MAAMsB,cAAc,CAACvC,EAAG,YAAY,CAACe,IAAI,WAAWR,MAAM,CAAC,UAAY,GAAG,UAAY,MAAM,SAAWX,EAAIuB,SAAS,gBAAgBvB,EAAI4C,kBAAkB,WAAa,GAAG,YAAc,OAAO5B,GAAG,CAAC,MAAQhB,EAAI4C,kBAAkB,OAAS5C,EAAI6C,gBAAgBnB,MAAM,CAACjB,MAAOT,EAAIoB,OAAkB,YAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,cAAeQ,IAAMlB,WAAW,uBAAuBV,EAAI8C,GAAI9C,EAAgB,cAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKJ,YAAYhC,MAAM,CAAC,MAAQoC,EAAKE,cAAc,MAAQF,EAAKJ,kBAAiB,IAAI,GAAGvC,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACX,EAAIY,GAAG,IAAIZ,EAAIa,GAAG,WAA8C,GAA5Bb,EAAIoB,OAAO8B,gBAAsBlD,EAAIoB,OAAO8B,cAAgB,MAA9E,IAA4F,KAAK9C,EAAG,YAAY,CAACO,MAAM,CAAC,UAAY,GAAG,YAAc,MAAM,WAAa,GAAG,SAAWX,EAAIuB,UAAUP,GAAG,CAAC,OAAShB,EAAImD,iBAAiB,MAAQnD,EAAIoD,qBAAqB1B,MAAM,CAACjB,MAAOT,EAAIoB,OAAoB,cAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,gBAAiBQ,IAAMlB,WAAW,yBAAyBV,EAAI8C,GAAI9C,EAAkB,gBAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKG,cAAcvC,MAAM,CAAC,MAAQoC,EAAKM,gBAAgB,MAAQN,EAAKG,oBAAmB,IAAI,GAAG9C,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACP,EAAG,cAAc,CAACO,MAAM,CAAC,aAAeX,EAAIoB,OAAO,WAAa,aAAa,MAAQ,SAAS,SAAWpB,EAAIuB,SAAS,aAAe,CAAED,WAAYtB,EAAIoB,OAAOE,aAAcI,MAAM,CAACjB,MAAOT,EAAIoB,OAAe,SAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,WAAYQ,IAAMlB,WAAW,sBAAsB,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,UAAY,GAAG,YAAc,OAAOK,GAAG,CAAC,MAAQhB,EAAIsD,kBAAkB5B,MAAM,CAACjB,MAAOT,EAAIoB,OAA0B,oBAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,sBAAuBQ,IAAMlB,WAAW,+BAA+BV,EAAI8C,GAAI9C,EAAmB,iBAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKQ,oBAAoB5C,MAAM,CAAC,MAAQoC,EAAKS,sBAAsB,MAAQT,EAAKQ,0BAAyB,IAAI,GAAGnD,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,WAAW,CAACW,YAAY,oBAAoBJ,MAAM,CAAC,YAAc,MAAMK,GAAG,CAAC,OAAShB,EAAIyD,WAAW/B,MAAM,CAACjB,MAAOT,EAAIoB,OAAkB,YAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,cAAeQ,IAAMlB,WAAW,uBAAuB,CAACN,EAAG,YAAY,CAACW,YAAY,aAAaJ,MAAM,CAAC,KAAO,UAAU,UAAY,IAAIK,GAAG,CAAC,OAAShB,EAAIyD,WAAWC,KAAK,UAAUhC,MAAM,CAACjB,MAAOT,EAAIoB,OAAuB,iBAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,mBAAoBQ,IAAMlB,WAAW,4BAA4BV,EAAI8C,GAAI9C,EAAkB,gBAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKtC,MAAME,MAAM,CAAC,MAAQoC,EAAKY,MAAM,MAAQZ,EAAKtC,YAAW,IAAI,IAAI,GAAGL,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,SAAS,KAAO,SAAS,CAACP,EAAG,WAAW,CAACsB,MAAM,CAACjB,MAAOT,EAAIoB,OAAqB,eAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,iBAAkBQ,IAAMlB,WAAW,4BAA4B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,SAAS,KAAO,SAAS,CAACP,EAAG,iBAAiB,CAACO,MAAM,CAAC,eAAe,aAAa,KAAO,OAAO,YAAc,QAAQe,MAAM,CAACjB,MAAOT,EAAIoB,OAAuB,iBAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,mBAAoBQ,IAAMlB,WAAW,8BAA8B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,iBAAiB,CAACsB,MAAM,CAACjB,MAAOT,EAAIoB,OAAuB,iBAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,mBAAoBQ,IAAMlB,WAAW,8BAA8B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,SAAW,IAAIe,MAAM,CAACjB,MAAOT,EAAIoB,OAA4B,sBAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,wBAAyBQ,IAAMlB,WAAW,mCAAmC,IAAI,IAAI,GAAGN,EAAG,MAAM,CAACW,YAAY,aAAa,CAAGf,EAAI4D,UAA6L5D,EAAI6D,KAAtLzD,EAAG,YAAY,CAACW,YAAY,SAASJ,MAAM,CAAC,KAAO,8BAA8B,KAAO,UAAU,KAAO,OAAO,SAAWX,EAAIuB,UAAUP,GAAG,CAAC,MAAQhB,EAAI8D,SAAS,CAAC9D,EAAIY,GAAG,QAAiBR,EAAG,YAAY,CAACO,MAAM,CAAC,MAAQ,GAAG,KAAO,iBAAiB,KAAO,QAAQK,GAAG,CAAC,MAAQhB,EAAI+D,YAAY,CAAC/D,EAAIY,GAAG,SAAS,GAAGR,EAAG,MAAM,CAACW,YAAY,mBAAmB,CAACX,EAAG,SAAS,CAACe,IAAI,SAASR,MAAM,CAAC,QAAS,EAAK,WAAaX,EAAIgE,YAAY,YAAa,EAAK,aAAehE,EAAIiE,aAAa,MAAQjE,EAAIkE,UAAU,SAAW,GAAG,mBAAmB,MAAM,YAAclE,EAAImE,YAAY,YAAa,EAAK,WAAa,CAChrJC,QAAS,QACTC,KAAM,OACNC,WAAW,EACXC,aAAcvE,EAAIuE,kBACd,GAAGnE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACe,IAAI,eAAeJ,YAAY,mBAAmBJ,MAAM,CAAC,QAAS,EAAK,MAAQX,EAAIoB,SAAS,CAAChB,EAAG,eAAe,CAAC0B,YAAY,CAAC,MAAQ,UAAUnB,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAAS,CAACP,EAAG,WAAW,CAAC0B,YAAY,CAAC,MAAQ,SAASJ,MAAM,CAACjB,MAAOT,EAAIoB,OAAa,OAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,SAAUQ,IAAMlB,WAAW,oBAAoB,GAAGN,EAAG,MAAMA,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,UAAY,MAAM,SAAW,IAAIe,MAAM,CAACjB,MAAOT,EAAIoB,OAAoB,cAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,gBAAiBQ,IAAMlB,WAAW,2BAA2B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,UAAY,MAAM,SAAW,IAAIe,MAAM,CAACjB,MAAOT,EAAIoB,OAAe,SAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,WAAYQ,IAAMlB,WAAW,sBAAsB,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,UAAY,MAAM,SAAW,IAAIe,MAAM,CAACjB,MAAOT,EAAIoB,OAAuB,iBAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,mBAAoBQ,IAAMlB,WAAW,8BAA8B,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,UAAY,MAAM,SAAW,IAAIe,MAAM,CAACjB,MAAOT,EAAIoB,OAAkB,YAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,cAAeQ,IAAMlB,WAAW,yBAAyB,IAAI,IAAI,GAAGN,EAAG,MAAM,CAACW,YAAY,gBAAgBe,YAAY,CAAC,aAAa,SAAS,aAAa,SAAS,CAAC1B,EAAG,YAAY,CAACY,GAAG,CAAC,MAAQhB,EAAIiB,SAAS,CAACjB,EAAIY,GAAG,SAASR,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWK,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOhC,EAAIwE,OAAO,eAAe,CAACxE,EAAIY,GAAG,UAAU,GAAIZ,EAAqB,kBAAEI,EAAG,MAAM,CAACA,EAAG,YAAY,CAACW,YAAY,aAAaJ,MAAM,CAAC,wBAAuB,EAAM,MAAQ,WAAW,QAAUX,EAAIyE,kBAAkB,MAAQ,UAAUzD,GAAG,CAAC,iBAAiB,SAASgB,GAAQhC,EAAIyE,kBAAkBzC,GAAQ,MAAQhC,EAAI0E,cAAc,CAACtE,EAAG,cAAc,CAACO,MAAM,CAAC,IAAMX,EAAIoB,QAAQJ,GAAG,CAAC,YAAchB,EAAI0E,YAAY,iBAAmB1E,EAAI2E,qBAAqB,IAAI,GAAG3E,EAAI6D,MAAM,IAC9lEe,EAAkB,G,YCZ4X,S,wBCQ9YC,EAAY,eACd,EACA9E,EACA6E,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6DCnBTC,G,gFAAS,CACbC,KADa,WACN,iCACL,MAAO,CACLZ,YAAa,CACX,CACEa,KAAM,WACNC,MAAO,IAET,CACED,KAAM,MACN9D,MAAO,KACP+D,MAAO,IAET,CACEC,MAAO,WACPhE,MAAO,OACPiE,aAAc,UACdC,mBAAoB,UACpBH,MAAO,IAET,CACEA,MAAO,GACP/D,MAAO,KACPmE,MAAO,QACPC,MAAO,CACLC,QAAS,YAAa,IAAVC,EAAU,EAAVA,IACV,MAAO,CAAC,EAAD,WAEG,mBAFH,UAGM,kBAAM,EAAKC,YAAYD,KAH7B,MAII,CAAEE,OAAQ,UAAWC,SAAU,SAJnC,CAMF,UAMX,CACET,MAAO,aACPhE,MAAO,OACP+D,MAAO,IACPE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVrF,KAAM,SACNsF,UAAW,SAAAC,GACT,MAAO,CACL1E,OAAQ,CACNE,WAAY,EAAKF,OAAOE,WACxByE,cAAe,GAEjBC,QAAS,CAEPC,SAAU,OACVC,WAAY,OACZC,aAAc,OACdC,UAAW,KACXC,WAAY,KACZC,mBAAoB,OACpBC,iBAAkB,OAClBC,SAAU,OAEZC,QAAS,WACP,OAAIX,EAAMN,IAAIU,WACL,CACL,CACEQ,KAAM,gBACNxF,MAAO,OACPyF,WAAY,WACV,IAAK,IAAIC,KAAKd,EAAMN,IAClBM,EAAMN,IAAIoB,GAAK,MAMhB,MAKfC,OAAQ,CACNC,OAAQ7G,KAAK8G,eAInB,CACE7B,MAAO,QACPhE,MAAO,QACPiE,aAAc,UACdC,mBAAoB,UACpBH,MAAO,IACP+B,QAASC,SAASC,OAAOC,aAAaC,QAAQ,wBAC9CxB,WAAY,CACVyB,YAAY,EACZ9G,KAAM,SACN+G,YAAa,aACbT,OAAQ,CACNU,KAAMtH,KAAKuH,cAIjB,CACEtC,MAAO,YACPC,aAAc,UACdC,mBAAoB,UACpBlE,MAAO,KACP+D,MAAO,IAGT,CACEC,MAAO,sBACPC,aAAc,UACdjE,MAAO,OACP+D,MAAO,IACPW,WAAY,CACVyB,YAAY,EACZ9G,KAAM,UACNsF,UAAW,WACT,MAAO,CACL4B,SAAU,iBACVC,KAAM,CACJ,CACE/D,MAAO,OACPlD,MAAO,GAET,CACEkD,MAAO,QACPlD,MAAO,MAKfoG,OAAQ,CACNC,OAAQ,YAAa,IAAVtB,EAAU,EAAVA,IACkB,IAAvBA,EAAImC,iBACNnC,EAAIoC,kBAAoB,IAE1BpC,EAAIqC,gBAAkB,GACtBrC,EAAIsC,cAAgB,GACpB,EAAKC,UAAUvC,OAKvB,CACEN,MAAO,sBACPhE,MAAO,OACPiE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVyB,YAAY,EACZ9G,KAAM,SACNsG,OAAQ,CACNmB,MAAO,SAAAlC,GACL,EAAKmC,WACHnC,EAAMN,IACN,sBACAM,EAAMoC,eAOhB,CACEhD,MAAO,iBACPhE,MAAO,MACPiE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVyB,YAAY,EACZ9G,KAAM,SACNsG,OAAQ,CACNmB,MAAO,SAAAlC,GACL,EAAKmC,WAAWnC,EAAMN,IAAK,iBAAkBM,EAAMoC,eAK3D,CACEhD,MAAO,iBACPhE,MAAO,OACPiE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVyB,YAAY,EACZ9G,KAAM,SACNsG,OAAQ,CACNmB,MAAO,SAAAlC,GACL,EAAKmC,WAAWnC,EAAMN,IAAK,iBAAkBM,EAAMoC,eAK3D,CACEhD,MAAO,gBACPC,cAAc,EACdjE,MAAO,KACP0E,WAAY,CACVyB,YAAY,EACZ9G,KAAM,SACN4H,UAAW,WACXtB,OAAQ,CACNmB,MAAO,SAAAlC,GACL,EAAKmC,WAAWnC,EAAMN,IAAK,gBAAiBM,EAAMoC,eAK1D,CACEhD,MAAO,mBACPC,cAAc,EACdjE,MAAO,SAET,CACEgE,MAAO,cACPhE,MAAO,OACPiE,aAAc,UACdC,mBAAoB,WAEtB,CACEF,MAAO,kBACPhE,MAAO,KACP+D,MAAO,IACPE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVrF,KAAM,cACNsF,UAAW,YAAa,IAAVL,EAAU,EAAVA,IACR4C,EAAQ,EACZ,MAAO,CACLC,IAAK,wBACLC,QAAQ,EACRlH,OAAQ,iCACHgH,EAAMhH,QADL,IAEJ6E,SAAUT,EAAIS,SACdF,cAAqC,GAAtBP,EAAImC,eAAsB,EAAI,MAInDd,OAAQ,CACNC,OAAQ7G,KAAKsI,oBAInB,CACErD,MAAO,iBACPhE,MAAO,QACPiE,aAAc,UACdC,mBAAoB,UACpBH,MAAO,IACPW,WAAY,CACVyB,YAAY,EACZ9G,KAAM,WAGV,CACE2E,MAAO,eACPhE,MAAO,QAIT,CACEgE,MAAO,mBACPC,aAAc,UACdC,mBAAoB,UACpBlE,MAAO,QAET,CACEgE,MAAO,oBACPhE,MAAO,SACP+D,MAAO,IACPE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVrF,KAAM,SACN4H,UAAW,WAGf,CACEjD,MAAO,SACPhE,MAAO,KACPiE,aAAc,UACdC,mBAAoB,UACpBQ,WAAY,CACVrF,KAAM,SACN4H,UAAW,YAIjBjE,UAAW,KAGfsE,QAAS,CACP1E,OADO,WAEL,IAAI2E,EAASxI,KAAKyI,MAAMC,OACxBF,EACGG,OAAO,YAAa,CACnBC,gBAAiB,GACjBf,cAAe,KACfgB,MAAO7I,KAAK8I,YAEbC,MAAK,SAAAC,GACJR,EAAOG,OAAO,WAAYK,GAAS,MAEvChJ,KAAKiJ,mBAAoB,GAE3BX,iBAdO,WAcmBY,GAAK,IAAZ3D,EAAY,EAAZA,IACjBA,EAAIqC,gBAAkBsB,EAAItB,iBAE5BL,WAjBO,YAiBa,IAAPhC,EAAO,EAAPA,KACwB,GAA/BA,EAAIsD,MAAMM,WAAWC,QAKrB7D,EAAIsD,MAAMM,WAAWE,OAAO,EAAG,GAAK,IACpC9D,EAAIsD,MAAMM,WAAWE,OAAO,EAAG,GAAK,MALtCrJ,KAAKsJ,SAASC,QAAQ,6BACtBvJ,KAAK4B,KAAK2D,EAAK,QAAS,MAa5BjB,aAjCO,YAiCuB,IAAfiB,EAAe,EAAfA,IAAKiE,EAAU,EAAVA,OAClB,MAAuB,cAAnBA,EAAOC,SACJzJ,KAAKmB,OAAOE,aAIZrB,KAAKmB,OAAOiB,eACfpC,KAAKsJ,SAASC,QAAQ,aACf,IALPvJ,KAAKsJ,SAASC,QAAQ,WACf,GAOmB,mBAAnBC,EAAOC,SACXzJ,KAAKmB,OAAOiB,aAIS,GAAtBmD,EAAImC,iBACN1H,KAAKsJ,SAASC,QAAQ,cACf,IALPvJ,KAAKsJ,SAASC,QAAQ,aACf,GASa,sBAApBC,EAAOC,UACe,GAAtBlE,EAAImC,gBAEJ1H,KAAKsJ,SAASC,QAAQ,aACf,KAELhE,EAAIS,WAGNhG,KAAKsJ,SAASC,QAAQ,WACf,IAIbzB,UAtEO,SAsEGvC,GAAK,WAEbvF,KAAK0J,UACFC,sBADH,iCAEO3J,KAAKmB,QAFZ,IAGI2E,cAAe,EACfE,SAAUT,EAAIS,YAEf+C,MAAK,YAAc,IAAXjE,EAAW,EAAXA,KACU,KAAbA,EAAK8E,MACP9E,EAAKA,KAAK+E,SAAQ,SAAAC,GACU,GAAtBvE,EAAImC,eACuB,GAAzBoC,EAAQhE,gBACV,EAAKlE,KAAK2D,EAAK,gBAAiBuE,EAAQjC,eACxC,EAAKjG,KAAK2D,EAAK,kBAAmBuE,EAAQlC,kBAGnB,GAArBkC,EAAQC,YACV,EAAKnI,KAAK2D,EAAK,gBAAiBuE,EAAQjC,eACxC,EAAKjG,KAAK2D,EAAK,kBAAmBuE,EAAQlC,yBAOxD5D,aAhGO,YAgGyB,WAAjBgG,EAAiB,EAAjBA,QAASlF,EAAQ,EAARA,KACtB,MAAO,CACLkF,EAAQC,KAAI,SAACT,EAAQU,GACnB,GAAoB,IAAhBA,EACF,MAAO,KAET,GACE,CAAC,sBAAuB,iBAAkB,eAAeC,SACvDX,EAAOC,UAET,CACA,GAAuB,uBAAnBD,EAAOC,SACT,OAAO,EAAKW,OAAOC,IAAIvF,EAAM0E,EAAOC,UAEpC,IAAIa,EAAM,EAAKF,OAAOC,IAAIvF,EAAM0E,EAAOC,UACvC,OAAOxC,OAAOsD,UAAUD,GAAOA,EAAMA,EAAIE,QAAQ,GAGrD,OAAO,UAIb1G,UAtHO,WAuHL,IAAI0E,EAASxI,KAAKyI,MAAMC,OACxBF,EAAOG,OAAO,mBACdH,EAAOG,OAAO,oBAIL9D,U,oCCnaf,IAAI4F,EAAW,EAAQ,QACnBC,EAAkB,EAAQ,QAC1BC,EAAoB,EAAQ,QAIhCC,EAAOC,QAAU,SAAcrK,GAC7B,IAAIsK,EAAIL,EAASzK,MACboJ,EAASuB,EAAkBG,GAC3BC,EAAkB7I,UAAUkH,OAC5B4B,EAAQN,EAAgBK,EAAkB,EAAI7I,UAAU,QAAK+I,EAAW7B,GACxE8B,EAAMH,EAAkB,EAAI7I,UAAU,QAAK+I,EAC3CE,OAAiBF,IAARC,EAAoB9B,EAASsB,EAAgBQ,EAAK9B,GAC/D,MAAO+B,EAASH,EAAOF,EAAEE,KAAWxK,EACpC,OAAOsK,I,uBCfT,IAAIM,EAAI,EAAQ,QACZC,EAAmB,EAAQ,QAI/BD,EAAE,CAAEE,OAAQ,SAAUC,MAAM,GAAQ,CAClChB,UAAWc,K,kCCNb,IAAIvL,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACW,YAAY,oBAAoB,CAACX,EAAG,UAAU,CAACW,YAAY,mBAAmBJ,MAAM,CAAC,QAAS,EAAK,MAAQX,EAAIoB,SAAS,CAAChB,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,UAAY,GAAG,YAAc,MAAM,SAAW,YAAYe,MAAM,CAACjB,MAAOT,EAAIoB,OAAiB,WAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,aAAcQ,IAAMlB,WAAW,sBAAsBV,EAAI8C,GAAI9C,EAAe,aAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKzB,WAAWX,MAAM,CAAC,MAAQoC,EAAK0I,aAAa,MAAQ1I,EAAKzB,aAAa,CAAClB,EAAG,OAAO,CAACsL,MAAiB,GAAX3I,EAAKiC,KAAU,cAAe,IAAI,CAAChF,EAAIY,GAAGZ,EAAIa,GAAGkC,EAAK0I,sBAAqB,IAAI,GAAGrL,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACP,EAAG,iBAAiB,CAACO,MAAM,CAAC,KAAO,YAAY,kBAAkB,IAAI,eAAe,aAAa,oBAAoB,OAAO,kBAAkB,QAAQe,MAAM,CAACjB,MAAOT,EAAa,UAAE2B,SAAS,SAAUC,GAAM5B,EAAI2L,UAAU/J,GAAKlB,WAAW,gBAAgB,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACP,EAAG,WAAW,CAACW,YAAY,mBAAmBJ,MAAM,CAAC,YAAc,OAAOe,MAAM,CAACjB,MAAOT,EAAIoB,OAAe,SAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,WAAYQ,IAAMlB,WAAW,sBAAsB,GAAGN,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,UAAU,KAAO,SAAS,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,UAAY,GAAG,UAAY,MAAM,WAAa,GAAG,YAAc,OAAOe,MAAM,CAACjB,MAAOT,EAAIoB,OAAkB,YAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,cAAeQ,IAAMlB,WAAW,uBAAuBV,EAAI8C,GAAI9C,EAAgB,cAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAKJ,YAAYhC,MAAM,CAAC,MAAQoC,EAAKE,cAAc,MAAQF,EAAKJ,kBAAiB,IAAI,GAAGvC,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,MAAM,KAAO,OAAO,KAAO,aAAa,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,UAAY,GAAG,YAAc,OAAOK,GAAG,CAAC,MAAQhB,EAAI4L,mBAAmBlK,MAAM,CAACjB,MAAOT,EAAIoB,OAAe,SAAEO,SAAS,SAAUC,GAAM5B,EAAI6B,KAAK7B,EAAIoB,OAAQ,WAAYQ,IAAMlB,WAAW,oBAAoBV,EAAI8C,GAAI9C,EAAgB,cAAE,SAAS+C,GAAM,OAAO3C,EAAG,YAAY,CAAC4C,IAAID,EAAK8I,YAAYlL,MAAM,CAAC,MAAQoC,EAAK+I,cAAc,MAAQ/I,EAAK8I,kBAAiB,IAAI,GAAGzL,EAAG,eAAe,CAAC0B,YAAY,GAAGnB,MAAM,CAAC,KAAO,SAAS,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWK,GAAG,CAAC,MAAQhB,EAAI+L,WAAW,CAAC/L,EAAIY,GAAG,QAAQR,EAAG,YAAY,CAACO,MAAM,CAAC,MAAQ,GAAG,KAAO,QAAQK,GAAG,CAAC,MAAQhB,EAAIgM,UAAU,CAAChM,EAAIY,GAAG,SAAS,IAAI,GAAGZ,EAAIiM,GAAG,GAAG7L,EAAG,MAAM,CAACW,YAAY,mBAAmB,CAACX,EAAG,WAAW,CAAC0B,YAAY,CAAC,MAAQ,QAAQnB,MAAM,CAAC,yBAAwB,EAAK,iBAAiB,QAAQ,OAAS,GAAG,KAAOX,EAAIkM,UAAU,aAAa,OAAOlL,GAAG,CAAC,YAAYhB,EAAImM,uBAAuB,CAAC/L,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,MAAQ,KAAK,MAAQ,MAAMyL,YAAYpM,EAAIqM,GAAG,CAAC,CAACrJ,IAAI,UAAUsJ,GAAG,SAASxG,GAAO,MAAO,CAAC1F,EAAG,WAAW,CAACO,MAAM,CAAC,MAAQmF,EAAMN,IAAI+G,UAAU7K,MAAM,CAACjB,MAAOT,EAAS,MAAE2B,SAAS,SAAUC,GAAM5B,EAAIwM,MAAM5K,GAAKlB,WAAW,UAAU,CAACV,EAAIY,GAAGZ,EAAIa,GAAG,gBAAgBT,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,WAAW,MAAQ,SAASP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,gBAAgB,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,gBAAgB,MAAQ,aAAaP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,MAAM,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,cAAc,MAAQ,YAAYP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,gBAAgB,MAAQ,WAAWP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,aAAa,MAAQ,SAASP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,gBAAgB,MAAQ,SAASP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,eAAe,MAAQ,SAASP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,SAAS,MAAQ,SAAS,IAAI,GAAGP,EAAG,IAAI,CAAC0B,YAAY,CAAC,OAAS,WAAW,gBAAgB,wBAAwB9B,EAAIiM,GAAG,GAAG7L,EAAG,MAAM,CAACW,YAAY,mBAAmB,CAACX,EAAG,WAAW,CAAC0B,YAAY,CAAC,MAAQ,QAAQnB,MAAM,CAAC,yBAAwB,EAAK,iBAAiB,QAAQ,OAAS,GAAG,KAAOX,EAAIyM,WAAW,aAAa,OAAOzL,GAAG,CAAC,mBAAmBhB,EAAI0M,wBAAwB,CAACtM,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,KAAO,YAAY,MAAQ,OAAO,MAAQ,SAAS,MAAQ,QAAQP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,WAAW,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,aAAa,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,MAAQ,KAAK,SAAW,YAAY,MAAQ,QAAQP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,iBAAiB,MAAQ,SAASP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,YAAY,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,qBAAqB,MAAQ,YAAYP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,sBAAsB,MAAQ,WAAWP,EAAG,kBAAkB,CAACO,MAAM,CAAC,yBAAwB,EAAK,SAAW,SAAS,MAAQ,UAAU,IAAI,GAAGP,EAAG,MAAM,CAACW,YAAY,gBAAgBJ,MAAM,CAAC,KAAO,UAAU+C,KAAK,UAAU,CAACtD,EAAG,YAAY,CAACY,GAAG,CAAC,MAAQhB,EAAI2M,mBAAmB,CAAC3M,EAAIY,GAAG,SAASR,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWK,GAAG,CAAC,MAAQhB,EAAI4M,mBAAmB,CAAC5M,EAAIY,GAAG,UAAU,IAAI,MAC1+KgE,EAAkB,CAAC,WAAa,IAAI5E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACW,YAAY,aAAa,CAACX,EAAG,IAAI,CAACJ,EAAIY,GAAG,mBAAmB,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACW,YAAY,aAAa,CAACX,EAAG,IAAI,CAACJ,EAAIY,GAAG,oB,YC0GtT,GACEmE,KADF,WAEI,MAAO,CACL3D,OAAQ,GACRyL,aAAc,GACdC,KAAM,KACNnB,UAAW,GACXoB,kBAAmB,GACnBC,aAAc,GACdC,YAAa,GAEbf,UAAW,GACXO,WAAY,GACZD,MAAO,KACPU,OAAQ,EACRC,SAAU,GACVC,SAAU,CAAC,GAAI,GAAI,IAAK,KACxBb,SAAU,GACVc,SAAS,IAGb7E,QAAS,CACPuD,SADJ,WAEU9L,KAAK0L,WAAsC,GAAzB1L,KAAK0L,UAAUtC,QACnCpJ,KAAKmB,OAAOkM,WAAarN,KAAK0L,UAAU,GACxC1L,KAAKmB,OAAOmM,SAAWtN,KAAK0L,UAAU,IAEtC1L,KAAKmB,OAAOkM,WAAarN,KAAKmB,OAAOmM,SAAW,GAElD,OAAN,OAAM,CACN,KACA,CACQ,IAAR,oCACQ,OAAR,aAEA,cAGIb,sBAjBJ,SAiBA,GACMzM,KAAK8M,kBAAoBS,GAE3BxB,QApBJ,WAqBM/L,KAAK4B,KAAK5B,KAAM,SAAU,IAC1BA,KAAK4B,KAAK5B,KAAKmB,OAAQ,aAAcnB,KAAKwN,IAAInM,YAC9CrB,KAAK0L,UAAY,GACjB,OAAN,OAAM,CACN,KACA,CACQ,IAAR,oCACQ,OAAR,aAEA,cAGIQ,qBAjCJ,SAiCA,cACMlM,KAAKuM,MAAQgB,EAAIjB,SACjBtM,KAAK0J,UACX,qBACQ,WAAR,oBACQ,aAAR,sBACQ,SAAR,aAEA,kBAAQ,IAAR,SACA,cACU,EAAV,iBACU,EAAV,kCAIIgD,iBAhDJ,WAiDM1M,KAAKyN,MAAM,eAAe,IAE5Bd,iBAnDJ,WAoDM,IAAK3M,KAAK8M,kBAAkB1D,OAE1B,OADApJ,KAAKsJ,SAASoE,MAAM,cACb,EAET,IAAN,qDACM1N,KAAKyN,MAAM,mBAAoBvE,KAGnCyE,MAAO,CAAC,OACRC,QAlFF,WAmFI5N,KAAKmB,OAAS,CACZuB,YAAa1C,KAAKwN,IAAI9K,YACtBrB,WAAYrB,KAAKwN,IAAInM,WACrBwM,SAAU7N,KAAKwN,IAAIK,SACnBzL,aAAcpC,KAAKwN,IAAIpL,cAEzB0L,OAAOC,OAAO/N,KAAKwN,IAAK,CACtB5B,YAAa5L,KAAKwN,IAAIK,SACtBhC,cAAe7L,KAAKwN,IAAIQ,aAE1B,OAAJ,OAAI,CACJ,KACA,CACM,IAAN,oCACM,OAAN,aAEA,aAEI,OAAJ,OAAI,CAAJ,eACIF,OAAOC,OAAO/N,KAAKiO,aAAc,CAC/BrC,YAAa5L,KAAKwN,IAAIK,SACtBhC,cAAe7L,KAAKwN,IAAIQ,aAE1B,OAAJ,OAAI,CAAJ,MACI,OAAJ,OAAI,CAAJ,kBACIhO,KAAK2L,sBCvN6Y,I,YCOlZ/G,EAAY,eACd,EACA9E,EACA6E,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,2CCjBf,IAAIwG,EAAI,EAAQ,QACZ8C,EAAS,EAAQ,QACjBC,EAAc,EAAQ,QACtBC,EAAsB,EAAQ,QAC9BC,EAAkB,EAAQ,QAC1BC,EAAU,EAAQ,QAClBC,EAAQ,EAAQ,QAEhBC,EAAaN,EAAOM,WACpBC,EAASP,EAAOO,OAChBC,EAAQC,KAAKD,MACbE,EAAST,EAAYG,GACrBO,EAAcV,EAAY,GAAGW,OAC7BC,EAAaZ,EAAY,GAAI3D,SAE7BwE,EAAM,SAAUC,EAAGC,EAAGC,GACxB,OAAa,IAAND,EAAUC,EAAMD,EAAI,IAAM,EAAIF,EAAIC,EAAGC,EAAI,EAAGC,EAAMF,GAAKD,EAAIC,EAAIA,EAAGC,EAAI,EAAGC,IAG9EC,EAAM,SAAUH,GAClB,IAAIC,EAAI,EACJG,EAAKJ,EACT,MAAOI,GAAM,KACXH,GAAK,GACLG,GAAM,KAER,MAAOA,GAAM,EACXH,GAAK,EACLG,GAAM,EACN,OAAOH,GAGPI,EAAW,SAAUxK,EAAMoK,EAAGK,GAChC,IAAIvE,GAAS,EACTwE,EAAKD,EACT,QAASvE,EAAQ,EACfwE,GAAMN,EAAIpK,EAAKkG,GACflG,EAAKkG,GAASwE,EAAK,IACnBA,EAAKd,EAAMc,EAAK,MAIhBC,EAAS,SAAU3K,EAAMoK,GAC3B,IAAIlE,EAAQ,EACRuE,EAAI,EACR,QAASvE,GAAS,EAChBuE,GAAKzK,EAAKkG,GACVlG,EAAKkG,GAAS0D,EAAMa,EAAIL,GACxBK,EAAKA,EAAIL,EAAK,KAIdQ,EAAe,SAAU5K,GAC3B,IAAIkG,EAAQ,EACR2E,EAAI,GACR,QAAS3E,GAAS,EAChB,GAAU,KAAN2E,GAAsB,IAAV3E,GAA+B,IAAhBlG,EAAKkG,GAAc,CAChD,IAAI4E,EAAInB,EAAO3J,EAAKkG,IACpB2E,EAAU,KAANA,EAAWC,EAAID,EAAIf,EAAO,IAAK,EAAIgB,EAAExG,QAAUwG,EAErD,OAAOD,GAGPE,EAAStB,GAAM,WACjB,MAAkC,UAA3BQ,EAAW,KAAS,IACF,MAAvBA,EAAW,GAAK,IACS,SAAzBA,EAAW,MAAO,IACuB,wBAAzCA,EAAW,kBAAuB,QAC/BR,GAAM,WAEXQ,EAAW,OAKb3D,EAAE,CAAEE,OAAQ,SAAUwE,OAAO,EAAMC,OAAQF,GAAU,CACnDrF,QAAS,SAAiBwF,GACxB,IAKIC,EAAGC,EAAGC,EAAGC,EALTC,EAAShC,EAAgBrO,MACzBsQ,EAAclC,EAAoB4B,GAClClL,EAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACvByL,EAAO,GACPC,EAAS,IAGb,GAAIF,EAAc,GAAKA,EAAc,GAAI,MAAM9B,EAAW,6BAE1D,GAAI6B,GAAUA,EAAQ,MAAO,MAC7B,GAAIA,IAAW,MAAQA,GAAU,KAAM,OAAO5B,EAAO4B,GAKrD,GAJIA,EAAS,IACXE,EAAO,IACPF,GAAUA,GAERA,EAAS,MAKX,GAJAJ,EAAIb,EAAIiB,EAASrB,EAAI,EAAG,GAAI,IAAM,GAClCkB,EAAID,EAAI,EAAII,EAASrB,EAAI,GAAIiB,EAAG,GAAKI,EAASrB,EAAI,EAAGiB,EAAG,GACxDC,GAAK,iBACLD,EAAI,GAAKA,EACLA,EAAI,EAAG,CACTX,EAASxK,EAAM,EAAGoL,GAClBC,EAAIG,EACJ,MAAOH,GAAK,EACVb,EAASxK,EAAM,IAAK,GACpBqL,GAAK,EAEPb,EAASxK,EAAMkK,EAAI,GAAImB,EAAG,GAAI,GAC9BA,EAAIF,EAAI,EACR,MAAOE,GAAK,GACVV,EAAO3K,EAAM,GAAK,IAClBqL,GAAK,GAEPV,EAAO3K,EAAM,GAAKqL,GAClBb,EAASxK,EAAM,EAAG,GAClB2K,EAAO3K,EAAM,GACb0L,EAASd,EAAa5K,QAEtBwK,EAASxK,EAAM,EAAGoL,GAClBZ,EAASxK,EAAM,IAAMmL,EAAG,GACxBO,EAASd,EAAa5K,GAAQ8J,EAAO,IAAK0B,GAU5C,OAPEA,EAAc,GAChBF,EAAII,EAAOpH,OACXoH,EAASD,GAAQH,GAAKE,EAClB,KAAO1B,EAAO,IAAK0B,EAAcF,GAAKI,EACtC3B,EAAY2B,EAAQ,EAAGJ,EAAIE,GAAe,IAAMzB,EAAY2B,EAAQJ,EAAIE,KAE5EE,EAASD,EAAOC,EACTA,M,kCChIb,W,qBCAA,IAAIpF,EAAI,EAAQ,QACZqF,EAAO,EAAQ,QACfC,EAAmB,EAAQ,QAI/BtF,EAAE,CAAEE,OAAQ,QAASwE,OAAO,GAAQ,CAClCW,KAAMA,IAIRC,EAAiB,S,gKCHJC,EAAS,CACpB7L,KADoB,WAElB,MAAO,IAET8L,UAJoB,WAKlB,IAAIC,EAAe7Q,KAAKsC,OAAOnB,OAC3B0P,EAAaC,cACf9Q,KAAK+Q,qCAAqCF,IAG9CtI,QAAS,iCACJyI,eAAW,CAAC,mBADV,IAELC,eAFO,WAEU,WACXjR,KAAKmB,OAAOuB,aAAe1C,KAAKmB,OAAOE,YACzCrB,KAAK0J,UACFuH,eAAe,CACdC,UAAW,EACXxO,YAAa1C,KAAKmB,OAAOuB,YACzBrB,WAAYrB,KAAKmB,OAAOE,aAEzB0H,MAAK,YAAc,IAAXjE,EAAW,EAAXA,KACU,KAAbA,EAAK8E,MACP,EAAKhI,KACH,EAAKT,OACL,iBACA2D,EAAKA,KAAKqM,oBAOtBC,cAtBO,SAsBO7L,GACZvF,KAAKqR,cAAc,CACjBtM,KAAM,WACNuM,UAAW/L,EACXgM,OAAQ5C,KAAKD,MAAsB,IAAhBC,KAAK4C,YAE1BvR,KAAKwR,QAAQC,KAAK,CAChBC,KAAM,qCAIVX,qCAjCO,SAiC8B5P,GAAQ,WAC3CnB,KAAKoN,SAAU,EACfpN,KAAK0J,UAAUiI,iCAAiCxQ,EAAOyQ,YAAY7I,MAAK,YAElE,IADJjE,EACI,EADJA,KAGA,GADA,EAAKsI,SAAU,EACE,KAAbtI,EAAK8E,KAAa,CACpB,IAAIiI,EAAQ/M,EAAKA,KAAK+H,KACpBiF,EAAahN,EAAKA,KAAKgN,WAezB,OAdAhE,OAAOiE,KAAKF,GAAOhI,SAAQ,SAAA9G,GACzB,EAAKnB,KAAK,EAAKT,OAAQ4B,EAAK8O,EAAM9O,OAGpC,EAAK5B,OAAO6Q,OAASH,EAAMI,SACK,GAA5B,EAAK9Q,OAAOiB,eAAmB,EAAKjB,OAAOiB,aAAe,IAC1D6E,OAAOC,aAAa7F,aAAewQ,EAAMxQ,YAC3C,EAAKO,KAAK,EAAKT,OAAQ,gBAAiB,IACxC,EAAKS,KAAK,EAAKT,OAAQ,WAAY,KACzB,EAAKA,OAAO8B,gBACtB,EAAKrB,KAAK,EAAKT,OAAQ,gBAAiB8F,OAAOC,aAAajE,gBAC5D,EAAKrB,KAAK,EAAKT,OAAQ,WAAY8F,OAAOC,aAAa0E,eAEzDsG,eAAY,EAAML,GACV1Q,EAAO2P,cACb,KAAK,EACC,EAAKqB,YAAY7F,UAAU,EAAK8F,cAAc,IAClDN,EAAaA,EAAW7H,KAAI,SAAAnH,GAK1B,OAJAA,EAAKqD,kBAAoBrD,EAAKqD,UAC9BrD,EAAKuP,gBAAkBvP,EAAKuP,QAC5BvP,EAAKwP,oBAAsBxP,EAAKyP,UAChC,EAAKvK,WAAW,CAAEzC,IAAKzC,EAAM0G,OAAQ,CAAEC,SAAU,eAC1C3G,KAET,EAAK2F,MAAMC,OAAOC,OAAO,WAAYmJ,GACrC,MACF,KAAK,EACHA,EAAaA,EAAW7H,KAAI,SAAAnH,GACrBA,EAAK+F,OACR,EAAKjH,KAAKkB,EAAM,QAAS,EAAKgG,WAEhC,EAAKlH,KAAKkB,EAAM,sBAAuBA,EAAKyP,WAC5CzP,EAAKyP,kBAAoBzP,EAAKyP,UAC9B,IAAIC,EAAQ,CACVlI,IAAK,sBACLmI,MAAO,iBACPC,WAAY,kBAGd,OADA,EAAKC,cAAcC,aAAa9P,EAAM0P,EAAO,sBAAuB,GAC7D1P,KAET,EAAKmB,UAAY6N,EACjB,WAQLe,OAAM,SAAAnF,GACPoF,QAAQ1D,IAAI1B,GACZ,EAAKN,SAAU,EACf,EAAK9D,SAAS,CACZvE,KAAM,QACNgO,QAAS,oB,+/GC0BnB,0BACEzS,KAAM,uBACNuE,OAAQ,CAAC,sDAAX,uGACEC,KAHF,WAII,MAAO,CACLkO,mBAAmB,EAEnBjP,YAAa,CACXkP,GAAI,WACJC,MAAM,EACNC,QAAS,CAEPC,SAAS,EACTC,WAAW,IAGfpS,MAAO,KACP0C,WAAW,EACXyJ,SAAS,EACTkG,OAAO,EACPnS,OAAQ,GACRoS,QAAS,GACTC,KAAK,EACLhP,mBAAmB,EACnBiP,SAAU,GACVnS,UAAU,EACVoS,eAAgB,CACtB,CACQ,MAAR,EACQ,MAAR,OAEA,CACQ,MAAR,EACQ,MAAR,SAEA,CACQ,MAAR,EACQ,MAAR,UAGMC,KAAM,GACNC,UAAW,GACXnM,KAAM,GACNoM,aAAc,EACdC,YAAa,GACbC,QAAS,OAGbpG,MAAO,CACL9M,OAAQ,CACNkE,KAAM0J,OACNnJ,QAAS,QAEX0O,UAAW,CACTjP,KAAM0J,OACNnJ,QAAS,wBAGb2O,WAAY,CACVC,WAAJ,sDAEE3L,QAAS,CACPhH,eADJ,SACA,KACMvB,KAAKgT,kBAAoB9J,EAAIiL,oBAC7BnU,KAAKyI,MAAM2L,SAASC,cAAc,iBAEpCzR,eALJ,WAKA,WACA,OACA,oBACA,uBACA,8BACQ,QAAR,cAEM,IAAKqJ,EAAU7C,OAAQ,OAAO,EAC9BpJ,KAAKsU,SAAS,0BAA2B,KAAM,CAC7CC,kBAAmB,KACnBC,iBAAkB,KAClBzP,KAAM,YAEd,iBACQ,IAAR,iBACQ,EAAR,uDACU,EAAV,iBACU,EAAV,oCAGQ,EAAR,yBAEA,kBACQ,EAAR,0BAGItC,gBA/BJ,WA+BA,WACMzC,KAAKyI,MAAMC,OAAOC,OAAO,gBACzB,IAAN,oBACMH,EAAOG,OAAO,gBAAgB8L,SAAS5K,QAA7C,gRACA,qBACA,wBACA,sBAHA,gCAIA,eAJA,mGAQI3G,iBA1CJ,WA2CMlD,KAAK4B,KAAK5B,KAAKmB,OAAQ,WAAY,KAErC2H,QA7CJ,WA8CM,IAAI4L,EAAQ,IAAIC,KACZC,EAAW,IAAID,KAAKD,EAAMG,cAAe,EAAG,GAC5CC,EAAYF,EAASG,SACrBC,EAAW,EACE,GAAbF,IACFE,EAAW,EAAIF,EAAY,GAE7BF,EAAW,IAAID,KAAKD,EAAMG,cAAe,EAAG,EAAIG,GAChD,IAAIC,EAAItG,KAAKuG,MAAMR,EAAMS,UAAYP,EAASO,WAAa,OACvD3E,EACV,mCACA,iBADA,WAEA,kBACU4E,EAAOV,EAAMG,cAAc1L,WAAWkM,UAAU,GACpD,MAAO,GAAb,qBAEIvO,YA9DJ,SA8DA,KACM,IAAN,QACMvB,EAAIqC,gBAAkB,GACtBrC,EAAIsC,cAAgB,GACpB7H,KAAK4B,KAAK2D,EAAK,WAAY/E,EAAMwF,UACjChG,KAAK4B,KAAK2D,EAAK,YAAa/E,EAAM2F,WAClCnG,KAAK4B,KAAK2D,EAAK,mBAAoB/E,EAAM8F,kBACzCtG,KAAK4B,KAAK2D,EAAK,UAAW/E,EAAM8U,SAChCtV,KAAK4B,KAAK2D,EAAK,iBAAkB,GACjCvF,KAAK4B,KACX,EACA,iBACA,sCAEM5B,KAAK4B,KAAK2D,EAAK,eAAgB/E,EAAM0F,cACrClG,KAAKuV,oBACDvV,KAAKmB,OAAOiB,cACdpC,KAAK8H,UAAUjC,EAAMN,KAEvB,IAAIiQ,GAAe,EACzB,oBACMhN,EAAOG,OAAO,gBAAgB8L,SAAS5K,SAAQ,SAArD,GACa/G,EAAKkD,WAAUwP,GAAe,MAEjCA,GACFxV,KAAK6D,UAGT7C,OA1FJ,WA2FMhB,KAAK2S,cAAc1F,OAAOjN,KAAKwC,cAC/BxC,KAAKwR,QAAQC,KAAK,CAAxB,uBAEI8D,kBA9FJ,WA8FA,WACA,oDAC0C,GAAhCvV,KAAKmB,OAAOsU,kBACdxR,EAAU4F,SAAQ,SAA1B,KACU,EAAV,+BAKI6L,yBAvGJ,WAuGA,WAEM,IAAMzO,OAAOjH,KAAKmB,OAAOwU,eAAgB3V,KAAKmB,OAAOsU,iBAC3D,SACM,IAAN,oBACA,uBACA,8BACQ,QAAR,cAEA,qBAEQ,OADAvM,EAAIqJ,UAAYrJ,EAAIoJ,oBACbpJ,KAETlJ,KAAK4V,OAAO,CACVC,OAAQ,OACRzN,IAAKpI,KAAK8V,KAAKJ,yBACf5Q,KAAM,CACJ2Q,iBAAkBzV,KAAKmB,OAAOsU,iBAC9BE,YAAa3V,KAAKmB,OAAOwU,YACzBI,WAAYC,KAAKC,UAAUC,MAErC,+BACQ,GAAiB,KAAbpR,EAAK8E,KAAa,CACpB,IAAV,oBACA,IACU,EAAV,kEACgB2D,EAAIvH,UAAYuH,EAAI4I,iBACtB5I,EAAIoI,YAAcS,EAAQC,GAAKV,YAC/BU,QAGJ,EAAV,yCAII7Q,YA1IJ,SA0IA,GACM,IAAN,6CACMxF,KAAKyI,MAAMC,OAAOC,OAAO,WAAY2N,GAAO,GAC5CtW,KAAKyI,MAAMC,OAAOC,OAAO,iBAE3BnF,UA/IJ,WAgJM,GAA+B,GAA3BxD,KAAKmB,OAAOwU,aAAoD,GAAhC3V,KAAKmB,OAAOsU,iBAE9C,OADAzV,KAAKsJ,SAASC,QAAQ,aACf,EAET,IAAN,oBACA,uBACA,8BACQ,OAAR,cAEUwM,EAAW3M,QACbpJ,KAAKuV,oBACLvV,KAAK0V,4BAEL1V,KAAKsJ,SAASC,QAAQ,cAG1BvH,WAhKJ,WAkKM,IAAKhC,KAAKmB,OAAOE,WAEf,OADArB,KAAKsJ,SAASC,QAAQ,YACf,EAEP,IAAR,oDACA,wBACU,OAAOgE,EAAIvH,YAEb,GAAIuQ,EAAWnN,SAAWpJ,KAAKsB,SAE7B,OADAtB,KAAKsJ,SAASC,QAAQ,iBACf,EAEPvJ,KAAKwE,mBAAoB,GAI/BC,YAlLJ,WAmLMzE,KAAKwE,mBAAoB,GAE3BE,iBArLJ,SAqLA,cAEM,GADA1E,KAAKyI,MAAMC,OAAOC,OAAO,YACrB4E,EAAIuE,WAAW1I,OAAS,GAG1B,OAAO,EAFPpJ,KAAKsB,UAAW,EAIlB,CACN,WACA,WACA,aACA,gBACA,WACA,aACA,SACA,cACA,iBACA,4DACM,IAAN,mCACQ,OAAO4H,EAAIoJ,oBAAsB,KAGnCrO,EAAYA,EAAUgG,KAAI,SAAhC,GAEQ,OADA,EAAR,mCACe6D,OAAOC,OAAO,GAAI7E,EAAK,CAC5BL,MAAO,EAAjB,UACUnB,eAAgB,EAChBE,gBAAiB,GACjBC,cAAe,GACfe,gBAAiB,QAGrB,IAAN,SACMkF,OAAOC,OAAOyI,EAAW,CACvB5K,YAAa2B,EAAIV,KAAKgB,SACtBhC,cAAe0B,EAAIV,KAAKmB,aAE1B,OAAN,4EAAM,CAAN,QACMhO,KAAKyW,oBAAoBxS,GACzB,IAAN,oBACMuE,EAAOG,OAAO,WAAY1E,GAAY,GACtCjE,KAAKyI,MAAMC,OAAOC,OAAO,gBACzB3I,KAAKwE,mBAAoB,EACzBsO,QAAQ1D,IAAIpP,KAAKmB,SAEnBsV,oBAlOJ,SAkOA,GACM,IAAN,YACMxS,EAAU4F,SAAQ,SAAxB,GACQ6M,EAAcjF,KAAK,CACjB5J,cAAe0F,EAAI1F,cACnBD,gBAAiB2F,EAAI3F,qBAGzB,IAAN,KACM8O,EAAgBA,EAAcC,QAAO,SAA3C,KAIQ,OAHAzN,EAAI0N,EAAK/O,iBAEjB,8BACegP,IACf,IACM7W,KAAK8W,eAAiBJ,GAExBlV,cAnPJ,uBAmPA,qBACMxB,KAAKyI,MAAMC,OAAOC,OAAO,UACzB3I,KAAK4B,KAAK5B,KAAKmB,OAAQ,gBAAiB,IACxCnB,KAAK4B,KAAK5B,KAAKmB,OAAQ,WAAY,IACnCnB,KAAK4B,KAAK5B,KAAKmB,OAAQ,cAAe,IACtCnB,KAAK4B,KAAK5B,KAAKmB,OAAQ,eAAgB,IACvCnB,KAAK+W,UAAUC,YAAY,CAAjC,6CACQ,GAAI9P,aAAa+P,iBAAkB,CACjC,IAAV,+CACU,OAAV,uCAGMjX,KAAKuB,eAAe,GAAIgM,MAE1B2J,KAjQJ,WAiQA,WACMC,YAAW,WACT,EAAR,6BACA,IAGI5S,OAvQJ,SAuQA,cACMvE,KAAKyI,MAAMC,OAAOC,OAAO,gBACzB,IAAN,oDACM3I,KAAKyI,MAAM2O,GAAUC,UAAS,SAApC,GACQ,GAAIC,EAAO,CACT,IAAKrT,EAAUmF,OAEb,OADA,EAAZ,6BACmB,EAET,IAAImO,EAAatT,EAAUuT,QAAO,SAA5C,GACY,OAAOjK,EAAIvH,YAEb,IAAKuR,EAAWnO,OAEd,OADA,EAAZ,sCACmB,EAIT,IADA,IAAV,KACmBzC,EAAI,EAAGA,EAAI4Q,EAAWnO,OAAQzC,IAAK,CAC1C,IAAK4Q,EAAW5Q,GAAGkC,MAIjB,OAHA,EAAd,kBACgBkK,QAAS,iBAEJ,EACrB,4BAIc,OAHA,EAAd,kBACgBA,QAAS,YAEJ,EACrB,6BAIc,OAHA,EAAd,kBACgBA,QAAS,aAEJ,EAET,GACZ,yBACA,uBAUc,OARA,EAAd,oBACA,gBACA,KACA,qBAEc,EAAd,kBACgBA,QAAS,aAEJ,EAET0E,EAAWhG,KAAK,CACd6D,QAASiC,EAAW5Q,GAAG2O,QACvBoC,cAAeH,EAAW5Q,GAAG+Q,cAC7BC,iBAAkBJ,EAAW5Q,GAAGgR,iBAChC3R,SAAUuR,EAAW5Q,GAAGX,SACxB4R,eAAgBL,EAAW5Q,GAAGiR,eAC5C,oBACA,EACclQ,eAAgB6P,EAAW5Q,GAAGe,eAC9BC,kBAAmB4P,EAAW5Q,GAAGgB,kBACjC4K,UAAWgF,EAAW5Q,GAAG2L,oBACzBuF,eAAgBN,EAAW5Q,GAAGkR,eAC9B7F,OAAQuF,EAAW5Q,GAAGqL,OAASuF,EAAW5Q,GAAGqL,OAAS,GACtD8F,mBAAoBP,EAAW5Q,GAAGmR,mBAChD,wBACA,EACcC,eAAgBR,EAAW5Q,GAAGoR,eAC9BlP,MAAO0O,EAAW5Q,GAAGkC,MACrBD,gBAAiB2O,EAAW5Q,GAAGiC,gBAC/BuN,eAAgBoB,EAAW5Q,GAAGwP,eAC9B6B,YAAaT,EAAW5Q,GAAGqR,YAC3B1R,iBAAkBiR,EAAW5Q,GAAGL,iBAChCuB,cAAe0P,EAAW5Q,GAAGkB,cAC3C,mBACA,KAGU,IAAIqB,EAAM,CACR+O,iBAAkB,EAA9B,wBACY3L,SAAU,EAAtB,gBACY5J,YAAa,EAAzB,mBACYrB,WAAY,EAAxB,kBACY4B,cAAe,EAA3B,qBACY4K,SAAU,EAAtB,gBACYqK,eAAgB,EAA5B,sBACY5U,oBAAqB,EAAjC,2BACYnB,cAAe,EAA3B,qBACYgW,iBAAkB,EAA9B,wBACYpT,KAAM,EACNiN,OAAQ,EAApB,cACY2D,YAAa,EAAzB,mBACYF,iBAAkB,EAA9B,wBACYrT,aAAc,EAA1B,oBACY2T,WAAYC,KAAKC,UAAUwB,IAE7B,EAAV,UACA,oBACY,UAAZ,YACY,YAAZ,iBACY,YAAZ,mBAEA,iBAEY,EAAZ,UACA,gBACc,WAAd,oBACc,aAAd,sBACc,UAAd,EACc,QAAd,eACc,eAAd,mBACc,WAAd,eACA,sBACgB,aAAhB,sBACgB,eAAhB,6BAIA,iBACA,eACgB,EAAhB,UACA,kBADA,qQAEA,GAFA,IAGkB,aAAlB,yBAEA,kBAAkB,IAAlB,SACA,cACoB,EAApB,UACsB,QAAtB,MACsB,KAAtB,YAEoB,EAApB,aAIgB,EAAhB,iDAAkB,IAAlB,SACA,cACA,qBACsB,EAAtB,QACwB,OAAxB,OACwB,IAAxB,oCACwB,KAAxB,CAC0B,aAA1B,uBAEA,kBACA,kBAC0B,EAA1B,UAC4B,QAA5B,YAC4B,KAA5B,eAKsB,EAAtB,UACwB,QAAxB,MACwB,KAAxB,YAGoB,EAApB,wBAyCIzP,WA5cJ,SA4cA,OACM,IAAN,GACQsC,IAAK,sBACLmI,MAAO,iBACPC,WAAY,iBACZ4C,QAAS,UACToC,cAAe,gBACfC,iBAAkB,oBAEpB3X,KAAK2S,cAAcC,aAAarN,EAAKiN,EAAOlS,EAAMN,MACnC,MAAXoY,GACFpY,KAAKwD,YAEPxD,KAAKyI,MAAMC,OAAOC,OAAO,iBAE3B0P,iBAAkB,SAAtB,OACMC,EAAKC,SAAS,GAAGA,SAAS,GAAGC,MAAMC,MAAQ,SAE7CC,eAAgB,SAApB,OACMJ,EAAKC,SAAS,GAAGA,SAAS,GAAGC,MAAMC,MAAQ,YAG/C7K,QA/hBF,mBA+hBA,iBAGI,GAFA5N,KAAKiB,MAAQjB,KAAKsC,OAAOC,MAAMC,aAAe,KAAO,KAEjDxC,KAAKsC,OAAOC,MAAMC,aACpBxC,KAAKwC,aAAexC,KAAKsC,OAAOC,MAAMC,aACtCxC,KAAK4V,OAAO,CACVC,OAAQ,MACRzN,IAAKpI,KAAK8V,KAAK6C,sBACfxX,OAAQ,CACNqB,aAAcxC,KAAKwC,gBAE7B,kBACQ,GAAqB,KAAjBoW,EAAI9T,KAAK8E,KAAa,CACxB,QAAV,gCACU,IAAV,2BACU,OAAV,4EAAU,CAAV,WACU,QAAV,2BACA,gDACA,GACA,6CACU,QAAV,2CACU,QAAV,gCACU,QAAV,wBACA,0CACqD,IAAvCgP,EAAI9T,KAAKA,KAAK+T,aAAaC,WAC7B,QAAZ,aAEU,QAAV,wCAGA,8BAEM9Y,KAAK0J,UACX,qBACQ,SAAR,6BAEA,kBAAQ,IAAR,SACA,cACU,QAAV,yBACU,QAAV,sDACA,WAGQ,QAAR,sCAEA,CACM,IAAN,iHACU,CAAC,EAAG,EAAG,GAAGS,SAASlD,OAAO2E,eAAiBmN,iBAAmB,EAChE/Y,KAAK4B,KAAK5B,KAAM,SAAU,CACxBqB,WAAY4F,OAAOC,aAAa7F,YAChCc,cAAenC,KAAK2S,cAAcqG,WAAW,IAAIrE,QAGnD3U,KAAK4B,KAAK5B,KAAM,SAAU,CACxBqB,WAAY4F,OAAOC,aAAa7F,YAChC4B,cAAegE,OAAOC,aAAajE,eACnC4K,SAAU5G,OAAOC,aAAa0E,aAC9BoC,WAAY9G,aAAa2E,cACzB1J,cAAenC,KAAK2S,cAAcqG,WAAW,IAAIrE,QAGrD3U,KAAK6D,SACL,OAAN,4EAAM,CAAN,mBACM7D,KAAKyI,MAAMwQ,eAAeC,UAE5B,GAAIhS,aAAa+P,iBAAkB,CACjC,IAAN,+CACMjX,KAAK2D,UAAqC,GAAzBwV,KAAKC,OAAO,GAAGhB,OAElCpY,KAAKiM,UAAUhI,UAAUwN,KAAK,CAC5B7I,gBAAiB,GACjBC,MAAO7I,KAAK8I,e,qBCnvBlB,IAAIuQ,EAAW,EAAQ,QAEnB3K,EAAQC,KAAKD,MAKjB9D,EAAOC,QAAU5D,OAAOsD,WAAa,SAAmB+O,GACtD,OAAQD,EAASC,IAAOC,SAASD,IAAO5K,EAAM4K,KAAQA","file":"js/chunk-5716a194.1a073db4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.titles))]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"采购入库管理\")])]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.title)+\"采购入库单\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\",\"prop\":\"company_id\",\"rules\":_vm.rules.company_id}},[_c('erpCompanyList',{ref:\"erpCompanyList\",attrs:{\"fatherParams\":_vm.params,\"disabled\":_vm.disabled},on:{\"getList\":_vm.getCompanyList,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"disabled\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.instorage_sn),callback:function ($$v) {_vm.$set(_vm.params, \"instorage_sn\", $$v)},expression:\"params.instorage_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"来源单据\",\"size\":\"mini\",\"prop\":\"instorage_sn\"}},[_c('el-input',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"readonly\":\"readonly\",\"suffix-icon\":\"el-icon-more\"},nativeOn:{\"click\":function($event){return _vm.quoteOrder.apply(null, arguments)}},model:{value:(_vm.params.order_sn),callback:function ($$v) {_vm.$set(_vm.params, \"order_sn\", $$v)},expression:\"params.order_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\",\"prop\":\"business_time\",\"rules\":_vm.rules.business_time}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"入库类型\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\",\"value\":\"采购入库\",\"disabled\":\"disabled\"}})],1),(_vm.warehouseRequired)?_c('el-form-item',{attrs:{\"label\":\"仓库名称\",\"size\":\"mini\",\"prop\":\"warehouse_id\",\"rules\":_vm.rules.warehouse_id}},[_c('erpWarehouse',{attrs:{\"searchParams\":{\n            company_id: _vm.params.company_id,\n            operation_type: _vm.$route.query.instorage_id ? 2 : 1\n          },\"fatherParams\":_vm.params},on:{\"change\":_vm.warehouseChange},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}})],1):_c('el-form-item',{attrs:{\"label\":\"仓库名称\",\"size\":\"mini\"}},[_c('erpWarehouse',{attrs:{\"searchParams\":{\n            company_id: _vm.params.company_id,\n            operation_type: _vm.$route.query.instorage_id ? 2 : 1\n          },\"fatherParams\":_vm.params},on:{\"change\":_vm.warehouseChange},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\",\"prop\":\"supplier_id\",\"rules\":_vm.rules.supplier_id}},[_c('el-select',{ref:\"supplier\",attrs:{\"clearable\":\"\",\"maxlength\":\"100\",\"disabled\":_vm.disabled,\"filter-method\":_vm.supplierListInvok,\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.supplierListInvok,\"change\":_vm.supplierChange},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplierList),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.department_id == 0) { _vm.params.department_id = null; } })())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"disabled\":_vm.disabled},on:{\"change\":_vm.departmentChange,\"focus\":_vm.DepartmentListInvok},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\"}},[_c('erpEmployee',{attrs:{\"fatherParams\":_vm.params,\"modelLabel\":\"buyer_name\",\"title\":\"请选择采购员\",\"disabled\":_vm.disabled,\"searchParams\":{ company_id: _vm.params.company_id }},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"付款方式\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.receivablesInvok},model:{value:(_vm.params.receivables_mode_id),callback:function ($$v) {_vm.$set(_vm.params, \"receivables_mode_id\", $$v)},expression:\"params.receivables_mode_id\"}},_vm._l((_vm.receivablesList),function(item){return _c('el-option',{key:item.receivables_mode_id,attrs:{\"label\":item.receivables_mode_name,\"value\":item.receivables_mode_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"其他费用\",\"size\":\"mini\"}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"金额\"},on:{\"change\":_vm.calcPrice},model:{value:(_vm.params.other_price),callback:function ($$v) {_vm.$set(_vm.params, \"other_price\", $$v)},expression:\"params.other_price\"}},[_c('el-select',{staticClass:\"styleInput\",attrs:{\"slot\":\"prepend\",\"clearable\":\"\"},on:{\"change\":_vm.calcPrice},slot:\"prepend\",model:{value:(_vm.params.other_price_type),callback:function ($$v) {_vm.$set(_vm.params, \"other_price_type\", $$v)},expression:\"params.other_price_type\"}},_vm._l((_vm.otherPriceType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"厂家发货单号\",\"size\":\"mini\"}},[_c('el-input',{model:{value:(_vm.params.factorysend_sn),callback:function ($$v) {_vm.$set(_vm.params, \"factorysend_sn\", $$v)},expression:\"params.factorysend_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"厂家发货日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.params.factorysend_time),callback:function ($$v) {_vm.$set(_vm.params, \"factorysend_time\", $$v)},expression:\"params.factorysend_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"交货方式\",\"size\":\"mini\"}},[_c('deliveryMethod',{model:{value:(_vm.params.transaction_type),callback:function ($$v) {_vm.$set(_vm.params, \"transaction_type\", $$v)},expression:\"params.transaction_type\"}})],1),_c('el-form-item',{attrs:{\"label\":\"入库来源\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.instorage_source_name),callback:function ($$v) {_vm.$set(_vm.params, \"instorage_source_name\", $$v)},expression:\"params.instorage_source_name\"}})],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(!_vm.onlyQuote)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.disabled},on:{\"click\":_vm.addRow}},[_vm._v(\"增行\")]):_vm._e(),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deleteRow}},[_vm._v(\"删行\")])],1),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"isEdit\":true,\"toolConfig\":_vm.tool_Config,\"showFooter\":true,\"footerMethod\":_vm.footerMethod,\"xData\":_vm.tableData,\"dragable\":\"\",\"column-min-width\":\"100\",\"tableColumn\":_vm.tableColumn,\"isShowTool\":true,\"editConfig\":{\n        trigger: 'click',\n        mode: 'cell',\n        autoClear: false,\n        activeMethod: _vm.activeMethod\n      }}})],1),_c('div',[_c('el-form',{ref:\"paramsFooter\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{staticStyle:{\"width\":\"1000px\"},attrs:{\"label\":\"单据备注：\",\"size\":\"mini\"}},[_c('el-input',{staticStyle:{\"width\":\"800px\"},model:{value:(_vm.params.remark),callback:function ($$v) {_vm.$set(_vm.params, \"remark\", $$v)},expression:\"params.remark\"}})],1),_c('br'),_c('el-form-item',{attrs:{\"label\":\"创建人：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.add_user_name),callback:function ($$v) {_vm.$set(_vm.params, \"add_user_name\", $$v)},expression:\"params.add_user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"创建时间：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.add_time),callback:function ($$v) {_vm.$set(_vm.params, \"add_time\", $$v)},expression:\"params.add_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"修改人：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.update_user_name),callback:function ($$v) {_vm.$set(_vm.params, \"update_user_name\", $$v)},expression:\"params.update_user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"修改时间：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.update_time),callback:function ($$v) {_vm.$set(_vm.params, \"update_time\", $$v)},expression:\"params.update_time\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"确 定\")])],1),(_vm.dialogBillVisible)?_c('div',[_c('el-dialog',{staticClass:\"dialogForm\",attrs:{\"close-on-click-modal\":false,\"title\":\"引用采购订单单据\",\"visible\":_vm.dialogBillVisible,\"width\":\"1030px\"},on:{\"update:visible\":function($event){_vm.dialogBillVisible=$event},\"close\":_vm.closeDialog}},[_c('source-bill',{attrs:{\"par\":_vm.params},on:{\"closedialog\":_vm.closeDialog,\"dialogformInline\":_vm.dialogformInline}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instorageAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instorageAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./instorageAdd.vue?vue&type=template&id=617bafd2&scoped=true&\"\nimport script from \"./instorageAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./instorageAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./instorageAdd.vue?vue&type=style&index=0&id=617bafd2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"617bafd2\",\n  null\n  \n)\n\nexport default component.exports","const mixins = {\n  data() {\n    return {\n      tableColumn: [\n        {\n          type: \"checkbox\",\n          width: 40\n        },\n        {\n          type: \"seq\",\n          title: \"序号\",\n          width: 50\n        },\n        {\n          field: \"goods_id\",\n          title: \"商品编号\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          width: 80\n        },\n        {\n          width: 60,\n          title: \"操作\",\n          fixed: \"right\",\n          slots: {\n            default: ({ row }) => {\n              return [\n                <i\n                  class=\"el-icon-document\"\n                  onClick={() => this.copyLineFun(row)}\n                  style={{ cursor: \"pointer\", fontSize: \"15px\" }}\n                >\n                  {\" \"}\n                </i>\n              ];\n            }\n          }\n        },\n        {\n          field: \"goods_name\",\n          title: \"商品名称\",\n          width: 300,\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            name: \"vGoods\",\n            getParams: scope => {\n              return {\n                params: {\n                  company_id: this.params.company_id,\n                  is_incomplete: 0\n                },\n                showObj: {\n                  // 渲染器展示列配置 (非必传 默认配置)\n                  goods_id: \"商品编号\",\n                  goods_name: \"商品名称\",\n                  factory_code: \"工厂代码\",\n                  unit_name: \"单位\",\n                  brand_name: \"品牌\",\n                  specification_type: \"规格型号\",\n                  supply_mode_name: \"供货方式\",\n                  logogram: \"助记码\"\n                },\n                getIcon: () => {\n                  if (scope.row.goods_name) {\n                    return [\n                      {\n                        icon: \"el-icon-close\",\n                        title: \"删除商品\",\n                        iconMethod: () => {\n                          for (var i in scope.row) {\n                            scope.row[i] = \"\";\n                          }\n                        }\n                      }\n                    ];\n                  } else {\n                    return [];\n                  }\n                }\n              };\n            },\n            events: {\n              change: this.changeGoods\n            }\n          }\n        },\n        {\n          field: \"batch\",\n          title: \"年周/批次\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          width: 150,\n          visible: Boolean(!Number(localStorage.getItem(\"is_company_service\"))),\n          editRender: {\n            autoselect: true,\n            name: \"number\",\n            placeholder: \"周周年年,如1421\",\n            events: {\n              blur: this.blurChange\n            }\n          }\n        },\n        {\n          field: \"unit_name\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          title: \"单位\",\n          width: 80\n        },\n        // visible\n        {\n          field: \"instorage_type_name\",\n          showOverflow: \"tooltip\",\n          title: \"入库类型\",\n          width: 200,\n          editRender: {\n            autoselect: true,\n            name: \"vSelect\",\n            getParams: () => {\n              return {\n                modelKey: \"instorage_type\",\n                list: [\n                  {\n                    label: \"良品入库\",\n                    value: 1\n                  },\n                  {\n                    label: \"不良品入库\",\n                    value: 2\n                  }\n                ]\n              };\n            },\n            events: {\n              change: ({ row }) => {\n                if (row.instorage_type === 1) {\n                  row.incomplete_reason = \"\";\n                }\n                row.allocation_name = \"\";\n                row.allocation_id = \"\";\n                this.ListGoods(row);\n              }\n            }\n          }\n        },\n        {\n          field: \"remaining_goods_num\",\n          title: \"入库数量\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            autoselect: true,\n            name: \"number\",\n            events: {\n              input: scope => {\n                this.handleEdit(\n                  scope.row,\n                  \"remaining_goods_num\",\n                  scope.$rowIndex\n                );\n              }\n            }\n          }\n        },\n\n        {\n          field: \"purchase_price\",\n          title: \"采购价\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            autoselect: true,\n            name: \"Vinput\",\n            events: {\n              input: scope => {\n                this.handleEdit(scope.row, \"purchase_price\", scope.$rowIndex);\n              }\n            }\n          }\n        },\n        {\n          field: \"subtotal_price\",\n          title: \"小计金额\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            autoselect: true,\n            name: \"Vinput\",\n            events: {\n              input: scope => {\n                this.handleEdit(scope.row, \"subtotal_price\", scope.$rowIndex);\n              }\n            }\n          }\n        },\n        {\n          field: \"revenue_price\",\n          showOverflow: true,\n          title: \"税额\",\n          editRender: {\n            autoselect: true,\n            name: \"Vinput\",\n            formatter: \"Positive\",\n            events: {\n              input: scope => {\n                this.handleEdit(scope.row, \"revenue_price\", scope.$rowIndex);\n              }\n            }\n          }\n        },\n        {\n          field: \"no_revenue_price\",\n          showOverflow: true,\n          title: \"不含税金额\"\n        },\n        {\n          field: \"other_price\",\n          title: \"其他费用\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\"\n        },\n        {\n          field: \"allocation_name\",\n          title: \"货位\",\n          width: 120,\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            name: \"vAllocation\",\n            getParams: ({ row }) => {\n              let _this = this;\n              return {\n                url: \"newAllocationListList\",\n                isPage: true,\n                params: {\n                  ..._this.params,\n                  goods_id: row.goods_id,\n                  is_incomplete: row.instorage_type == 1 ? 2 : 1\n                }\n              };\n            },\n            events: {\n              change: this.allocationChange\n            }\n          }\n        },\n        {\n          field: \"guidance_price\",\n          title: \"销售指导价\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          width: 110,\n          editRender: {\n            autoselect: true,\n            name: \"Vinput\"\n          }\n        },\n        {\n          field: \"factory_code\",\n          title: \"工厂代码\"\n          // showOverflow: true,\n          // showHeaderOverflow: \"tooltip\",\n        },\n        {\n          field: \"supply_mode_name\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          title: \"供货方式\"\n        },\n        {\n          field: \"incomplete_reason\",\n          title: \"转不良品原因\",\n          width: 250,\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            name: \"Vinput\",\n            formatter: \"String\"\n          }\n        },\n        {\n          field: \"remark\",\n          title: \"备注\",\n          showOverflow: \"tooltip\",\n          showHeaderOverflow: \"tooltip\",\n          editRender: {\n            name: \"Vinput\",\n            formatter: \"String\"\n          }\n        }\n      ],\n      tableData: []\n    };\n  },\n  methods: {\n    addRow() {\n      let xtable = this.$refs.xTable;\n      xtable\n        ._proxy(\"createRow\", {\n          production_time: \"\",\n          allocation_id: null,\n          batch: this.getWeek()\n        })\n        .then(newRow => {\n          xtable._proxy(\"insertAt\", newRow, -1);\n        });\n      this.referenceDisabled = true;\n    },\n    allocationChange({ row }, obj) {\n      row.allocation_name = obj.allocation_name;\n    },\n    blurChange({ row }) {\n      if (row.batch.toString().length != 4) {\n        this.$message.warning(\"年周/批次填写错误，标准格式：周周年年，如1421\");\n        this.$set(row, \"batch\", \"\");\n      } else {\n        if (\n          row.batch.toString().substr(0, 2) > 52 ||\n          row.batch.toString().substr(2, 2) > 21\n        ) {\n          this.$message.warning(\n            \"年周/批次填写错误，标准格式：周周年年，如1421\"\n          );\n          this.$set(row, \"batch\", \"\");\n        }\n      }\n    },\n    activeMethod({ row, column }) {\n      if (column.property == \"goods_name\") {\n        if (!this.params.company_id) {\n          this.$message.warning(\"请选择组织！\");\n          return false;\n        }\n        if (!this.params.warehouse_id) {\n          this.$message.warning(\"请选择仓库名称！\");\n          return false;\n        }\n        return true;\n      } else if (column.property == \"allocation_name\") {\n        if (!this.params.warehouse_id) {\n          this.$message.warning(\"请选择仓库名称！\");\n          return false;\n        }\n        if (row.instorage_type == 2) {\n          this.$message.warning(\"不良品货位不可修改\");\n          return false;\n        }\n        return true;\n      } else {\n        if (\n          column.property === \"incomplete_reason\" &&\n          row.instorage_type == 1\n        ) {\n          this.$message.warning(\"良品入库不可填写\");\n          return false;\n        }\n        if (row.goods_id) {\n          return true;\n        } else {\n          this.$message.warning(\"请先选择商品\");\n          return false;\n        }\n      }\n    },\n    ListGoods(row) {\n      //获取货位列表\n      this.$axMethod\n        .newAllocationListList({\n          ...this.params,\n          is_incomplete: 0,\n          goods_id: row.goods_id\n        })\n        .then(({ data }) => {\n          if (data.code == 200) {\n            data.data.forEach(element => {\n              if (row.instorage_type == 2) {\n                if (element.is_incomplete == 1) {\n                  this.$set(row, \"allocation_id\", element.allocation_id);\n                  this.$set(row, \"allocation_name\", element.allocation_name);\n                }\n              } else {\n                if (element.is_system == 1) {\n                  this.$set(row, \"allocation_id\", element.allocation_id);\n                  this.$set(row, \"allocation_name\", element.allocation_name);\n                }\n              }\n            });\n          }\n        });\n    },\n    footerMethod({ columns, data }) {\n      return [\n        columns.map((column, columnIndex) => {\n          if (columnIndex === 1) {\n            return \"合计\";\n          }\n          if (\n            [\"remaining_goods_num\", \"subtotal_price\", \"other_price\"].includes(\n              column.property\n            )\n          ) {\n            if (column.property == \"remaining_goods_num\") {\n              return this.$utils.sum(data, column.property);\n            } else {\n              var num = this.$utils.sum(data, column.property);\n              return Number.isInteger(num) ? num : num.toFixed(2);\n            }\n          }\n          return null;\n        })\n      ];\n    },\n    deleteRow() {\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"removeSelecteds\");\n      xtable._proxy(\"updateFooter\");\n    }\n  }\n};\nexport default mixins;\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar isIntegralNumber = require('../internals/is-integral-number');\n\n// `Number.isInteger` method\n// https://tc39.es/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isIntegralNumber\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":\"disabled\"},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{staticClass:\"shortSearchInput\",attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.params.order_sn),callback:function ($$v) {_vm.$set(_vm.params, \"order_sn\", $$v)},expression:\"params.order_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"maxlength\":\"100\",\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplierList),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\",\"prop\":\"buyer_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.EmployeeListInvok},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}},_vm._l((_vm.employeeList),function(item){return _c('el-option',{key:item.employee_id,attrs:{\"label\":item.employee_name,\"value\":item.employee_id}})}),1)],1),_c('el-form-item',{staticStyle:{},attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1),_vm._m(0),_c('div',{staticClass:\"table_container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData,\"max-height\":\"300\"},on:{\"row-click\":_vm.handleCurrentChanges}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"width\":\"50\",\"label\":\"选择\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.order_id},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(_vm._s(null))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"order_sn\",\"label\":\"单据号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"business_time\",\"label\":\"业务日期\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"supplier_name\",\"label\":\"供应商(厂家)\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"num\",\"label\":\"采购数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"total_price\",\"label\":\"采购金额总计\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"reference_num\",\"label\":\"已入库数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"buyer_name\",\"label\":\"采购员\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"add_user_name\",\"label\":\"创建人\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"auditor_name\",\"label\":\"审核人\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"remark\",\"label\":\"备注\"}})],1)],1),_c('p',{staticStyle:{\"margin\":\"20px 0px\",\"border-bottom\":\"1px dashed #e5e5e5\"}}),_vm._m(1),_c('div',{staticClass:\"table_container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableDatas,\"max-height\":\"300\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"label\":\"商品编号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"width\":\"50\",\"property\":\"unit_name\",\"label\":\"单位\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"purchase_price\",\"label\":\"采购价\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_num\",\"label\":\"采购数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"old_subtotal_price\",\"label\":\"采购金额小计\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"reference_goods_num\",\"label\":\"已入库数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"remark\",\"label\":\"行备注\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.dialogCancelForm}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogSubmitForm}},[_vm._v(\"确 定\")])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add_delet\"},[_c('p',[_vm._v(\"【采购订单】单据列表\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add_delet\"},[_c('p',[_vm._v(\"【采购订单】单据明细\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\">\n        <el-form-item label=\"采购组织\" size=\"mini\">\n          <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" disabled=\"disabled\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': ''\">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\">\n          <el-input v-model=\"params.order_sn\" class=\"shortSearchInput\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\">\n          <el-select clearable v-model=\"params.supplier_id\" maxlength=\"100\" filterable placeholder=\"请选择\">\n            <el-option v-for=\"item in supplierList\" :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"采购员\" size=\"mini\" prop=\"buyer_id\">\n          <el-select clearable v-model=\"params.buyer_id\" placeholder=\"请选择\" @focus=\"EmployeeListInvok\">\n            <el-option :label=\"item.employee_name\" :value=\"item.employee_id\" :key=\"item.employee_id\" v-for=\"item in employeeList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item size=\"mini\" style=\"search-style\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n          <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"add_delet\">\n        <p>【采购订单】单据列表</p>\n      </div>\n      <div class=\"table_container\">\n        <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableData\" style=\"width: 100%\" @row-click=\"handleCurrentChanges\" max-height=\"300\">\n          <el-table-column :show-overflow-tooltip=\"true\" width=\"50\" label=\"选择\">\n            <template slot-scope=\"scope\">\n              <el-radio v-model=\"radio\" :label=\"scope.row.order_id\">{{null}}</el-radio>\n            </template>\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"order_sn\" label=\"单据号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"business_time\" label=\"业务日期\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"supplier_name\" label=\"供应商(厂家)\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"num\" label=\"采购数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"total_price\" label=\"采购金额总计\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"reference_num\" label=\"已入库数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"buyer_name\" label=\"采购员\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"add_user_name\" label=\"创建人\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"auditor_name\" label=\"审核人\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"remark\" label=\"备注\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <p style=\"margin:20px 0px;border-bottom: 1px dashed #e5e5e5\"></p>\n      <div class=\"add_delet\">\n        <p>【采购订单】单据明细</p>\n      </div>\n      <div class=\"table_container\">\n        <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableDatas\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\" max-height=\"300\">\n          <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" label=\"商品编号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_name\" label=\"商品名称\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" width=\"50\" property=\"unit_name\" label=\"单位\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"purchase_price\" label=\"采购价\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_num\" label=\"采购数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"old_subtotal_price\" label=\"采购金额小计\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"reference_goods_num\" label=\"已入库数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"remark\" label=\"行备注\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogCancelForm\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogSubmitForm\">确 定</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getDataList,\n  getCompanyListCommon,\n  opthionList,\n  supplierListOpen //获取供应商下拉\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  data() {\n    return {\n      params: {},\n      searchParams: {},\n      info: null,\n      timeValue: [],\n      multipleSelection: [],\n      supplierList: [],\n      companyList: [],\n      // supplier: { options: [] },\n      TableData: [],\n      TableDatas: [],\n      radio: null,\n      goPage: 1,\n      pageSize: 30,\n      per_page: [30, 50, 100, 500],\n      order_id: \"\",\n      loading: false\n    };\n  },\n  methods: {\n    onSearch() {\n      if (this.timeValue && this.timeValue.length == 2) {\n        this.params.start_time = this.timeValue[0];\n        this.params.end_time = this.timeValue[1];\n      } else {\n        this.params.start_time = this.params.end_time = \"\";\n      }\n      getDataList(\n        this,\n        {\n          API: \"referencePurchaseOrderListPublics\",\n          params: this.params\n        },\n        \"TableData\"\n      );\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    onReset() {\n      this.$set(this, \"params\", {});\n      this.$set(this.params, \"company_id\", this.par.company_id);\n      this.timeValue = [];\n      getDataList(\n        this,\n        {\n          API: \"referencePurchaseOrderListPublics\",\n          params: this.params\n        },\n        \"TableData\"\n      );\n    },\n    handleCurrentChanges(val) {\n      this.radio = val.order_id;\n      this.$axMethod\n        .referenceOrderInfos({\n          company_id: this.par.company_id,\n          warehouse_id: this.par.warehouse_id,\n          order_id: val.order_id\n        })\n        .then(({ data }) => {\n          if (data.code == 200) {\n            this.info = data.data.info;\n            this.TableDatas = data.data.goods_list;\n          }\n        });\n    },\n    dialogCancelForm() {\n      this.$emit(\"closedialog\", false);\n    },\n    dialogSubmitForm() {\n      if (!this.multipleSelection.length) {\n        this.$message.error(\"请勾选采购订单明细\");\n        return false;\n      }\n      let obj = { info: this.info, goods_list: this.multipleSelection };\n      this.$emit(\"dialogformInline\", obj);\n    }\n  },\n  props: [\"par\"],\n  mounted() {\n    this.params = {\n      supplier_id: this.par.supplier_id,\n      company_id: this.par.company_id,\n      buyer_id: this.par.buyer_id,\n      warehouse_id: this.par.warehouse_id\n    };\n    Object.assign(this.par, {\n      employee_id: this.par.buyer_id,\n      employee_name: this.par.buyer_name\n    });\n    getDataList(\n      this,\n      {\n        API: \"referencePurchaseOrderListPublics\",\n        params: this.params\n      },\n      \"TableData\"\n    );\n    opthionList(this, this.par);\n    Object.assign(this.employeeList, {\n      employee_id: this.par.buyer_id,\n      employee_name: this.par.buyer_name\n    });\n    getCompanyListCommon(this); //获取组织\n    supplierListOpen(this, this.params);\n    this.EmployeeListInvok();\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chooseSourceBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chooseSourceBill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chooseSourceBill.vue?vue&type=template&id=3940f464&scoped=true&\"\nimport script from \"./chooseSourceBill.vue?vue&type=script&lang=js&\"\nexport * from \"./chooseSourceBill.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3940f464\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instorageAdd.vue?vue&type=style&index=0&id=617bafd2&lang=less&scoped=true&\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","// 采购订单公共方法\nimport {\n  mapActions,\n  mapGetters\n} from \"vuex\";\nimport {\n  opthionList\n} from \"common/utils/public_function/commonUtils\";\nexport const common = {\n  data() {\n    return {}\n  },\n  activated() {\n    let _routeParams = this.$route.params\n    if (_routeParams.transferType) { // 如果是通过库存预警过来转单的则执行\n      this.portStockEarlyWarningChangeOrderInfo(_routeParams)\n    }\n  },\n  methods: {\n    ...mapActions(['salesorderAdd']),\n    getRebatePrice() {\n      if (this.params.supplier_id && this.params.company_id) {\n        this.$axMethod\n          .getRebatePrice({\n            brand_id: -1,\n            supplier_id: this.params.supplier_id,\n            company_id: this.params.company_id\n          })\n          .then(({ data }) => {\n            if (data.code == 200) {\n              this.$set(\n                this.params,\n                \"rebate_balance\",\n                data.data.rebate_balance\n              );\n            }\n          });\n      }\n    },\n    // 转单方法\n    turnSaleOrder(row) {\n      this.salesorderAdd({\n        type: '采购单转销售订单',\n        Buy_order: row,\n        random: Math.floor(Math.random() * 10000) // 转单随机数\n      });\n      this.$router.push({\n        path: \"/sales/salesorder/salesorderAdd\"\n      });\n    },\n    // 库存预警转 - 单采购订单/采购入库(接口)\n    portStockEarlyWarningChangeOrderInfo(params) {\n      this.loading = true; // 开启加载\n      this.$axMethod.stockEarlyWarningChangeOrderInfo(params.portParams).then(({\n        data\n      }) => {\n        this.loading = false; // 关闭加载\n        if (data.code == 200) {\n          let _info = data.data.info,\n            goods_list = data.data.goods_list;\n          Object.keys(_info).forEach(key => {\n            this.$set(this.params, key, _info[key])\n            // this.params[key] = _info[key]\n          })\n          this.params.remark = _info.abstract\n          if (this.params.warehouse_id == 0) this.params.warehouse_id = ''\n          if (Number(localStorage.company_id) != _info.company_id) {\n            this.$set(this.params, 'department_id', '') // 清空部门\n            this.$set(this.params, 'buyer_id', '') // 清空采购员\n          } else if (!this.params.department_id) {\n            this.$set(this.params, 'department_id', Number(localStorage.department_id)) // 赋值部门\n            this.$set(this.params, 'buyer_id', Number(localStorage.employee_id)) // 赋值采购员\n          }\n          opthionList(this, _info);\n          switch (params.transferType) {\n            case 1: // 转单类型（采购订单）\n              if (this.orderAddGet.order_id) this.orderIndexACT({}); // 清空已有信息\n              goods_list = goods_list.map(item => {\n                item.unit_name && delete item.unit_name\n                item.unit_id && delete item.unit_id\n                item.remaining_goods_num = item.goods_num\n                this.handleEdit({ row: item, column: { property: 'goods_num' } }) // 计算一遍\n                return item\n              })\n              this.$refs.xTable._proxy(\"loadData\", goods_list);\n              break\n            case 2: // 转单类型（采购入库）\n              goods_list = goods_list.map(item => {\n                if (!item.batch) {\n                  this.$set(item, 'batch', this.getWeek())\n                }\n                this.$set(item, 'remaining_goods_num', item.goods_num)\n                item.goods_num && delete item.goods_num\n                let param = {\n                  num: \"remaining_goods_num\", // 商品数量的key\n                  price: \"purchase_price\", // 商品价格的key\n                  totalPrice: \"subtotal_price\" // 商品小计金额\n                };\n                this.$publicFution.computeTotal(item, param, \"remaining_goods_num\", this); // 计算一遍\n                return item\n              })\n              this.tableData = goods_list\n              break\n          }\n        } else {\n          // this.$message({\n          //   type: \"error\",\n          //   message: data.msg\n          // });\n        }\n      }).catch(error => {\n        console.log(error)\n        this.loading = false; // 关闭加载\n        this.$message({\n          type: \"error\",\n          message: '转单失败请重试'\n        });\n      });\n    },\n  },\n}\n","<template>\n  <div v-loading=\"loading\">\n    <!-- 添加修改采购入库单 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>{{ titles }}</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">采购入库管理</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>{{ title }}采购入库单</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" ref=\"ruleForm\" class=\"demo-form-inline\">\n        <el-form-item label=\"采购组织\" size=\"mini\" prop=\"company_id\" :rules=\"rules.company_id\">\n          <erpCompanyList v-model=\"params.company_id\" ref=\"erpCompanyList\" @getList=\"getCompanyList\" :fatherParams=\"params\" @change=\"companyChange\" :disabled=\"disabled\" />\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\">\n          <el-input v-model=\"params.instorage_sn\" maxlength=\"100\" disabled=\"disabled\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"来源单据\" size=\"mini\" prop=\"instorage_sn\">\n          <el-input v-model=\"params.order_sn\" style=\"cursor:pointer\" readonly=\"readonly\" suffix-icon=\"el-icon-more\" @click.native=\"quoteOrder\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\" prop=\"business_time\" :rules=\"rules.business_time\">\n          <el-date-picker v-model=\"params.business_time\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"入库类型\" size=\"mini\">\n          <el-input type=\"text\" maxlength=\"300\" value=\"采购入库\" disabled=\"disabled\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"仓库名称\" size=\"mini\" v-if=\"warehouseRequired\" prop=\"warehouse_id\" :rules=\"rules.warehouse_id\">\n          <erpWarehouse v-model=\"params.warehouse_id\" :searchParams=\"{\n              company_id: params.company_id,\n              operation_type: $route.query.instorage_id ? 2 : 1\n            }\" @change=\"warehouseChange\" :fatherParams=\"params\" />\n        </el-form-item>\n\n        <el-form-item label=\"仓库名称\" size=\"mini\" v-else>\n          <erpWarehouse v-model=\"params.warehouse_id\" :searchParams=\"{\n              company_id: params.company_id,\n              operation_type: $route.query.instorage_id ? 2 : 1\n            }\" @change=\"warehouseChange\" :fatherParams=\"params\" />\n        </el-form-item>\n\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\" prop=\"supplier_id\" :rules=\"rules.supplier_id\">\n          <el-select clearable ref=\"supplier\" v-model=\"params.supplier_id\" maxlength=\"100\" :disabled=\"disabled\" :filter-method=\"supplierListInvok\" @focus=\"supplierListInvok\" @change=\"supplierChange\" filterable placeholder=\"请选择\">\n            <el-option v-for=\"item in supplierList\" :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"部门\" size=\"mini\">\n          {{\n            (function() {\n              if (params.department_id == 0) params.department_id = null;\n            })()\n          }}\n          <el-select clearable v-model=\"params.department_id\" placeholder=\"请选择\" @change=\"departmentChange\" @focus=\"DepartmentListInvok\" filterable :disabled=\"disabled\">\n            <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <!-- 去除了采购员必填项 -->\n        <el-form-item label=\"采购员\" size=\"mini\">\n          <erpEmployee v-model=\"params.buyer_id\" :fatherParams=\"params\" modelLabel=\"buyer_name\" title=\"请选择采购员\" :disabled=\"disabled\" :searchParams=\"{ company_id: params.company_id }\" />\n        </el-form-item>\n        <el-form-item label=\"付款方式\" size=\"mini\">\n          <el-select clearable v-model=\"params.receivables_mode_id\" placeholder=\"请选择\" @focus=\"receivablesInvok\">\n            <el-option :label=\"item.receivables_mode_name\" :value=\"item.receivables_mode_id\" :key=\"item.receivables_mode_id\" v-for=\"item in receivablesList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"其他费用\" size=\"mini\">\n          <el-input placeholder=\"金额\" v-model=\"params.other_price\" class=\"input-with-select\" @change=\"calcPrice\">\n            <el-select clearable v-model=\"params.other_price_type\" class=\"styleInput\" slot=\"prepend\" @change=\"calcPrice\">\n              <el-option v-for=\"item in otherPriceType\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"厂家发货单号\" size=\"mini\">\n          <el-input v-model=\"params.factorysend_sn\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"厂家发货日期\" size=\"mini\">\n          <el-date-picker v-model=\"params.factorysend_time\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"交货方式\" size=\"mini\">\n          <deliveryMethod v-model=\"params.transaction_type\" />\n        </el-form-item>\n        <el-form-item label=\"入库来源\" size=\"mini\">\n          <el-input v-model=\"params.instorage_source_name\" disabled />\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"add_delet\">\n      <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" class=\"addBtn\" @click=\"addRow\" size=\"mini\" :disabled=\"disabled\" v-if=\"!onlyQuote\">增行</el-button>\n      <el-button plain icon=\"el-icon-delete\" @click=\"deleteRow\" size=\"mini\">删行</el-button>\n      <!-- <span style='float:right;margin-right: 80px;margin-top: 8px;'>自定义缓存</span> -->\n    </div>\n    <div class=\"table_container\">\n      <xTable ref=\"xTable\" :isEdit=\"true\" :toolConfig=\"tool_Config\" :showFooter=\"true\" :footerMethod=\"footerMethod\" :xData=\"tableData\" dragable column-min-width=\"100\" :tableColumn=\"tableColumn\" :isShowTool=\"true\" :editConfig=\"{\n          trigger: 'click',\n          mode: 'cell',\n          autoClear: false,\n          activeMethod: activeMethod\n        }\" />\n    </div>\n    <div>\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\" ref=\"paramsFooter\">\n        <el-form-item label=\"单据备注：\" size=\"mini\" style=\"width:1000px\">\n          <el-input v-model=\"params.remark\" style=\"width:800px\"></el-input>\n        </el-form-item>\n        <br />\n        <el-form-item label=\"创建人：\" size=\"mini\">\n          <el-input v-model=\"params.add_user_name\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"创建时间：\" size=\"mini\">\n          <el-input v-model=\"params.add_time\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"修改人：\" size=\"mini\">\n          <el-input v-model=\"params.update_user_name\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"修改时间：\" size=\"mini\">\n          <el-input v-model=\"params.update_time\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"dialog-footer\" style=\"text-align:center;margin-top:20px;\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit('ruleForm')\">确 定</el-button>\n    </div>\n    <div v-if=\"dialogBillVisible\">\n      <el-dialog :close-on-click-modal=\"false\" title=\"引用采购订单单据\" :visible.sync=\"dialogBillVisible\" class=\"dialogForm\" width=\"1030px\" @close=\"closeDialog\">\n        <source-bill @closedialog=\"closeDialog\" @dialogformInline=\"dialogformInline\" :par=\"params\"></source-bill>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"./config/instorageAdd.js\";\nimport sourceBill from \"./chooseSourceBill\";\nimport { common } from \"@/components/element/purchase/purchaseorder/order/js/tableHead\"; // 库存预警转采购入库单的方法\nimport { opthionList } from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"purchaseInstorageAdd\",\n  mixins: [mixin, common],\n  data() {\n    return {\n      warehouseRequired: true,\n      //按钮控制\n      tool_Config: {\n        id: \"JYBDCGRK\",\n        zoom: true,\n        setting: {\n          // 动态列配置\n          storage: true, // 是否存在本地\n          immediate: true, // 是否实时生效\n        },\n      },\n      title: \"添加\",\n      onlyQuote: false,\n      loading: false,\n      chaid: false,\n      params: {},\n      options: {},\n      hid: false,\n      dialogBillVisible: false,\n      rowIndex: \"\",\n      disabled: false, //是否禁用按钮\n      otherPriceType: [\n        {\n          value: 0,\n          label: \"不分摊\",\n        },\n        {\n          value: 1,\n          label: \"按金额分摊\",\n        },\n        {\n          value: 2,\n          label: \"按数量分摊\",\n        },\n      ],\n      rows: {},\n      goodsList: [],\n      list: [],\n      checkAddLine: 1,\n      restaurants: [], //卡顿input 数据存储\n      timeout: null,\n    };\n  },\n  props: {\n    titles: {\n      type: String,\n      default: \"采购管理\",\n    },\n    goBackUrl: {\n      type: String,\n      default: \"/purchase/instorage\",\n    },\n  },\n  components: {\n    sourceBill,\n  },\n  methods: {\n    getCompanyList(list, obj) {\n      this.warehouseRequired = obj.relation_company_id;\n      this.$refs.ruleForm.clearValidate(\"warehouse_id\");\n    },\n    supplierChange() {\n      let _this = this;\n      let TableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .tableData.filter((item) => {\n          return !!item.goods_id;\n        });\n      if (!TableData.length) return false;\n      this.$confirm(\"供应商(厂家)已更换, 是否替换商品当前单价?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          let xtable = this.$refs.xTable;\n          xtable._proxy(\"getTableData\").fullData.forEach((item, index) => {\n            item.purchase_price = 0;\n            _this.handleEdit(item, \"purchase_price\", index);\n          });\n\n          this.$refs.supplier.blur();\n        })\n        .catch(() => {\n          this.$refs.supplier.blur();\n        });\n    },\n    warehouseChange() {\n      this.$refs.xTable._proxy(\"clearActived\");\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"getTableData\").fullData.forEach(async (item) => {\n        item.allocation_id = null;\n        item.allocation_name = null;\n        if (this.params.warehouse_id) {\n          await this.ListGoods(item);\n        }\n      });\n    },\n    departmentChange() {\n      this.$set(this.params, \"buyer_id\", \"\");\n    },\n    getWeek() {\n      var today = new Date();\n      var firstDay = new Date(today.getFullYear(), 0, 1);\n      var dayOfWeek = firstDay.getDay();\n      var spendDay = 1;\n      if (dayOfWeek != 0) {\n        spendDay = 7 - dayOfWeek + 1;\n      }\n      firstDay = new Date(today.getFullYear(), 0, 1 + spendDay);\n      var d = Math.ceil((today.valueOf() - firstDay.valueOf()) / 86400000);\n      var result =\n        String(Math.ceil(d / 7) + 1).length == 2\n          ? Math.ceil(d / 7) + 1\n          : `0${Math.ceil(d / 7) + 1}`;\n      var year = today.getFullYear().toString().substring(2);\n      return `${result}${year}`;\n    },\n    changeGoods(value, scope) {\n      let row = scope.row;\n      row.allocation_name = \"\";\n      row.allocation_id = \"\";\n      this.$set(row, \"goods_id\", value.goods_id);\n      this.$set(row, \"unit_name\", value.unit_name);\n      this.$set(row, \"supply_mode_name\", value.supply_mode_name);\n      this.$set(row, \"taxrate\", value.taxrate);\n      this.$set(row, \"instorage_type\", 1);\n      this.$set(\n        row,\n        \"purchase_price\",\n        value.purchase_price ? value.purchase_price : \"\"\n      ); // 带出零不显示\n      this.$set(row, \"factory_code\", value.factory_code);\n      this.isClearOtherPrice(); //清除其它费用\n      if (this.params.warehouse_id) {\n        this.ListGoods(scope.row);\n      }\n      var hasEmptyData = true;\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"getTableData\").fullData.forEach((item) => {\n        if (!item.goods_id) hasEmptyData = false;\n      });\n      if (hasEmptyData) {\n        this.addRow();\n      }\n    },\n    goBack() {\n      this.$publicFution.goPage(this.instorage_id);\n      this.$router.push({ path: this.goBackUrl });\n    },\n    isClearOtherPrice() {\n      let tableData = this.$refs.xTable._proxy(\"getTableData\").fullData;\n      if (this.params.other_price_type == 0) {\n        tableData.forEach((obj, index) => {\n          this.$set(tableData[index], \"other_price\", 0);\n        });\n        0;\n      }\n    },\n    getCountApportionOptions() {\n      //重新计算其他费用\n      if (!(Number(this.params.other_price) && this.params.other_price_type))\n        return false;\n      let TableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .tableData.filter((item) => {\n          return !!item.goods_id;\n        });\n      let goodsInfo = TableData.map((obj) => {\n        obj.goods_num = obj.remaining_goods_num;\n        return obj;\n      });\n      this.$axios({\n        method: \"post\",\n        url: this.$api.getCountApportionOptions,\n        data: {\n          other_price_type: this.params.other_price_type,\n          other_price: this.params.other_price,\n          goods_info: JSON.stringify(goodsInfo),\n        },\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          let resData = data.data.goods_list;\n          let sqe = 0;\n          this.$refs.xTable._proxy(\"getTableData\").fullData.forEach((val) => {\n            if (val.goods_id && val.subtotal_price) {\n              val.other_price = resData[sqe].other_price;\n              sqe++;\n            }\n          });\n          this.$refs.xTable._proxy(\"updateFooter\");\n        }\n      });\n    },\n    copyLineFun(row) {\n      let arry = Object.assign({}, row, { instorage_goods_id: 0 });\n      this.$refs.xTable._proxy(\"insertAt\", arry, -1);\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    calcPrice() {\n      if (this.params.other_price == 0 && this.params.other_price_type != 0) {\n        this.$message.warning(\"分摊金额不能为0\");\n        return false;\n      }\n      let goods_info = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .tableData.filter((val) => {\n          return val.goods_id;\n        });\n      if (goods_info.length) {\n        this.isClearOtherPrice();\n        this.getCountApportionOptions();\n      } else {\n        this.$message.warning(\"请先完善商品信息!\");\n      }\n    },\n    quoteOrder() {\n      //来源单号\n      if (!this.params.company_id) {\n        this.$message.warning(\"请选择采购组织\");\n        return false;\n      } else {\n        let tablel = this.$refs.xTable._proxy(\"getTableData\").fullData;\n        let tableStack = tablel.filter((val) => {\n          return val.goods_id;\n        });\n        if (tableStack.length && !this.disabled) {\n          this.$message.warning(\"请删除表体所有商品行数据\");\n          return false;\n        } else {\n          this.dialogBillVisible = true;\n        }\n      }\n    },\n    closeDialog() {\n      this.dialogBillVisible = false;\n    },\n    dialogformInline(val) {\n      this.$refs.xTable._proxy(\"remove\");\n      if (val.goods_list.length > 0) {\n        this.disabled = true;\n      } else {\n        return false;\n      }\n      [\n        \"order_sn\",\n        \"order_id\",\n        \"company_id\",\n        \"department_id\",\n        \"buyer_id\",\n        \"buyer_name\",\n        \"remark\",\n        \"supplier_id\",\n        \"supplier_name\",\n      ].forEach((v) => this.$set(this.params, v, val.info[v]));\n      let tableData = val.goods_list.filter((obj) => {\n        return obj.remaining_goods_num > 0;\n      });\n\n      tableData = tableData.map((obj) => {\n        this.handleEdit(obj, \"subtotal_price\", 111);\n        return Object.assign({}, obj, {\n          batch: this.getWeek(),\n          instorage_type: 1,\n          allocation_name: \"\",\n          allocation_id: \"\",\n          production_time: \"\",\n        });\n      });\n      let datataple = val.info;\n      Object.assign(datataple, {\n        employee_id: val.info.buyer_id,\n        employee_name: val.info.buyer_name,\n      });\n      opthionList(this, datataple);\n      this.InventoryInitialize(tableData);\n      let xtable = this.$refs.xTable;\n      xtable._proxy(\"insertAt\", tableData, -1);\n      this.$refs.xTable._proxy(\"updateFooter\");\n      this.dialogBillVisible = false;\n      console.log(this.params);\n    },\n    InventoryInitialize(tableData) {\n      let InventoryList = new Array();\n      tableData.forEach((val) => {\n        InventoryList.push({\n          allocation_id: val.allocation_id,\n          allocation_name: val.allocation_name,\n        });\n      });\n      let obj = {};\n      InventoryList = InventoryList.reduce((cur, next) => {\n        obj[next.allocation_id]\n          ? \"\"\n          : (obj[next.allocation_id] = true && cur.push(next));\n        return cur;\n      }, []);\n      this.allocationList = InventoryList;\n    },\n    companyChange(val) {\n      this.$refs.xTable._proxy(\"remove\");\n      this.$set(this.params, \"department_id\", \"\");\n      this.$set(this.params, \"buyer_id\", \"\");\n      this.$set(this.params, \"supplier_id\", \"\");\n      this.$set(this.params, \"warehouse_id\", \"\");\n      this.$baseData.settingInfo({ num: 3, company_id: val.company_id }, () => {\n        if (localStorage.FDBName_business) {\n          let state = localStorage.getItem(\"FDBName_business\");\n          this.onlyQuote = eval(state)[6].status == 1 ? true : false;\n        }\n      });\n      this.getCompanyList([], val);\n    },\n    open() {\n      setTimeout(() => {\n        this.$refs.childs.childAction();\n      }, 0);\n    },\n\n    submit(formName) {\n      this.$refs.xTable._proxy(\"clearActived\");\n      let tableData = this.$refs.xTable._proxy(\"getTableData\").fullData;\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (!tableData.length) {\n            this.$message.warning(\"请先选择商品！\");\n            return false;\n          }\n          var submitData = tableData.filter((val) => {\n            return val.goods_id;\n          });\n          if (!submitData.length) {\n            this.$message.warning({ message: \"请先选择商品\" });\n            return false;\n          }\n\n          let tableDatas = [];\n          for (var i = 0; i < submitData.length; i++) {\n            if (!submitData[i].batch) {\n              this.$message.warning({\n                message: \"【年周/批次】不可为空\",\n              });\n              return false;\n            } else if (submitData[i].purchase_price === \"\") {\n              this.$message.warning({\n                message: \"请输入采购价\",\n              });\n              return false;\n            } else if (!submitData[i].remaining_goods_num) {\n              this.$message.warning({\n                message: \"请输入入库数量\",\n              });\n              return false;\n            }\n            if (\n              submitData[i].instorage_type == 2 &&\n              !submitData[i].incomplete_reason\n            ) {\n              this.$refs.xTable._proxy(\n                \"setActiveCell\",\n                submitData[i],\n                \"incomplete_reason\"\n              );\n              this.$message.warning({\n                message: \"请输入不良原因\",\n              });\n              return false;\n            }\n            tableDatas.push({\n              taxrate: submitData[i].taxrate,\n              revenue_price: submitData[i].revenue_price,\n              no_revenue_price: submitData[i].no_revenue_price,\n              goods_id: submitData[i].goods_id,\n              order_goods_id: submitData[i].order_goods_id\n                ? submitData[i].order_goods_id\n                : 0,\n              instorage_type: submitData[i].instorage_type,\n              incomplete_reason: submitData[i].incomplete_reason,\n              goods_num: submitData[i].remaining_goods_num,\n              guidance_price: submitData[i].guidance_price,\n              remark: submitData[i].remark ? submitData[i].remark : \"\",\n              instorage_goods_id: submitData[i].instorage_goods_id\n                ? submitData[i].instorage_goods_id\n                : 0,\n              purchase_price: submitData[i].purchase_price,\n              batch: submitData[i].batch,\n              production_time: submitData[i].production_time,\n              subtotal_price: submitData[i].subtotal_price,\n              supply_mode: submitData[i].supply_mode,\n              supply_mode_name: submitData[i].supply_mode_name,\n              allocation_id: submitData[i].allocation_id\n                ? submitData[i].allocation_id\n                : \"\",\n            });\n          }\n          var obj = {\n            transaction_type: this.params.transaction_type,\n            order_id: this.params.order_id,\n            supplier_id: this.params.supplier_id,\n            company_id: this.params.company_id,\n            department_id: this.params.department_id,\n            buyer_id: this.params.buyer_id,\n            factorysend_sn: this.params.factorysend_sn,\n            receivables_mode_id: this.params.receivables_mode_id,\n            business_time: this.params.business_time,\n            factorysend_time: this.params.factorysend_time,\n            type: 0,\n            remark: this.params.remark,\n            other_price: this.params.other_price,\n            other_price_type: this.params.other_price_type,\n            warehouse_id: this.params.warehouse_id,\n            goods_info: JSON.stringify(tableDatas),\n          };\n          this.$baseData\n            .checkComputation(tableDatas, {\n              goods_num: \"goods_num\",\n              total_price: \"subtotal_price\",\n              goods_price: \"purchase_price\",\n            })\n            .then(() => {\n              // 校验对接车郎中\n              this.$baseData\n                .checkCarDoctor({\n                  company_id: this.params.company_id,\n                  company_name: this.params.company_name,\n                  bill_type: 1,\n                  bill_id: this.instorage_id,\n                  operation_type: this.instorage_id ? 2 : 1,\n                  goods_info: JSON.stringify(\n                    Array(tableDatas.length).fill({\n                      warehouse_id: this.params.warehouse_id,\n                      warehouse_name: this.params.warehouse_name,\n                    })\n                  ),\n                })\n                .then(() => {\n                  if (this.instorage_id) {\n                    this.$axMethod\n                      .editInStorageList({\n                        ...obj,\n                        instorage_id: this.params.instorage_id,\n                      })\n                      .then(({ data }) => {\n                        if (data.code == 200) {\n                          this.$message({\n                            message: data.msg,\n                            type: \"success\",\n                          });\n                          this.goBack();\n                        }\n                      });\n                  } else {\n                    this.$axMethod.addInStoragetList(obj).then(({ data }) => {\n                      if (data.code == 200) {\n                        if (this.is_company_service) {\n                          this.$axios({\n                            method: \"post\",\n                            url: this.$api.purchaseAuditorPassInStorage,\n                            data: {\n                              instorage_id: data.data.instorage_id,\n                            },\n                          }).then((res) => {\n                            if (res.data.code == 200) {\n                              this.$message({\n                                message: res.data.data,\n                                type: \"success\",\n                              });\n                            }\n                          });\n                        } else {\n                          this.$message({\n                            message: data.msg,\n                            type: \"success\",\n                          });\n                        }\n                        this.goBack();\n                      }\n                    });\n                  }\n                });\n            });\n        }\n      });\n    },\n    // ListGoods(index) {\n    //   const row = this.$refs.xTable.getTableData().fullData[index];\n    //   if (!row.goods_id) return false;\n    //   this.$axios({\n    //     method: \"get\",\n    //     url: this.$api.newAllocationList,\n    //     params: {\n    //       company_id: this.params.company_id,\n    //       warehouse_id: this.params.warehouse_id,\n    //       goods_id: row.goods_id,\n    //       is_incomplete: 0,\n    //       repeat: true\n    //     }\n    //   }).then(res2 => {\n    //     this.$set(this, \"allocationList\", res2.data.data);\n    //     if (res2.data && res2.data.data) {\n    //       res2.data.data.forEach(element => {\n    //         if (row.instorage_type == 2) {\n    //           if (element.is_incomplete == 1) {\n    //             this.$set(row, \"allocation_id\", element.allocation_id);\n    //             this.$set(row, \"allocation_name\", element.allocation_name);\n    //           }\n    //         } else {\n    //           if (element.is_system == 1) {\n    //             this.$set(row, \"allocation_id\", element.allocation_id);\n    //             this.$set(row, \"allocation_name\", element.allocation_name);\n    //           }\n    //         }\n    //       });\n    //     }\n    //   });\n    // },\n    handleEdit(row, name, status) {\n      let param = {\n        num: \"remaining_goods_num\", // 商品数量的key\n        price: \"purchase_price\", // 商品价格的key\n        totalPrice: \"subtotal_price\", // 商品小计金额\n        taxrate: \"taxrate\", // 税率\n        revenue_price: \"revenue_price\", // 税额\n        no_revenue_price: \"no_revenue_price\", // 不纳税额\n      };\n      this.$publicFution.computeTotal(row, param, name, this);\n      if (status !== 111) {\n        this.calcPrice();\n      }\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    handleMouseEnter: function (row, column, cell) {\n      cell.children[0].children[1].style.color = \"black\";\n    },\n    handleMouseOut: function (row, column, cell) {\n      cell.children[0].children[1].style.color = \"#ffffff\";\n    },\n  },\n  mounted() {\n    this.title = this.$route.query.instorage_id ? \"修改\" : \"添加\";\n    /** 入库详情 */\n    if (this.$route.query.instorage_id) {\n      this.instorage_id = this.$route.query.instorage_id;\n      this.$axios({\n        method: \"get\",\n        url: this.$api.purchaseInfoInStorage,\n        params: {\n          instorage_id: this.instorage_id,\n        },\n      }).then((res) => {\n        if (res.data.code == 200) {\n          this.params = res.data.data.instoragList;\n          let datataple = res.data.data.instoragList;\n          opthionList(this, datataple);\n          this.params.receivables_mode_id =\n            res.data.data.instoragList.receivables_mode_id == 0\n              ? \"\"\n              : res.data.data.instoragList.receivables_mode_id;\n          this.InventoryInitialize(res.data.data.goodsList);\n          this.tableData = res.data.data.goodsList;\n          this.params.other_price_type =\n            res.data.data.instoragList.other_price_type;\n          if (res.data.data.instoragList.order_sn != \"\") {\n            this.disabled = true;\n          }\n          this.$refs.erpCompanyList.getList();\n        }\n      });\n    } else if (this.$route.query.order_id) {\n      // 采购订单直接入库\n      this.$axMethod\n        .referenceOrderInfos({\n          order_id: this.$route.query.order_id,\n        })\n        .then(({ data }) => {\n          if (data.code == 200) {\n            this.dialogformInline(data.data);\n            this.params.business_time = this.$publicFution.formatData(\n              new Date()\n            );\n          }\n          this.$refs.erpCompanyList.getList();\n        });\n    } else {\n      let { employee_id, company_admin_id } = localStorage;\n      if ([0, 1, 2].includes(Number(employee_id)) || company_admin_id > 0) {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          business_time: this.$publicFution.formatData(new Date()),\n        });\n      } else {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          department_id: Number(localStorage.department_id),\n          buyer_id: Number(localStorage.employee_id),\n          buyer_name: localStorage.employee_name,\n          business_time: this.$publicFution.formatData(new Date()),\n        });\n      }\n      this.addRow();\n      opthionList(this, localStorage);\n      this.$refs.erpCompanyList.getList();\n    }\n    if (localStorage.FDBName_business) {\n      let state = localStorage.getItem(\"FDBName_business\");\n      this.onlyQuote = eval(state)[6].status == 1 ? true : false;\n    }\n    this.TableData.tableData.push({\n      production_time: \"\",\n      batch: this.getWeek(),\n    });\n    // this.batchDefaultF()\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.table_container {\n  position: relative;\n  /deep/ .vxe-grid.is--maximize {\n    top: 0px;\n    .vxe-toolbar {\n      position: static;\n      // right: 0px;\n      // top: 0px;\n    }\n  }\n  /deep/ .vxe-toolbar {\n    position: absolute;\n    right: 0px;\n    top: -38px;\n  }\n}\n.bzstyle {\n  position: relative;\n  top: 10px;\n}\n.bzstyle span {\n  position: relative;\n  width: 3%;\n  font-size: 12px;\n  top: 2px;\n}\n.bzstyle .el-input {\n  position: absolute;\n  width: 97%;\n  left: 3%;\n  top: 0;\n}\n.styleInput > .el-input {\n  width: auto !important;\n}\n\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n\n.title {\n  line-height: 50px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.el-form > div:nth-child(2n + 1) {\n  clear: both;\n}\n\n.batch-ul {\n  overflow: hidden;\n}\n\n.batch-ul2 {\n  padding: 0 20px;\n}\n\n.line1 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.batch-ul li {\n  float: left;\n  line-height: 34px;\n  height: 34px;\n  .line1;\n}\n\n.batch-ul li:nth-child(1) {\n  width: 140px;\n}\n\n.batch-ul li:nth-child(2) {\n  width: 140px;\n  text-align: right;\n}\n\n.el-table td div {\n  width: 100%;\n}\n\n.warehouse-ul li {\n  padding: 0px;\n}\n</style>\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `IsIntegralNumber` abstract operation\n// https://tc39.es/ecma262/#sec-isintegralnumber\n// eslint-disable-next-line es/no-number-isinteger -- safe\nmodule.exports = Number.isInteger || function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n"],"sourceRoot":""}