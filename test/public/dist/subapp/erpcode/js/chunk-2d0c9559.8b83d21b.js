(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-2d0c9559"],{5965:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goodsattribute"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("销售管理")]),a("el-breadcrumb-item",{staticClass:"attrbute"},[a("span",{on:{click:e.goBack}},[e._v("销售政策")])]),a("el-breadcrumb-item",[e._v("促销政策使用情况")])],1),a("div",{attrs:{id:"leixin"}},[a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-form-item",{attrs:{label:"销售组织",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:""},on:{focus:e.companyListInvok},model:{value:e.params.company_id,callback:function(t){e.$set(e.params,"company_id",t)},expression:"params.company_id"}},e._l(e.companyList,(function(t){return a("el-option",{key:t.company_id,attrs:{label:t.company_name,value:t.company_id}},[a("span",{class:1==t.type?"optionStyle":""},[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"客户名称",size:"mini"}},[a("el-input",{attrs:{maxlength:"100",placeholder:"请输入"},model:{value:e.params.customer_name,callback:function(t){e.$set(e.params,"customer_name",t)},expression:"params.customer_name"}})],1),a("el-form-item",{attrs:{label:"业务日期",size:"mini"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.clearTime},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),a("el-form-item",{attrs:{label:"单据号",size:"mini"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.params.order_sn,callback:function(t){e.$set(e.params,"order_sn",t)},expression:"params.order_sn"}})],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:e.TableData.tableData,"max-height":"600"}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"customer_name",label:"客户名称",width:"180"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"order_sn",label:"单据号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"discount_price",label:"折让金额",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("priceFormat")(t.row.discount_price))+" ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"business_time",label:"业务日期"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"add_time",label:"单据时间"}})],1),a("div",{staticClass:"page_container"},[a("div",{staticClass:"pageNumber"},[e._v("每页显示")]),a("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":e.goPage,"page-size":10,"page-sizes":e.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:e.TableData.total},on:{"size-change":e.handleSizeChange,"update:currentPage":function(t){e.goPage=t},"update:current-page":function(t){e.goPage=t},"current-change":e.handleCurrentChange}})],1)],1)],1)},i=[],r=a("5530"),l=a("2f62"),o=a("65b0"),n={name:"salesSalesbeforeLookuser",data:function(){return{params:{customer_id:"",start_time:"",end_time:"",company_id:"",order_sn:""}}},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["policyLookuser_hide","promotionpolicyIndexACT","policyAdd_hide"])),{},{clearTime:function(e){null==e&&(delete this.searchParams.start_time,delete this.searchParams.end_time)},goBack:function(){this.$router.push({path:"/sales/promotionpolicy"})},onReset:function(){this.$set(this,"params",{policy_id:window.localStorage.getItem("policy_id")}),this.timeValue=[],this.$set(this,"searchParams",{params:{policy_id:window.localStorage.getItem("policy_id")},TableData:this.TableData,API:"getOrderPolicyList",vm:this}),Object(o["g"])(this.searchParams)},onSearch:function(){this.timeValue&&2==this.timeValue.length?(this.params.start_time=this.timeValue[0],this.params.end_time=this.timeValue[1]):this.params.start_time=this.params.end_time="",Object.assign(this.searchParams.params,this.params,{page:1}),Object(o["g"])(this.searchParams)}}),mounted:function(){this.$set(this,"searchParams",{params:{policy_id:window.localStorage.getItem("policy_id")},TableData:this.TableData,API:"getOrderPolicyList",vm:this}),Object(o["g"])(this.searchParams)}},c=n,m=a("2877"),p=Object(m["a"])(c,s,i,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0c9559.8b83d21b.js.map