(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-63dfbc8e"],{de82:function(t,e,a){},e3b0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.params}},[a("el-form-item",{attrs:{label:"财务组织",size:"mini"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",filterable:"",maxlength:"100"},on:{focus:t.companyListInvok,change:t.companyChange},model:{value:t.params.company_id,callback:function(e){t.$set(t.params,"company_id",e)},expression:"params.company_id"}},t._l(t.companyList,(function(e){return a("el-option",{key:e.company_id,attrs:{label:e.company_name,value:e.company_id}},[a("span",{class:1==e.type?"optionStyle":""},[t._v(t._s(e.company_name))])])})),1)],1),a("el-form-item",{attrs:{label:"客户名称",size:"mini"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入",clearable:"",loading:t.loading,remote:"","remote-method":t.clienteleListInvok},on:{focus:t.clienteleListInvok,change:t.getCustomerChange},model:{value:t.params.customer_id,callback:function(e){t.$set(t.params,"customer_id",e)},expression:"params.customer_id"}},[a("ul",{staticClass:"customer customer-ul4 customer-ul2"},[a("li",[t._v("客户编号")]),a("li",[t._v("客户名称")]),a("li",[t._v("联系人")]),a("li",[t._v("联系电话")]),a("li",[t._v("区域")])]),t._l(t.customerList,(function(e){return a("el-option",{key:e.customer_id,attrs:{label:e.customer_name,value:e.customer_id}},[a("ul",{staticClass:"customer customer-ul4"},[a("li",{attrs:{title:e.customer_id}},[t._v(t._s(e.customer_id))]),a("li",{attrs:{title:e.customer_name}},[t._v(t._s(e.customer_name))]),a("li",{attrs:{title:e.contact_name}},[t._v(t._s(e.contact_name))]),a("li",{attrs:{title:e.customer_mobile}},[t._v(t._s(e.customer_mobile))]),a("li",[t._v(t._s(e.province_name)+"/"+t._s(e.city_name)+"/"+t._s(e.area_name))])])])}))],2)],1),a("el-form-item",{attrs:{label:"",size:"mini"}},[a("el-checkbox",{attrs:{"false-label":"0",name:"type","true-label":"1"},model:{value:t.params.is_contain_zero,callback:function(e){t.$set(t.params,"is_contain_zero",e)},expression:"params.is_contain_zero"}},[t._v("包含余额为0的客户")])],1),a("el-form-item",{staticClass:"search-style search",attrs:{size:"mini"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.onReset}},[t._v("重置")])],1)],1),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:t.TableData.tableData,"max-height":"600"},on:{"sort-change":t.sortingChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"registe_time",label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.authority.b_info?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看")]):t._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"company_name",label:"财务组织",width:"250"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"customer_name",label:"客户名称",width:"300"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"deposits",label:"预收款帐户余额",sortable:"custom",align:"right",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("pre",[t._v(t._s(t._f("priceFormatNone")(e.row.deposits)))])]}}])})],1),a("div",{staticClass:"tableP"},[a("div",{staticStyle:{float:"left",width:"240px","padding-left":"10px"}},[t._v("本页小计")]),a("div",{staticStyle:{width:"490px",float:"left","text-align":"right","padding-left":"10px"}},[t._v(t._s(t.thisPageBalance)+"元")]),a("div",{staticStyle:{width:"176px",float:"right"}},[t._v(" ")])]),a("div",{staticClass:"tableP"},[a("div",{staticStyle:{float:"left",width:"240px","padding-left":"10px"}},[t._v("总计")]),a("div",{staticStyle:{width:"490px",float:"left","text-align":"right","padding-left":"10px"}},[t._v(t._s(t.allCountBalance)+"元")]),a("div",{staticStyle:{width:"176px",float:"right"}},[t._v(" ")])])],1),a("div",{staticClass:"page_container"},[a("div",{staticClass:"pageNumber"},[t._v("每页显示")]),a("el-pagination",{staticClass:"erp-pagination",attrs:{"current-page":t.goPage,"page-size":t.pageSize1,"page-sizes":t.per_page,layout:"total,sizes, prev, pager, next,jumper",prevText:"上一页",nextText:"下一页",total:t.TableData.total},on:{"size-change":t.handleSizeChange,"update:currentPage":function(e){t.goPage=e},"update:current-page":function(e){t.goPage=e},"current-change":t.handleCurrentChange}})],1)],1)},i=[],o=a("5530"),r=(a("4de4"),a("d3b7"),a("65b0")),n=a("2f62"),l={name:"customeCustomerdepositsDefault",data:function(){return{authority:{},loading:!1,SelesTomer:{options:[]},thisPageBalance:0,allCountBalance:0}},computed:Object(o["a"])({},Object(n["c"])(["customerdepositsDefault_showGet"])),methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])(["customerdepositsSearch_show","customerdepositsIndexACT"])),{},{sortingChange:function(t){var e=t.prop,a=t.order;Object.assign(this.searchParams.params,{order_key:e,order_by:"ascending"===a?"asc":"desc"}),Object(r["g"])(this.searchParams,"",this.ListCallBack)},companyChange:function(t){t&&(this.params.company_name=this.companyList.filter((function(e){return e.company_id===t}))[0].company_name),this.$set(this.departmentList,"options",""),this.$set(this.params,"supplier_id",""),this.$set(this.params,"department_id",""),this.$set(this.params,"customer_id","")},getCustomerChange:function(t){t&&(this.params.customer_name=this.customerList.filter((function(e){return e.customer_id===t}))[0].customer_name)},handleSizeChange:function(t){Object.assign(this.searchParams.params,{per_page:t,page:1}),Object(r["g"])(this.searchParams,"",this.ListCallBack)},handleCurrentChange:function(t){Object.assign(this.searchParams.params,{page:t}),Object(r["g"])(this.searchParams,"",this.ListCallBack)},ListCallBack:function(t){200<=t.data.code<400&&(this.thisPageBalance=t.data.data.account.subtotal_balance,this.allCountBalance=t.data.data.account.total_balance)},onSearch:function(){Object.assign(this.searchParams.params,this.params,{page:1}),this.customerdepositsIndexACT({params:this.params,goPage:this.goPage,pageSize:this.pageSize}),Object(r["g"])(this.searchParams,"",this.ListCallBack)},onReset:function(){this.$set(this,"params",{is_contain_zero:0}),this.$set(this,"searchParams",{params:this.params,TableData:this.TableData,API:"getCustomDepositsList",vm:this}),this.onSearch()},handleClick:function(t){this.customerdepositsSearch_show({company_name:t.company_name,customer_name:t.customer_name,customer_id:t.customer_id,company_id:t.company_id,params:this.params,goPage:this.goPage,pageSize:this.pageSize}),this.$router.push({path:"/custom/customerdeposits/customerdeposits_search"})}}),mounted:function(){this.authority=JSON.parse(localStorage.getItem("authority")),this.customerdepositsDefault_showGet&&this.customerdepositsDefault_showGet.params&&(this.$set(this,"params",this.customerdepositsDefault_showGet.params),Object(r["l"])(this,this.customerdepositsDefault_showGet.params)),this.customerdepositsDefault_showGet&&this.customerdepositsDefault_showGet.goPage&&(this.params.page=this.customerdepositsDefault_showGet.goPage,this.params.per_page=this.customerdepositsDefault_showGet.pageSize),this.$set(this,"searchParams",{params:this.params,TableData:this.TableData,API:"getCustomDepositsList",vm:this}),Object(r["g"])(this.searchParams,"",this.ListCallBack)}},c=l,m=(a("f753"),a("2877")),p=Object(m["a"])(c,s,i,!1,null,"188e0058",null);e["default"]=p.exports},f753:function(t,e,a){"use strict";a("de82")}}]);
//# sourceMappingURL=chunk-63dfbc8e.2ae57b87.js.map