{"version":3,"sources":["webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/threePackageReturnAdd.vue?6fda","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/config/outboundOrder.vue?ceea","webpack://erpcode-[name]/src/components/element/aftersale/threePackageReturn/config/outboundOrder.vue","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/config/outboundOrder.vue?ef54","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/config/outboundOrder.vue","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/config/threePackageReturnAdd.js","webpack://erpcode-[name]/src/components/element/aftersale/threePackageReturn/threePackageReturnAdd.vue","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/threePackageReturnAdd.vue?eb20","webpack://erpcode-[name]/./src/components/element/aftersale/threePackageReturn/threePackageReturnAdd.vue"],"names":["$","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","toFixed","pow","x","n","acc","log","x2","multiply","data","c","index","c2","divide","dataToString","s","t","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","this","fractDigits","sign","result","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","on","goBack","ref","params","rules","company_id","_s","line","companyChange","companyListInvok","model","value","callback","$$v","$set","expression","_l","item","key","company_name","class","type","customer_id","loading","clienteleListInvok","changeCustomer","customer_name","contact_name","customer_mobile","province_name","city_name","area_name","business_time","department_id","DepartmentListInvok","department_name","business_id","$event","EmployeeListInvok","employee_id","employee_name","return_id","staticStyle","clearF","nativeOn","salesDocumentsVisible","intentional_logistics_id","logisticsInvok","logisticsChanges","logistics_id","logistics_name","reason_id","getReasonListInvok","reason_name","onlyQuote","_e","addLine","deleteF","isEdit","tableColumn","username","add_time","auditor_name","auditor_time","update_user_name","update_time","slot","submitDisabled","submit","dialogformInline","staticRenderFns","timeValue","khdisable","onSearch","title","directives","name","rawName","TableData","tableData","handleCurrentChanges","scopedSlots","_u","fn","scope","row","outstock_sn","radio","TableDatas","handleSelectionChange","dialogCancelForm","dialogSubmitForm","searchParams","multipleSelection","supplierList","companyList","tabledatas","goPage","pageSize","per_page","order_id","methods","loadMore","loadSign","Object","assign","page","setTimeout","start_time","end_time","val","onReset","par","$axMethod","$emit","$message","error","goods_list","props","mounted","outstock_type_id","API","vm","component","rowModule","getWeek","today","Date","firstDay","getFullYear","dayOfWeek","getDay","spendDay","d","ceil","valueOf","year","toString","substring","tableHead","validRules","goods_name","required","message","batch","warehouse_name","return_goods_num","width","treeNode","align","field","headIcon","editRender","getParams","showObj","goods_id","events","change","changeGoods","formatter","placeholder","blur","blurChange","headerAlign","input","handleEdit","url","itemObj","id","obj","allocation_name","allocation_id","batch_id","$axios","method","$api","newAllocationList","warehouse_id","then","res","is_system","stocks","isPage","slots","header","substr","warning","column","property","$publicFution","confirm","mixins","localStorage","getItem","rebate_price","credit_price","deposits_price","pagetotle","pagetotlenum","disabled","add_user_name","formatData","Number","components","outboundOrder","info","forEach","unit_price","true_unit_price","remain_num","return_subtotal_price","subtotal_price","$refs","xTable","_proxy","unreturn_num","un_rebate_price","un_credit_price","un_deposits_price","logisticsList","filter","intentional_logistics","customerList","getCustomerInfoNEWqx","code","business_name","$baseData","settingInfo","ruleForm","validate","valid","clearFieldArr","isClear","goodsInfo","box","fullData","concat","list","num","price","goodsPrice","computeTotal","$router","push","verifyTableData","canSubmit","invalideArr","carDoctorWarehouse","pop","_this","isPassMsg","return_goods_arr","outstock_goods_id","return_unit_price","discount_unit_price","remark","return_num","return_goods_id","unitArry","axMethod","JSON","parse","stringify","bill_type","bill_id","operation_type","goods_info","parn","success","msg","FDBName_business","state","status","$route","query","api","outstock_id","map","outstock_goods_num"],"mappings":"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","file":"js/chunk-77ad1e51.62a71388.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"售后管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"三包退货\")])]),_c('el-breadcrumb-item',[_vm._v(\"新增三包退货单\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"size\":\"mini\",\"prop\":\"company_id\",\"rules\":_vm.rules.company_id}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.company_id == 0) { _vm.params.company_id = null; } })())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"disabled\":_vm.line == 1},on:{\"change\":_vm.companyChange,\"focus\":_vm.companyListInvok},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type == 1 ? 'optionStyle' : ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"客户名称\",\"size\":\"mini\",\"prop\":\"customer_id\",\"rules\":_vm.rules.customer_id}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.customer_id == 0) { _vm.params.customer_id = null; } })())+\" \"),_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"clearable\":\"\",\"loading\":_vm.loading,\"remote\":\"\",\"remote-method\":_vm.clienteleListInvok,\"disabled\":_vm.line == 1},on:{\"change\":_vm.changeCustomer,\"focus\":_vm.clienteleListInvok},model:{value:(_vm.params.customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"customer_id\", $$v)},expression:\"params.customer_id\"}},[_c('ul',{staticClass:\"customer customer-ul4 customer-ul2\"},[_c('li',[_vm._v(\"客户编号\")]),_c('li',[_vm._v(\"客户名称\")]),_c('li',[_vm._v(\"联系人\")]),_c('li',[_vm._v(\"联系电话\")]),_c('li',[_vm._v(\"区域\")])]),_vm._l((_vm.customerList),function(item){return _c('el-option',{key:item.customer_id,attrs:{\"label\":item.customer_name,\"value\":item.customer_id}},[_c('ul',{staticClass:\"customer customer-ul4\"},[_c('li',{attrs:{\"title\":item.customer_id}},[_vm._v(_vm._s(item.customer_id))]),_c('li',{attrs:{\"title\":item.customer_name}},[_vm._v(_vm._s(item.customer_name))]),_c('li',{attrs:{\"title\":item.contact_name}},[_vm._v(_vm._s(item.contact_name))]),_c('li',{attrs:{\"title\":item.customer_mobile}},[_vm._v(\" \"+_vm._s(item.customer_mobile)+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(item.province_name)+\"/\"+_vm._s(item.city_name)+\"/\"+_vm._s(item.area_name)+\" \")])])])})],2)],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\",\"prop\":\"business_time\",\"rules\":_vm.rules.business_time}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.department_id == 0) { _vm.params.department_id = null; } })())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\",\"disabled\":_vm.line == 1},on:{\"focus\":_vm.DepartmentListInvok},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"业务员\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.business_id == 0) { _vm.params.business_id = null; } })())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.line == 1},on:{\"focus\":function($event){return _vm.EmployeeListInvok(1)}},model:{value:(_vm.params.business_id),callback:function ($$v) {_vm.$set(_vm.params, \"business_id\", $$v)},expression:\"params.business_id\"}},_vm._l((_vm.employeeList),function(item){return _c('el-option',{key:item.employee_id,attrs:{\"label\":item.employee_name,\"value\":item.employee_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.return_sn),callback:function ($$v) {_vm.$set(_vm.params, \"return_sn\", $$v)},expression:\"params.return_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"来源单号\",\"size\":\"mini\"}},[(!this.params.return_id)?_c('el-input',{staticStyle:{\"cursor\":\"pointer\",\"width\":\"200px\"},attrs:{\"clearable\":\"\",\"disabled\":_vm.line == 2,\"suffix-icon\":\"el-icon-more\"},on:{\"clear\":_vm.clearF},nativeOn:{\"click\":function($event){_vm.salesDocumentsVisible = true;}},model:{value:(_vm.params.outstock_sn),callback:function ($$v) {_vm.$set(_vm.params, \"outstock_sn\", $$v)},expression:\"params.outstock_sn\"}}):_c('el-input',{attrs:{\"disabled\":\"\",\"readonly\":\"\",\"suffix-icon\":\"el-icon-more\"},model:{value:(_vm.params.outstock_sn),callback:function ($$v) {_vm.$set(_vm.params, \"outstock_sn\", $$v)},expression:\"params.outstock_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"物流公司\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.intentional_logistics_id == 0) { _vm.params.intentional_logistics_id = null; } })())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"filter-method\":_vm.logisticsInvok},on:{\"focus\":_vm.logisticsInvok,\"change\":_vm.logisticsChanges},model:{value:(_vm.params.intentional_logistics_id),callback:function ($$v) {_vm.$set(_vm.params, \"intentional_logistics_id\", $$v)},expression:\"params.intentional_logistics_id\"}},_vm._l((_vm.logisticsList),function(item){return _c('el-option',{key:item.logistics_id,attrs:{\"label\":item.logistics_name,\"value\":item.logistics_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"退货原因\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function() { if (_vm.params.reason_id == 0) { _vm.params.reason_id = null; } })())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"value-key\":\"item.reason_id\"},on:{\"focus\":_vm.getReasonListInvok},model:{value:(_vm.params.reason_id),callback:function ($$v) {_vm.$set(_vm.params, \"reason_id\", $$v)},expression:\"params.reason_id\"}},_vm._l((_vm.reasonList),function(item){return _c('el-option',{key:item.reason_id,attrs:{\"label\":item.reason_name,\"value\":item.reason_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"单据状态:\",\"size\":\"mini\",\"disabled\":\"\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.auditor_status_name),callback:function ($$v) {_vm.$set(_vm.params, \"auditor_status_name\", $$v)},expression:\"params.auditor_status_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"size\":\"mini\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.remark),callback:function ($$v) {_vm.$set(_vm.params, \"remark\", $$v)},expression:\"params.remark\"}})],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(!_vm.onlyQuote)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"disabled\":_vm.line == 1,\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addLine('ruleForm')}}},[_vm._v(\"增行\")]):_vm._e(),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deleteF}},[_vm._v(\"删行\")])],1),_c('xTable',{ref:\"xTable\",attrs:{\"isEdit\":_vm.isEdit,\"tableColumn\":_vm.tableColumn,\"showFooter\":true,\"totalArray\":['return_goods_num','return_subtotal_price']}}),_c('div',{staticClass:\"refundauditFoot\"},[_c('span',[_vm._v(\"制单人：\"+_vm._s(_vm.username))]),_c('span',[_vm._v(\"单据时间：\"+_vm._s(_vm.params.add_time))]),_c('span',[_vm._v(\"审核人：\"+_vm._s(_vm.params.auditor_name))]),_c('span',[_vm._v(\"审核时间：\"+_vm._s(_vm.params.auditor_time))]),_c('span',[_vm._v(\"修改人：\"+_vm._s(_vm.params.update_user_name))]),_c('span',[_vm._v(\"修改时间：\"+_vm._s(_vm.params.update_time))])]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.submitDisabled},on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"确 定\")])],1),(_vm.salesDocumentsVisible)?_c('div',[_c('el-dialog',{staticClass:\"dialogForm\",attrs:{\"close-on-click-modal\":false,\"title\":'引用三包出库单据',\"visible\":_vm.salesDocumentsVisible,\"width\":\"1030px\"},on:{\"update:visible\":function($event){_vm.salesDocumentsVisible=$event},\"close\":function($event){_vm.salesDocumentsVisible = false}}},[_c('outboundOrder',{attrs:{\"par\":_vm.params},on:{\"closedialog\":function($event){_vm.salesDocumentsVisible = false},\"dialogformInline\":_vm.dialogformInline}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[_c('el-input',{staticClass:\"shortSearchInput\",attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.params.outstock_sn),callback:function ($$v) {_vm.$set(_vm.params, \"outstock_sn\", $$v)},expression:\"params.outstock_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"客户名称\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"disabled\":_vm.khdisable,\"clearable\":\"\",\"maxlength\":\"100\",\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":_vm.clienteleListInvok},model:{value:(_vm.params.customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"customer_id\", $$v)},expression:\"params.customer_id\"}},_vm._l((_vm.customerList),function(item){return _c('el-option',{key:item.customer_id,attrs:{\"label\":item.customer_name,\"value\":item.customer_id}})}),1)],1),_c('el-form-item',{staticStyle:{},attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")])],1)],1),_c('div',{staticClass:\"add_delet\"},[_c('p',[_vm._v(\"【\"+_vm._s(_vm.title)+\"单】单据列表\")])]),_c('div',{staticClass:\"table_container\"},[_c('el-table',{directives:[{name:\"loadmore\",rawName:\"v-loadmore\",value:(_vm.loadMore),expression:\"loadMore\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData.tableData,\"max-height\":\"200\"},on:{\"row-click\":_vm.handleCurrentChanges}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"width\":\"50\",\"label\":\"选择\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.outstock_sn},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(_vm._s(null))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"outstock_sn\",\"width\":\"150\",\"label\":\"单据号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"customer_name\",\"label\":\"客户名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"outstock_num\",\"label\":\"商品数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"unreturn_num\",\"label\":\"未退货数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"business_time\",\"label\":\"业务日期\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"add_time\",\"label\":\"单据时间\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"auditor_status_name\",\"label\":\"单据状态\"}})],1)],1),_c('p',{staticStyle:{\"margin\":\"20px 0px\",\"border-bottom\":\"1px dashed #e5e5e5\"}}),_c('div',{staticClass:\"add_delet\"},[_c('p',[_vm._v(\"【\"+_vm._s(_vm.title)+\"单】单据明细\")])]),_c('div',{staticClass:\"table_container\"},[_c('el-table',{ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableDatas,\"max-height\":\"300\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\"}}),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"40\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"outstock_sn\",\"width\":\"150\",\"label\":\"单据号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"label\":\"商品编号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"unreturn_num\",\"label\":\"未退货数量\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"batch\",\"label\":\"年周/批次\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"warehouse_name\",\"label\":\"仓库\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"allocation_name\",\"label\":\"货位\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.dialogCancelForm}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dialogSubmitForm}},[_vm._v(\"确 定\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\">\n\n        <el-form-item label=\"业务日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\">\n          <el-input v-model=\"params.outstock_sn\" class=\"shortSearchInput\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"客户名称\" size=\"mini\">\n          <el-select :disabled=\"khdisable\" clearable v-model=\"params.customer_id\" @focus=\"clienteleListInvok\" maxlength=\"100\" filterable placeholder=\"请选择\">\n            <el-option v-for=\"item in customerList\" :label=\"item.customer_name\" :value=\"item.customer_id\" :key=\"item.customer_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item size=\"mini\" style=\"search-style\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n          <!-- <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button> -->\n        </el-form-item>\n      </el-form>\n      <div class=\"add_delet\">\n        <p>【{{title}}单】单据列表</p>\n      </div>\n      <div class=\"table_container\">\n        <el-table :highlight-current-row=\"true\" v-loadmore=\"loadMore\" tooltip-effect=\"light\" border :data=\"TableData.tableData\" style=\"width: 100%\" @row-click=\"handleCurrentChanges\" max-height=\"200\">\n          <el-table-column :show-overflow-tooltip=\"true\" width=\"50\" label=\"选择\">\n            <template slot-scope=\"scope\">\n              <el-radio v-model=\"radio\" :label=\"scope.row.outstock_sn\">{{null}}</el-radio>\n            </template>\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"outstock_sn\" width=\"150\" label=\"单据号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"customer_name\" label=\"客户名称\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"outstock_num\" label=\"商品数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"unreturn_num\" label=\"未退货数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"business_time\" label=\"业务日期\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"add_time\" label=\"单据时间\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"auditor_status_name\" label=\"单据状态\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <p style=\"margin:20px 0px;border-bottom: 1px dashed #e5e5e5\"></p>\n      <div class=\"add_delet\">\n        <p>【{{title}}单】单据明细</p>\n      </div>\n      <div class=\"table_container\">\n        <el-table ref=\"table\" :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableDatas\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\" max-height=\"300\">\n          <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\">\n          </el-table-column>\n          <el-table-column type=\"index\" label=\"序号\" width=\"40\"></el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"outstock_sn\" width=\"150\" label=\"单据号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" label=\"商品编号\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_name\" label=\"商品名称\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"unreturn_num\" label=\"未退货数量\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"batch\" label=\"年周/批次\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"warehouse_name\" label=\"仓库\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"allocation_name\" label=\"货位\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogCancelForm\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogSubmitForm\">确 定</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getData,\n  getDataList,\n  opthionList\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  data() {\n    return {\n      params: {},\n      searchParams: {},\n      timeValue: [],\n      multipleSelection: [],\n      supplierList: [],\n      companyList: [],\n      TableDatas: [],\n      tabledatas: [],\n      radio: null,\n      goPage: 1,\n      pageSize: 30,\n      per_page: [30, 50, 100, 500],\n      order_id: \"\",\n      searchParams: {},\n      loadSign: true,\n      khdisable: false\n    };\n  },\n  methods: {\n    loadMore() {\n      if (this.loadSign) {\n        this.loadSign = false;\n        this.goPage++;\n        Object.assign(this.searchParams.params, {\n          page: this.goPage\n        });\n        getData(this.searchParams, 4);\n        setTimeout(() => {\n          this.loadSign = true;\n        }, 1000);\n      }\n    },\n    onSearch() {\n      if (this.timeValue && this.timeValue.length == 2) {\n        this.params.start_time = this.timeValue[0];\n        this.params.end_time = this.timeValue[1];\n      } else {\n        this.params.start_time = this.params.end_time = \"\";\n      }\n      // getDataList(\n      //   this,\n      //   {\n      //     API: \"v2getSalesOutstockList\",\n      //     params: this.params\n      //   },\n      //   \"TableData.tableData\"\n      // );\n      getData(this.searchParams);\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    onReset() {\n      this.$set(this, \"params\", {});\n      this.$set(this.params, \"company_id\", this.par.company_id);\n      this.timeValue = [];\n      getDataList(\n        this,\n        {\n          API: \"v2getSalesOutstockList\",\n          params: this.params\n        },\n        \"TableData.tableData\"\n      );\n    },\n    handleCurrentChanges(val) {\n      this.$axMethod\n        .v2getSalesOutstockInfo({\n          outstock_id: val.outstock_id,\n          outstock_type_id: val.outstock_type_id\n        })\n        .then(({ data }) => {\n          if (data.code == 200) {\n            this.tabledatas = data.data;\n            this.TableDatas = data.data.goods_list;\n            this.TableDatas.forEach((item, i) => {\n              this.$nextTick(function() {\n                this.$refs.table.toggleRowSelection(this.TableDatas[i], true);\n              });\n            });\n          }\n        });\n    },\n    dialogCancelForm() {\n      this.$emit(\"closedialog\", false);\n    },\n    dialogSubmitForm() {\n      if (!this.TableDatas.length) {\n        this.$message.error(\"请选择订单\");\n        return false;\n      }\n      this.tabledatas.goods_list = this.multipleSelection;\n      this.$emit(\"dialogformInline\", this.tabledatas);\n    }\n  },\n  props: [\"par\"],\n  mounted() {\n    this.params = {\n      company_id: this.par.company_id,\n      customer_id: this.par.customer_id,\n      outstock_type_id: this.par.outstock_type_id\n    };\n    this.$set(this, \"customerList\", [\n      {\n        customer_id: this.par.customer_id,\n        customer_name: this.par.customer_name\n      }\n    ]);\n    if (this.par.customer_id) {\n      this.khdisable = true;\n    }\n    if (this.par.outstock_type_id == 10002) {\n      this.title = \"销售出库\";\n    } else {\n      this.title = \"三包出库\";\n    }\n    this.$set(this, \"searchParams\", {\n      params: this.params,\n      TableData: this.TableData, //列表数据\n      API: \"v2getSalesOutstockList\", //接口名\n      vm: this //传递的this\n    });\n    getData(this.searchParams);\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outboundOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./outboundOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./outboundOrder.vue?vue&type=template&id=d3eb3874&scoped=true&\"\nimport script from \"./outboundOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./outboundOrder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3eb3874\",\n  null\n  \n)\n\nexport default component.exports","// 表格模型\nexport const rowModule = {\n  // \"line\": 2,\n  \"return_goods_num\": '',\n  \"unit_price\": '',\n  \"return_subtotal_price\": '',\n  \"return_goods_id\": 0,\n  \"batch\": getWeek(),\n  \"goods_name\": '',\n  \"warehouse_id\": '',\n  \"warehouse_name\": \"\",\n  \"allocation_id\": '',\n  \"allocation_name\": '',\n  \"goods_id\": '',\n  \"goods_sn\": '',\n  \"is_tire_management\": '',\n  \"brand_id\": '',\n  \"unit_name\": '',\n  \"batch_id\": '',\n  \"remark\": '',\n  \"stocks\": '',\n  \"is_system\": '',\n  \"add_time\": '',\n  \"production_time\": \"\"\n}\n// 不引用订单表格模型 不引用订单提交参数\n\n// 获取批次\nexport function getWeek() {\n  var today = new Date();\n  var firstDay = new Date(today.getFullYear(), 0, 1);\n  var dayOfWeek = firstDay.getDay();\n  var spendDay = 1;\n  if (dayOfWeek != 0) {\n    spendDay = 7 - dayOfWeek + 1;\n  }\n  firstDay = new Date(today.getFullYear(), 0, 1 + spendDay);\n  var d = Math.ceil((today.valueOf() - firstDay.valueOf()) / 86400000);\n  var result =\n    String(Math.ceil(d / 7) + 1).length == 2 ?\n      Math.ceil(d / 7) + 1 :\n      `0${Math.ceil(d / 7) + 1}`;\n  var year = today\n    .getFullYear()\n    .toString()\n    .substring(2);\n  return `${result}${year}`;\n}\n// 销售退货\nexport const tableHead = {\n  data() {\n    return {\n      validRules: {\n        goods_name: [{\n          required: true,\n          message: '商品必填'\n        }],\n        batch: [{\n          required: true,\n          message: '批次必填'\n        }],\n        warehouse_name: [{\n          required: true,\n          message: '仓库必填'\n        }],\n        return_goods_num: [{\n          required: true,\n          message: '数量必填'\n        }]\n      },\n      tableColumn: [{\n        type: \"checkbox\",\n        width: 44,\n        treeNode: true,\n        align: 'center'\n      },\n      {\n        title: '序号',\n        type: \"index\",\n        width: 60\n      },\n      {\n        title: '商品编号',\n        field: 'goods_id',\n        width: 80\n      },\n      {\n        title: '商品名称',\n        field: 'goods_name',\n        width: 400,\n        headIcon: true,\n        editRender: {\n          name: 'vGoods',\n          getParams: () => {\n            return {\n              params: {\n                company_id: this.params.company_id,\n                customer_id: this.params.customer_id\n              },\n              showObj: {\n                goods_id: \"商品编号\",\n                goods_name: \"商品名称\"\n              }\n            }\n          },\n          events: {\n            change: this.changeGoods\n          }\n        }\n      },\n      {\n        title: '年周/批次',\n        field: 'batch',\n        headIcon: true,\n        width: 120,\n        editRender: {\n          name: 'Vinput',\n          formatter: 'String',\n          placeholder: '周周年年,如1421',\n          events: {\n            blur: this.blurChange\n          }\n        }\n      },\n      {\n        title: '数量',\n        field: 'return_goods_num',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        width: 88,\n        headIcon: true,\n        editRender: {\n          name: 'number',\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '销售单价',\n        field: 'unit_price',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        width: 132,\n        editRender: {\n          name: 'Vinput',\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '金额',\n        field: 'return_subtotal_price',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        width: 100,\n        editRender: {\n          name: 'Vinput',\n          events: {\n            input: this.handleEdit\n          }\n        },\n      },\n      {\n        title: '仓库名称',\n        field: 'warehouse_name',\n        width: 132,\n        headIcon: true,\n        editRender: {\n          name: 'vSelect',\n          getParams: ({ row }) => {\n            return {\n              url: 'getWarehouseFocus',\n              params: {\n                company_id: this.params.company_id\n              },\n              itemObj: {\n                id: 'warehouse_id',\n                name: 'warehouse_name'\n              }\n            }\n          },\n          events: {\n            change: ({ row }, obj) => {\n              // 2019/11/13 小强讨论仓库该变了批次ID为0\n              row.allocation_name = obj.allocation_name\n              row.allocation_id = obj.allocation_id\n              row.batch_id = 0\n              row.warehouse_name = obj.warehouse_name\n              this.$axios({\n                method: \"get\",\n                url: this.$api.newAllocationList,\n                params: {\n                  company_id: this.params.company_id,\n                  warehouse_id: row.warehouse_id,\n                  goods_id: row.goods_id\n                }\n              }).then(res => {\n                if (res.data.data) {\n                  for (let item of res.data.data) {\n                    if (item.is_system == 1) {\n                      //设置默认货位\n                      row.allocation_id = item.allocation_id\n                      row.allocation_name = item.allocation_name\n                      row.is_system = item.stocks\n                      row.stocks = item.stocks\n                    }\n                  }\n                }\n              });\n            }\n          }\n        }\n      },\n      {\n        title: '货位名称',\n        field: 'allocation_name',\n        width: 130,\n        editRender: {\n          name: 'vAllocation',\n          getParams: ({\n            row\n          }) => {\n            return {\n              url: 'newAllocationListList',\n              isPage: true,\n              params: {\n                company_id: this.params.company_id,\n                warehouse_id: row.warehouse_id,\n                goods_id: row.goods_id\n              }\n            }\n          },\n          events: {\n            change: ({ row }, val) => {\n              // 2019/11/13 小强讨论货位该变了批次ID为0\n              row.is_system = val.is_system\n              row.stocks = val.stocks\n              row.batch_id = 0\n              row.allocation_name = val.allocation_name\n            }\n          }\n        }\n      },\n      {\n        title: '生产日期',\n        field: 'production_time',\n        width: '100',\n        slots: {\n          header: () => {\n            return [<el-tooltip class=\"item\"\n              content=\"Bottom center\"\n              effect=\"light\" >\n              <p slot=\"content\" > 生产日期列后期将会隐藏， 同时新增商品入库日期列 </p> < span class=\"el-icon-question\"\n                style=\"cursor:pointer;font-weight:bold;\" > 生产日期 </span> </el-tooltip>\n            ]\n          }\n        }\n      },\n      {\n        title: '单位',\n        field: 'unit_name',\n        width: '50',\n      },\n      {\n        title: '备注',\n        field: 'remark',\n        editRender: {\n          name: 'Vinput',\n          formatter: 'String'\n        }\n      },\n      ]\n    }\n  },\n  methods: {\n    blurChange({ row }) {\n      if (row.batch.toString().length != 4) {\n        this.$message.warning(\"年周/批次填写错误，标准格式：周周年年，如1421\");\n        this.$set(row, \"batch\", '');\n      } else {\n        if (row.batch.toString().substr(0, 2) > 52 || row.batch.toString().substr(2, 2) > 21) {\n          this.$message.warning(\"年周/批次填写错误，标准格式：周周年年，如1421\");\n          this.$set(row, \"batch\", '');\n        }\n      }\n    },\n    isEdit({ column }) {\n      if (column.property === 'goods_name' || column.property === 'batch') {\n        if (this.line !== 2) {\n          this.$publicFution.confirm('引入出库单不可修改')\n          return false\n        }\n      }\n      return true\n    }\n  }\n}","\n<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>售后管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">三包退货</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>新增三包退货单</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" ref=\"ruleForm\" :model=\"params\" class=\"demo-form-inline\">\n        <el-form-item label=\"销售组织\" size=\"mini\" prop=\"company_id\" :rules=\"rules.company_id\">\n          {{\n            (function() {\n              if (params.company_id == 0) params.company_id = null;\n            })()\n          }}\n          <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" @change=\"companyChange\" @focus=\"companyListInvok\" filterable :disabled=\"line == 1\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type == 1 ? 'optionStyle' : ''\">{{\n                item.company_name\n              }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"客户名称\" size=\"mini\" prop=\"customer_id\" :rules=\"rules.customer_id\">\n          {{\n            (function() {\n              if (params.customer_id == 0) params.customer_id = null;\n            })()\n          }}\n          <el-select v-model=\"params.customer_id\" filterable placeholder=\"请选择\" @change=\"changeCustomer\" clearable @focus=\"clienteleListInvok\" :loading=\"loading\" remote :remote-method=\"clienteleListInvok\" :disabled=\"line == 1\">\n            <ul class=\"customer customer-ul4 customer-ul2\">\n              <li>客户编号</li>\n              <li>客户名称</li>\n              <li>联系人</li>\n              <li>联系电话</li>\n              <li>区域</li>\n            </ul>\n            <el-option v-for=\"item in customerList\" :key=\"item.customer_id\" :label=\"item.customer_name\" :value=\"item.customer_id\">\n              <ul class=\"customer customer-ul4\">\n                <li :title=\"item.customer_id\">{{ item.customer_id }}</li>\n                <li :title=\"item.customer_name\">{{ item.customer_name }}</li>\n                <li :title=\"item.contact_name\">{{ item.contact_name }}</li>\n                <li :title=\"item.customer_mobile\">\n                  {{ item.customer_mobile }}\n                </li>\n                <li>\n                  {{ item.province_name }}/{{ item.city_name }}/{{\n                    item.area_name\n                  }}\n                </li>\n              </ul>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\" prop=\"business_time\" :rules=\"rules.business_time\">\n          <el-date-picker v-model=\"params.business_time\" type=\"date\" value-format=\"yyyy-MM-dd\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"部门\" size=\"mini\">\n          {{\n            (function() {\n              if (params.department_id == 0) params.department_id = null;\n            })()\n          }}\n          <el-select clearable v-model=\"params.department_id\" placeholder=\"请选择\" @focus=\"DepartmentListInvok\" filterable :disabled=\"line == 1\">\n            <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务员\" size=\"mini\">\n          {{\n            (function() {\n              if (params.business_id == 0) params.business_id = null;\n            })()\n          }}\n          <el-select clearable v-model=\"params.business_id\" placeholder=\"请选择\" @focus=\"EmployeeListInvok(1)\" :disabled=\"line == 1\">\n            <el-option :label=\"item.employee_name\" :value=\"item.employee_id\" :key=\"item.employee_id\" v-for=\"item in employeeList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\">\n          <el-input v-model=\"params.return_sn\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"来源单号\" size=\"mini\">\n          <el-input v-if=\"!this.params.return_id\" v-model=\"params.outstock_sn\" @click.native=\"salesDocumentsVisible = true;\" clearable @clear=\"clearF\" :disabled=\"line == 2\" style=\"cursor:pointer;width: 200px;\" suffix-icon=\"el-icon-more\"></el-input>\n          <el-input v-else v-model=\"params.outstock_sn\" disabled readonly suffix-icon=\"el-icon-more\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"物流公司\" size=\"mini\">\n          {{\n            (function() {\n              if (params.intentional_logistics_id == 0)\n                params.intentional_logistics_id = null;\n            })()\n          }}\n          <el-select clearable v-model=\"params.intentional_logistics_id\" filterable @focus=\"logisticsInvok\" @change=\"logisticsChanges\" :filter-method=\"logisticsInvok\">\n            <el-option v-for=\"item in logisticsList\" :label=\"item.logistics_name\" :value=\"item.logistics_id\" :key=\"item.logistics_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"退货原因\" size=\"mini\">\n          {{\n            (function() {\n              if (params.reason_id == 0) params.reason_id = null;\n            })()\n          }}\n          <el-select clearable v-model=\"params.reason_id\" value-key=\"item.reason_id\" @focus=\"getReasonListInvok\">\n            <el-option v-for=\"item in reasonList\" :label=\"item.reason_name\" :value=\"item.reason_id\" :key=\"item.reason_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"单据状态:\" size=\"mini\" disabled>\n          <el-input v-model=\"params.auditor_status_name\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\" size=\"mini\" prop=\"remark\">\n          <el-input type=\"text\" v-model=\"params.remark\" maxlength=\"300\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"add_delet\">\n      <el-button icon=\"el-icon-circle-plus-outline\" @click=\"addLine('ruleForm')\" type=\"primary\" class=\"addBtn\" v-if=\"!onlyQuote\" :disabled=\"line == 1\" size=\"mini\">增行</el-button>\n      <el-button plain icon=\"el-icon-delete\" @click=\"deleteF\" size=\"mini\">删行</el-button>\n    </div>\n    <xTable ref='xTable' :isEdit='isEdit' :tableColumn='tableColumn' :showFooter='true' :totalArray=\"['return_goods_num','return_subtotal_price']\" />\n\n    <div class=\"refundauditFoot\">\n      <span>制单人：{{ username }}</span>\n      <span>单据时间：{{ params.add_time }}</span>\n      <span>审核人：{{ params.auditor_name }}</span>\n      <span>审核时间：{{ params.auditor_time }}</span>\n      <span>修改人：{{ params.update_user_name }}</span>\n      <span>修改时间：{{ params.update_time }}</span>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"goBack()\">取 消</el-button>\n      <el-button type=\"primary\" :disabled=\"submitDisabled\" @click=\"submit('ruleForm')\">确 定</el-button>\n    </div>\n    <div v-if=\"salesDocumentsVisible\">\n      <el-dialog :close-on-click-modal=\"false\" :title=\"'引用三包出库单据'\" :visible.sync=\"salesDocumentsVisible\" class=\"dialogForm\" width=\"1030px\" @close=\"salesDocumentsVisible = false\">\n        <outboundOrder @closedialog=\"salesDocumentsVisible = false\" @dialogformInline=\"dialogformInline\" :par=\"params\"></outboundOrder>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from \"@/sever/api\";\nimport outboundOrder from \"./config/outboundOrder\";\nimport {\n  tableHead,\n  rowModule,\n  getWeek,\n  paramsModule\n} from \"./config/threePackageReturnAdd\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport {\n  CompanySwitchClear,\n  opthionList,\n  bindIdsF\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"threePackageReturnAdd\",\n  mixins: [tableHead],\n  data() {\n    return {\n      username: localStorage.getItem(\"realname\"),\n      onlyQuote: false, // 账套\n      rebate_price: 0,\n      credit_price: 0,\n      loading:false,\n      deposits_price: 0,\n      pagetotle: 0, //本页的合计金额用于引用之后的计算\n      pagetotlenum: 0, //本页的合计数量用于引用之后的计算\n      disabled: false, //是否禁用按钮\n      add_user_name: localStorage.employee_name,\n      line: null, // line 等于1是引入出库单  等于2是增行\n      params: {\n        business_time: this.$publicFution.formatData(new Date()),\n        company_id: Number(localStorage.company_id),\n        outstock_type_id: 10007\n      },\n      customer_name: null,\n      salesDocumentsVisible: false, //来源单号表弹框\n      submitDisabled: false\n    };\n  },\n  components: {\n    outboundOrder //销售单据\n  },\n  methods: {\n    // 引入出库单\n    dialogformInline(row) {\n      row.info.outstock_type_id = this.params.outstock_type_id;\n      bindIdsF(this, row.info, [\n        [\"company_id\", \"company_name\", \"companyList\"],\n        [\"department_id\", \"department_name\", \"departmentList\"],\n        [\"customer_id\", \"customer_name\", \"customerList\"],\n        [\"logistics_id\", \"logistics_name\", \"logisticsList\"]\n      ]);\n      this.$set(this, \"logisticsList\", [\n        {\n          logistics_name: row.info.intentional_logistics,\n          logistics_id: row.info.intentional_logistics_id\n        }\n      ]);\n      this.$set(this, \"employeeList\", [\n        {\n          employee_id: row.info.business_id,\n          employee_name: row.info.business_name\n        }\n      ]);\n      row.goods_list.forEach((val, index) => {\n        this.pagetotlenum += val.remain_num;\n        this.pagetotle += Number(val.subtotal_price);\n        val.unit_price = Number(\n          val.unit_price - val.discount_unit_price\n        ).toFixed(2); //单价：默认是折后单价，可以修改；\n        val.true_unit_price = val.unit_price; // 出库的单价（中间变量）\n        val.return_goods_num = val.remain_num;\n        val.return_subtotal_price = val.subtotal_price;\n      });\n      this.$refs.xTable._proxy(\"loadData\", row.goods_list);\n      this.$set(\n        this,\n        \"params\",\n        Object.assign({}, row.info, {\n          business_time: this.$publicFution.formatData(new Date())\n        })\n      );\n      if (this.pagetotlenum >= this.params.unreturn_num) {\n        this.rebate_price = Number(this.params.un_rebate_price);\n        this.credit_price = Number(this.params.un_credit_price);\n        this.deposits_price = Number(this.params.un_deposits_price);\n      } else {\n        this.rebate_price =\n          Number(this.params.outstock_rebate_price) *\n          (Number(this.pagetotle) / Number(this.params.outstock_price));\n        this.rebate_price = this.rebate_price.toFixed(2);\n        this.credit_price =\n          Number(this.params.outstock_credit_price) *\n          (Number(this.pagetotle) / Number(this.params.outstock_price));\n        this.credit_price = this.credit_price.toFixed(2);\n        this.deposits_price =\n          Number(this.params.outstock_deposits_price) *\n          (Number(this.pagetotle) / Number(this.params.outstock_price));\n        this.deposits_price = this.deposits_price.toFixed(2);\n      }\n      this.line = 1;\n      this.salesDocumentsVisible = false;\n    },\n    // 修改司机\n    logisticsChanges(val) {\n      if (val) {\n        this.params.logistics_name = this.logisticsList.filter(\n          obj => obj.logistics_id == val\n        )[0].logistics_name;\n      }\n      this.params.intentional_logistics = this.params.logistics_name;\n    },\n    // 修改客户\n    changeCustomer(val) {\n      if (!val) return;\n      let params = {\n        customer_id: this.params.customer_id,\n        company_id: this.params.company_id\n      };\n      this.params.customer_name = this.customerList.filter(\n        item => item.customer_id == val\n      )[0].customer_name;\n      params.company_id = this.customerList.filter(\n        item => item.customer_id == val\n      )[0].company_id;\n      this.$axMethod.getCustomerInfoNEWqx(params).then(({ data }) => {\n        if (data.code == 200) {\n          this.$set(this.params, \"business_id\", data.data.business_id); //业务员\n          // this.$set(this.params, \"department_id\", data.data.department_id); //部门\n          Object.assign(data.data, {\n            employee_id: data.data.business_id,\n            employee_name: data.data.business_name\n          });\n          bindIdsF(this, data.data, [\n            [\"employee_id\", \"employee_name\", \"employeeList\"]\n          ]);\n        }\n      });\n    },\n    // 公司改变\n    companyChange(val) {\n      CompanySwitchClear(this, this.params);\n      this.$refs.xTable._proxy(\"loadData\");\n      this.$set(this.params, \"reason_id\", 0);\n      this.$baseData.settingInfo({ num: 3, company_id: val },()=>{\n      if (localStorage.FDBName_business) {\n        let state = JSON.parse(localStorage.getItem(\"FDBName_business\"));\n        this.onlyQuote = state[8].status == 1 ? true : false;\n      }\n      });\n\n    },\n    // 增行\n    addLine(ruleForm) {\n      this.$refs[ruleForm].validate(valid => {\n        if (valid) {\n          this.line = 2;\n          this.$refs.xTable._proxy(\n            \"insertAt\",\n            this.$publicFution.deepCopy(rowModule),\n            -1\n          );\n          this.$refs.xTable._proxy(\"updateFooter\");\n        }\n      });\n    },\n    // 清除来源单号\n    clearF(e) {\n      this.$refs.xTable._proxy(\"loadData\", []);\n      this.$refs.xTable._proxy(\"updateFooter\");\n      this.line = null;\n      this.params = {\n        business_time: this.$publicFution.formatData(new Date()),\n        company_id: Number(localStorage.company_id),\n        outstock_type_id: 10007\n      };\n    },\n    // 商品改变\n    changeGoods(value, { row }) {\n      let goodsInfo = [\n        \"goods_id\",\n        \"goods_sn\",\n        \"goods_name\",\n        \"is_tire_management\",\n        \"brand_id\",\n        \"unit_name\",\n        \"unit_price\"\n      ];\n      // 切换商品时初始字段\n      let clearFieldArr = [\n        { field: \"warehouse_id\", initValue: \"\" },\n        { field: \"warehouse_name\", initValue: \"\" },\n        { field: \"allocation_id\", initValue: \"\" },\n        { field: \"allocation_name\", initValue: \"\" },\n        { field: \"allocationInventoryList\", initValue: [] },\n        { field: \"unit_price\", initValue: \"\" }\n      ];\n      clearFieldArr.forEach(item => {\n        if (!item.isClear) {\n          row[item[\"field\"]] = item[\"initValue\"];\n        }\n      });\n      goodsInfo.forEach((item, i) => {\n        row[item] = value[item];\n      });\n      // 进行计算\n      this.handleEdit({ row: row, column: { property: \"unit_price\" } });\n      var box = this.$refs.xTable._proxy(\"getTableData\").fullData.concat([]);\n      if (box[box.length - 1].goods_name) {\n        this.addLine(\"ruleForm\");\n      }\n    },\n    // 删行\n    deleteF() {\n      var list = this.$refs.xTable._proxy(\"getSelectRecords\");\n      if (list.length) {\n        this.$refs.xTable._proxy(\"removeSelecteds\");\n        this.$refs.xTable._proxy(\"updateFooter\");\n        if (this.line == 1) {\n          this.pagetotle = 0;\n          this.pagetotlenum = 0;\n          this.$refs.xTable._proxy(\"getTableData\").fullData.forEach(item => {\n            this.pagetotle += Number(item.return_subtotal_price);\n            this.pagetotlenum += Number(item.return_goods_num);\n          });\n          this.pagetotle = this.pagetotle.toFixed(2);\n          if (this.pagetotlenum >= this.params.unreturn_num) {\n            this.rebate_price = Number(this.params.un_rebate_price);\n            this.credit_price = Number(this.params.un_credit_price);\n            this.deposits_price = Number(this.params.un_deposits_price);\n          } else {\n            this.rebate_price =\n              Number(this.params.outstock_rebate_price) *\n              (Number(this.pagetotle) / Number(this.params.outstock_price));\n            this.rebate_price = this.rebate_price.toFixed(2);\n            this.credit_price =\n              Number(this.params.outstock_credit_price) *\n              (Number(this.pagetotle) / Number(this.params.outstock_price));\n            this.credit_price = this.credit_price.toFixed(2);\n            this.deposits_price =\n              Number(this.params.outstock_deposits_price) *\n              (Number(this.pagetotle) / Number(this.params.outstock_price));\n            this.deposits_price = this.deposits_price.toFixed(2);\n          }\n        }\n      } else {\n        this.$message.warning(\"请先选择要删除的商品！\");\n      }\n      if (this.$refs.xTable._proxy(\"getTableData\").fullData.length === 0) {\n        if (!this.params.outstock_sn) {\n          this.$set(this, \"line\", null);\n        }\n      }\n    },\n    // 计算\n    handleEdit({ row, column }) {\n      var obj = {\n        num: \"return_goods_num\", // 商品数量的key\n        price: \"unit_price\", // 商品价格的key\n        goodsPrice: \"return_subtotal_price\" // 商品总金额的key  数量 * 单价\n      };\n      this.$publicFution.computeTotal(row, obj, column.property, this);\n      this.$refs.xTable._proxy(\"updateFooter\");\n      if (this.line != 2) {\n        // 进行下面的计算 如果退货的数量>=引用的数量按照方案1计算\n        // 计算方案1\n        // 最后一笔全部退出;\n        //返利总金额-已使用的返利\n        //返利总金额-已使用授信\n        //返利总金额-已使用预收\n        // 计算方案2\n        // 返利的计算：引用出库单据上的使用返利 rebate_price ×（（退货单的合计金额÷出库金额 outstock_price））；\n        // 授信的计算：引用出库单据上的使用授信 credit_price×（（退货单的合计金额÷出库金额 outstock_price））；\n        // 预收的计算：引用出库单据上的使用预收 deposits_price×（（退货单的合计金额÷出库金额 outstock_price））；\n        this.pagetotle = 0;\n        this.pagetotlenum = 0;\n        this.$refs.xTable._proxy(\"getTableData\").fullData.forEach(item => {\n          this.pagetotle += Number(item.return_subtotal_price);\n          this.pagetotlenum += Number(item.return_goods_num);\n        });\n        this.pagetotle = this.pagetotle.toFixed(2);\n        if (this.pagetotlenum >= this.params.unreturn_num) {\n          this.rebate_price = Number(this.params.un_rebate_price);\n          this.credit_price = Number(this.params.un_credit_price);\n          this.deposits_price = Number(this.params.un_deposits_price);\n        } else {\n          this.rebate_price =\n            Number(this.params.outstock_rebate_price) *\n            (Number(this.pagetotle) / Number(this.params.outstock_price));\n          this.rebate_price = this.rebate_price.toFixed(2);\n          this.credit_price =\n            Number(this.params.outstock_credit_price) *\n            (Number(this.pagetotle) / Number(this.params.outstock_price));\n          this.credit_price = this.credit_price.toFixed(2);\n          this.deposits_price =\n            Number(this.params.outstock_deposits_price) *\n            (Number(this.pagetotle) / Number(this.params.outstock_price));\n          this.deposits_price = this.deposits_price.toFixed(2);\n        }\n\n        if (row.return_goods_num > row.remain_num) {\n          this.$message.warning(\"退货数量不可大于可退货数量\");\n          this.submitDisabled = true;\n          setTimeout(() => {\n            this.$set(row, \"return_goods_num\", row.remain_num);\n            this.$set(\n              row,\n              \"return_subtotal_price\",\n              Number(row.unit_price * row.return_goods_num).toFixed(2)\n            );\n            this.submitDisabled = false;\n          }, 1000);\n        }\n      }\n    },\n    goBack() {\n      this.$publicFution.goPage(this.params.return_id);\n      this.$router.push({ path: \"/aftersale/threepackagereturn\" });\n    },\n    // 验证数据\n    verifyTableData(data) {\n      let invalideArr = this.TableData.filter(item => {\n        let canSubmit = data.every(key => {\n          return item[key] || item[key] === 0;\n        });\n        if (!canSubmit)\n          return Object.assign({}, item, {\n            index: item.index\n          });\n      });\n      if (invalideArr.length) {\n        this.$message.warning(\n          invalideArr[0].goods_id\n            ? `请完善 ${invalideArr[0].goods_name} 商品信息`\n            : `第${invalideArr[0].index}条商品信息有误`\n        );\n        return false;\n      }\n      return true;\n    },\n    submit(ruleForm) {\n      let _this = this;\n      this.carDoctorWarehouse = []; // 车郎中\n      this.TableData = this.$refs.xTable\n        ._proxy(\"getTableData\")\n        .fullData.concat([]);\n      if (this.TableData == null || !this.TableData.length) {\n        this.$message.warning(\"请增加退货信息！\");\n        return false;\n      }\n      if (!this.TableData[this.TableData.length - 1].goods_name) {\n        this.TableData.pop();\n      }\n      this.$refs[ruleForm].validate(valid => {\n        if (valid) {\n          let unitArry = [\n            \"return_goods_num\",\n            \"return_subtotal_price\",\n            \"unit_price\",\n            \"batch\",\n            \"warehouse_id\",\n            \"allocation_id\"\n          ];\n          let introdArry = [\n            \"return_goods_num\",\n            \"warehouse_id\",\n            \"allocation_id\",\n            \"unit_price\"\n          ];\n          if (this.params.intentional_logistics_id == 0) {\n            this.params.intentional_logistics = null;\n          }\n          // 2 引用订单\n          if (this.line == 1 || this.line == null) {\n            let isPassMsg = \"\"; // 判断是否能通过验证并保存当前行的商品编号 如果不为空则通过否则禁止通过验证\n            let return_goods_arr = [];\n\n            _this.TableData.forEach((item, index) => {\n              // 判断是否可以进行验证\n              if (!isPassMsg) {\n                const _subtotal_price = Number(item.subtotal_price);\n                const _return_subtotal_price = Number(\n                  item.return_subtotal_price\n                );\n                if (\n                  !isNaN(_subtotal_price) &&\n                  !isNaN(_return_subtotal_price) &&\n                  _return_subtotal_price > _subtotal_price\n                ) {\n                  isPassMsg = `商品编号：${item.goods_id} 可退货商品总价格为：${_subtotal_price}`;\n                }\n              }\n              return_goods_arr.push({\n                outstock_goods_id: item.outstock_goods_id,\n                batch_id: item.batch_id,\n                batch: item.batch,\n                return_subtotal_price: item.return_subtotal_price,\n                warehouse_id: item.warehouse_id,\n                return_unit_price:\n                  Number(item.unit_price || 0) +\n                  Number(item.discount_unit_price || 0), //退货单价（单价+优惠了的单价）\n                unit_price: item.true_unit_price ? item.true_unit_price : 0, //原价格 不变\n\n                return_goods_num: item.return_goods_num\n                  ? item.return_goods_num\n                  : 0,\n                discount_unit_price: item.discount_unit_price\n                  ? item.discount_unit_price\n                  : 0,\n                goods_id: item.goods_id,\n                remark: item.remark ? item.remark : \"\",\n                allocation_id: item.allocation_id,\n                return_num: item.return_goods_num ? item.return_goods_num : 0\n              });\n\n              if (this.params.return_id) {\n                //引用订单的修改要多传该参数\n                return_goods_arr[return_goods_arr.length - 1].return_goods_id =\n                  item.return_goods_id;\n              }\n              this.carDoctorWarehouse.push({\n                warehouse_name: item.warehouse_name,\n                warehouse_id: item.warehouse_id\n              });\n            });\n            if (isPassMsg) {\n              this.$message({\n                message: isPassMsg,\n                type: \"warning\"\n              });\n              return;\n            }\n            if (!_this.verifyTableData(unitArry)) return false;\n\n            let parn = {};\n            this.params.rebate_price = this.rebate_price;\n            this.params.credit_price = this.credit_price;\n            this.params.deposits_price = this.deposits_price;\n            this.params.return_goods_arr = JSON.stringify(return_goods_arr);\n            let axMethod = \"addThressReturnSales\"; // 新增接口\n            if (this.params.return_id) {\n              this.params.return_id = this.params.return_id;\n              this.params.type = 4;\n              axMethod = \"editThressReturnSales\"; // 编辑接口\n            } else {\n              this.params.type = 2;\n            }\n            // 校验对接车郎中\n            this.$baseData\n              .checkCarDoctor({\n                company_id: this.params.company_id,\n                company_name: this.params.company_name,\n                bill_type: 7,\n                bill_id: this.params.return_id,\n                operation_type: this.params.return_id ? 2 : 1,\n                goods_info: JSON.stringify(this.carDoctorWarehouse)\n              })\n              .then(() => {\n                _this.$axMethod[axMethod](_this.params).then(res => {\n                  if (res.data.code == 200) {\n                    _this.$message.success(res.data.msg);\n                    _this.goBack();\n                  }\n                });\n              });\n          }\n          if (this.line == 2) {\n            //(不引用订单)\n            for (let i = 0; i < this.TableData.length; i++) {\n              if (!this.TableData[i].goods_id) {\n                this.$message.warning({\n                  message: \"第\" + i + 1 + \"行请选择商品\"\n                });\n                return false;\n                break;\n              }\n            }\n            Object.assign(this.params, {\n              intentional_logistics: this.params.logistics_name\n            });\n            let tableData = [];\n            this.TableData.forEach((item, index) => {\n              item.return_unit_price =\n                Number(item.unit_price || 0) +\n                Number(item.discount_unit_price || 0); //退货单价（单价+优惠了的单价）\n              if (item.allocation_id) {\n                tableData.push(\n                  Object.assign({}, item, {\n                    allocation_id: item.allocation_id,\n                    allocation_name: item.allocation_id,\n                    stocks: item.allocation_id.stocks,\n                    is_system: item.allocation_id.stocks,\n                    intentional_logistics_id: item.intentional_logistics_id\n                  })\n                );\n              }\n              this.carDoctorWarehouse.push({\n                warehouse_name: item.warehouse_name,\n                warehouse_id: item.warehouse_id\n              });\n            });\n            if (!_this.verifyTableData(introdArry)) return false;\n            let parn = Object.assign(\n              {},\n              {\n                return_goods_arr: JSON.parse(JSON.stringify(tableData)),\n                reason_id: this.params.reason_id,\n                business_time: this.params.business_time,\n                remark: this.params.remark,\n                customer_id: this.params.customer_id,\n                business_id: this.params.business_id,\n                company_id: this.params.company_id,\n                department_id: this.params.department_id,\n                return_id: this.params.return_id,\n                intentional_logistics: this.params.intentional_logistics,\n                intentional_logistics_id: this.params.intentional_logistics_id,\n                outstock_type_id: this.params.outstock_type_id\n              }\n            );\n            let arryInclod = [\n              \"goods_id\",\n              \"batch\",\n              \"return_goods_num\",\n              \"warehouse_id\"\n            ];\n            let stack = false;\n            for (var i = 0; i < parn.return_goods_arr.length; i++) {\n              arryInclod.forEach(val => {\n                if (parn.return_goods_arr[i][val] == \"\") {\n                  stack = true;\n                }\n              });\n              if (stack) {\n                this.$message.warning({\n                  message: \"请完善信息\"\n                });\n                return false;\n              }\n            }\n            let goods_info = parn.return_goods_arr.map((val, index) => {\n              val.add_time = this.$publicFution.formatData(new Date());\n              if (!val.remark) val.remark = \"\";\n              if (!val.production_time) val.production_time = \"\";\n              if (!val.allocation_id) val.allocation_id = 0;\n              if (!val.warehouse_id) val.warehouse_id = 0;\n              if (!val.unit_price) val.unit_price = 0;\n              delete val.item;\n              delete val.allocationInventoryList;\n              return val;\n            });\n            parn.return_goods_arr = JSON.stringify(goods_info);\n            let axMethod = \"addThressReturnSales\"; // 新增接口\n            if (this.params.return_id) {\n              parn.return_id = this.params.return_id;\n              parn.type = 3;\n              axMethod = \"editThressReturnSales\"; // 编辑接口\n            } else {\n              parn.type = 1;\n            }\n            // 校验对接车郎中\n            this.$baseData\n              .checkCarDoctor({\n                company_id: this.params.company_id,\n                company_name: this.params.company_name,\n                bill_type: 7,\n                bill_id: this.params.return_id,\n                operation_type: this.params.return_id ? 2 : 1,\n                goods_info: JSON.stringify(this.carDoctorWarehouse)\n              })\n              .then(() => {\n                _this.$axMethod[axMethod](parn).then(res => {\n                  if (res.data.code == 200) {\n                    _this.$message.success(res.data.msg);\n                    _this.goBack();\n                  }\n                });\n              });\n          }\n        }\n      });\n    }\n  },\n  mounted() {\n    try {\n      if (localStorage.FDBName_business) {\n        let state = JSON.parse(localStorage.getItem(\"FDBName_business\"));\n        this.onlyQuote = state[8].status == 1 ? true : false;\n      }\n    } catch (error) {}\n    if (this.$route.query.id) {\n      this.$axios({\n        method: \"get\",\n        url: api.SeeThressReturn,\n        params: {\n          return_id: this.$route.query.id\n        }\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          Object.assign(data.data, {\n            logistics_name: data.data.intentional_logistics,\n            logistics_id: data.data.intentional_logistics_id\n          });\n          if (data.data.outstock_id == 0) {\n            this.line = 2;\n            data.data.goods_info.map(val => {\n              val.outstock_goods_num = \"\";\n              val.line = 2;\n              return val;\n            });\n          } else {\n            this.line = 1;\n          }\n          let warehouseListArr = [];\n          this.$set(this, \"warehouseList\", warehouseListArr);\n          this.$refs.xTable._proxy(\"loadData\", data.data.goods_info);\n          opthionList(this, data.data);\n          this.$set(this, \"params\", data.data);\n          delete this.params.goods_info;\n          this.rebate_price = this.params.rebate_price;\n          this.credit_price = this.params.credit_price;\n          this.deposits_price = this.params.deposits_price;\n          this.$set(this, \"employeeList\", [\n            {\n              employee_id: data.data.business_id,\n              employee_name: data.data.business_name\n            }\n          ]);\n        }\n      });\n    } else {\n      opthionList(this, window.localStorage);\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threePackageReturnAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threePackageReturnAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./threePackageReturnAdd.vue?vue&type=template&id=f8475506&scoped=true&\"\nimport script from \"./threePackageReturnAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./threePackageReturnAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8475506\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}