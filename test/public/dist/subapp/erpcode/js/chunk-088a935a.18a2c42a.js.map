{"version":3,"sources":["webpack://erpcode-[name]/./node_modules/core-js/internals/get-substitution.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.string.replace.js","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/addRebatemanage.vue?b004","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/selectBill.vue?26ca","webpack://erpcode-[name]/src/components/element/purchase/rebate/rebatemanage/selectBill.vue","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/selectBill.vue?d2ca","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/selectBill.vue","webpack://erpcode-[name]/src/components/element/purchase/rebate/rebatemanage/addRebatemanage.vue","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/addRebatemanage.vue?2ded","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/addRebatemanage.vue","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/selectBill.vue?0adb","webpack://erpcode-[name]/./src/components/element/purchase/rebate/rebatemanage/addRebatemanage.vue?c630"],"names":["uncurryThis","toObject","floor","Math","charAt","replace","stringSlice","slice","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","module","exports","matched","str","position","captures","namedCaptures","replacement","tailPos","length","m","symbols","undefined","match","ch","capture","n","f","apply","call","fixRegExpWellKnownSymbolLogic","fails","anObject","isCallable","toIntegerOrInfinity","toLength","toString","requireObjectCoercible","advanceStringIndex","getMethod","getSubstitution","regExpExec","wellKnownSymbol","REPLACE","max","min","concat","push","stringIndexOf","indexOf","maybeToString","it","String","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","re","exec","result","groups","a","_","nativeReplace","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","this","replacer","string","rx","S","res","done","value","functionalReplace","global","fullUnicode","unicode","lastIndex","results","matchStr","accumulatedResult","nextSourcePosition","i","index","j","replacerArgs","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","on","goBack","_s","title","ref","params","rules","company_id","companyListInvok","companyChange","model","callback","$$v","$set","expression","_l","item","key","company_name","class","type","department_id","DepartmentListInvok","departmentChange","department_name","supplier_name","supplierListInvok","changeSuppliter","supplier_id","brand_id","shareMoney","slot","buyer_id","EmployeeListInvok","employee_id","employee_name","rebate_sn","_e","rebate_type_id","RebateTypeListInvok","rebate_type_name","RebatecycleListInvok","cycle_id","cycle_name","$event","quoteOrder","delF","staticStyle","tableData","getSummaries","handleSelectionChange","scopedSlots","_u","fn","scope","row","goods_name","_f","purchase_price","subtotal_price","rebate_price","isShowCustomBill","selectOutstockResult","submitForm","staticRenderFns","$parent","cancel","brand_name","timeValue","onSearch","TableData","loading","renderHeaderpro","goPage","pageSize1","per_page","total","handleSizeChange","handleCurrentChange","submit","name","data","authority","flag","searchParams","gather","list","disabled","props","methods","Params","forEach","$emit","$message","warning","business_start_time","business_end_time","Object","assign","page","val","mounted","Number","API","vm","component","components","selectBill","addmultipleSelection","outstockResult","supplierList","filter","purchaseAdd_showGet","rebate_id","purchaseDefault_show","pageSize","$router","clearData","toFixed2","$nextTick","$refs","formName","validate","valid","splice","total_price","isNaN","arr","arrBeforeFour","arrBeforeFourTotal","reduce","num","lastRebatePrice","round","ruleForm","instorage_id","instorage_sn","instorage_goods_id","goods_id","goods_num","instorage_type","business_time","add_time","batch","warehouse_id","allocation_id","method","url","api","code","message","instorageIdArr","includes","columns","column","property","sums","values","prev","curr","computed","$axios","$api","getRebateInfo","datataple","rebateInfo","buyer_name","tab","goods_sn","company_admin_id","localStorage","$publicFution","formatData","Date","share_mode","$","thisNumberValue","$repeat","RangeError","repeat","un$ToFixed","toFixed","pow","x","acc","log","x2","multiply","c","c2","divide","dataToString","s","t","FORCED","target","proto","forced","fractionDigits","e","z","k","number","fractDigits","sign"],"mappings":"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","file":"js/chunk-088a935a.18a2c42a.js","sourcesContent":["var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          var replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"采购管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"厂家返利管理\")])]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.title)+\"厂家返利单\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline rebatemanageForm\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\",\"prop\":\"company_id\",\"rules\":_vm.rules.company_id}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.company_id == 0){ _vm.params.company_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.companyListInvok,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.department_id == 0){ _vm.params.department_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.DepartmentListInvok,\"change\":_vm.departmentChange},model:{value:(_vm.params.department_id),callback:function ($$v) {_vm.$set(_vm.params, \"department_id\", $$v)},expression:\"params.department_id\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.department_name,\"value\":item.department_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\",\"prop\":\"supplier_id\",\"rules\":_vm.rules.supplier_name}},[_c('el-select',{attrs:{\"clearable\":\"\",\"maxlength\":\"100\",\"filter-method\":_vm.supplierListInvok,\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeSuppliter,\"focus\":_vm.supplierListInvok},model:{value:(_vm.params.supplier_id),callback:function ($$v) {_vm.$set(_vm.params, \"supplier_id\", $$v)},expression:\"params.supplier_id\"}},_vm._l((_vm.supplierList),function(item){return _c('el-option',{key:item.supplier_id,attrs:{\"label\":item.supplier_name,\"value\":item.supplier_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"品牌\",\"size\":\"mini\",\"prop\":\"brand_id\",\"rules\":_vm.rules.brand_id}},[_c('getBrand',{attrs:{\"fatherParams\":_vm.params},model:{value:(_vm.params.brand_id),callback:function ($$v) {_vm.$set(_vm.params, \"brand_id\", $$v)},expression:\"params.brand_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"返利金额\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"placeholder\":\"金额\"},model:{value:(_vm.params.total_price),callback:function ($$v) {_vm.$set(_vm.params, \"total_price\", $$v)},expression:\"params.total_price\"}},[_c('el-select',{staticClass:\"styleInput\",attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.shareMoney},slot:\"prepend\",model:{value:(_vm.params.share_mode),callback:function ($$v) {_vm.$set(_vm.params, \"share_mode\", $$v)},expression:\"params.share_mode\"}},[_c('el-option',{attrs:{\"label\":\"不分摊\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"按金额分摊\",\"value\":1}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.buyer_id == 0){ _vm.params.buyer_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.EmployeeListInvok},model:{value:(_vm.params.buyer_id),callback:function ($$v) {_vm.$set(_vm.params, \"buyer_id\", $$v)},expression:\"params.buyer_id\"}},_vm._l((_vm.employeeList),function(item){return _c('el-option',{key:item.employee_id,attrs:{\"label\":item.employee_name,\"value\":item.employee_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),(_vm.title == '修改')?_c('el-form-item',{attrs:{\"label\":\"单据号\",\"size\":\"mini\"}},[[_c('span',[_vm._v(_vm._s(_vm.params.rebate_sn))])]],2):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"返利类型\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.rebate_type_id == 0){ _vm.params.rebate_type_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\"},on:{\"focus\":_vm.RebateTypeListInvok},model:{value:(_vm.params.rebate_type_id),callback:function ($$v) {_vm.$set(_vm.params, \"rebate_type_id\", $$v)},expression:\"params.rebate_type_id\"}},_vm._l((_vm.rebateType),function(item){return _c('el-option',{key:item.rebate_type_id,attrs:{\"label\":item.rebate_type_name,\"value\":item.rebate_type_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"返利周期\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"width\":\"180px\"},on:{\"focus\":_vm.RebatecycleListInvok},model:{value:(_vm.params.cycle_id),callback:function ($$v) {_vm.$set(_vm.params, \"cycle_id\", $$v)},expression:\"params.cycle_id\"}},_vm._l((_vm.rebatecycle),function(item){return _c('el-option',{key:item.cycle_id,attrs:{\"label\":item.cycle_name,\"value\":item.cycle_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\"},model:{value:(_vm.params.remark),callback:function ($$v) {_vm.$set(_vm.params, \"remark\", $$v)},expression:\"params.remark\"}})],1)],1),_c('div',{staticClass:\"add_delet\"},[_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.quoteOrder('ruleForm')}}},[_vm._v(\"分摊单据\")]),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.delF}},[_vm._v(\"删除\")])],1)],1),_c('div',{staticClass:\"table_container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.tableData,\"show-summary\":\"\",\"summary-method\":_vm.getSummaries,\"max-height\":\"600\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\"},on:{\"selection-change\":_vm.handleSelectionChange}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"instorage_sn\",\"label\":\"单据号\",\"min-width\":\"180\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"label\":\"商品编号\",\"min-width\":\"160\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_name\",\"label\":\"商品名称\",\"min-width\":\"500\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(scope.row.goods_name))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"purchase_price\",\"label\":\"采购价\",\"min-width\":\"160\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(_vm._f(\"priceFormatNone\")(scope.row.purchase_price)))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_num\",\"label\":\"入库数量\",\"min-width\":\"120\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"subtotal_price\",\"label\":\"小计金额\",\"align\":\"right\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(_vm._f(\"priceFormatNone\")(scope.row.subtotal_price)))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"business_time\",\"label\":\"业务日期\",\"min-width\":\"130\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"add_time\",\"label\":\"单据时间\",\"min-width\":\"160\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"type_name\",\"label\":\"入库类型\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"rebate_price\",\"label\":\"分摊返利金额\",\"min-width\":\"120\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(_vm._f(\"priceFormatNone\")(scope.row.rebate_price)))])]}}])})],1)],1),(_vm.isShowCustomBill)?_c('div',[_c('select-bill',{attrs:{\"isShowCustomBill\":_vm.isShowCustomBill,\"Params\":_vm.params},on:{\"selectOutstockResult\":_vm.selectOutstockResult}})],1):_vm._e(),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":\"引用采购入库单据\",\"visible\":_vm.$parent.isShowCustomBill,\"width\":\"1280px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.$parent, \"isShowCustomBill\", $event)},\"close\":function($event){return _vm.cancel()}}},[_c('el-form',{ref:\"params\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{staticClass:\"mini_elform\",attrs:{\"label\":\"供应商(厂家):\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.params.supplier_name))])]),_c('el-form-item',{staticClass:\"mini_elform\",attrs:{\"label\":\"品牌:\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.params.brand_name?_vm.params.brand_name:\"空品牌\"))])]),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单据号\",\"clearable\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.params.instorage_sn),callback:function ($$v) {_vm.$set(_vm.params, \"instorage_sn\", $$v)},expression:\"params.instorage_sn\"}})],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")])],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"8px\"}},[_vm._v(\" 采购入库单分录明细 \")]),_c('div',{staticClass:\"table_container\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData.tableData,\"max-height\":\"450\",\"loading\":_vm.loading},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\",\"reserve-selection\":false}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"instorage_sn\",\"label\":\"单据号\",\"min-width\":\"170\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_id\",\"label\":\"商品编号\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_name\",\"label\":\"商品名称\",\"min-width\":\"500\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(scope.row.goods_name))])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"brand_name\",\"label\":\"品牌\",\"min-width\":\"150\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"batch\",\"label\":\"年周/批次\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"render-header\":_vm.renderHeaderpro,\"property\":\"production_time\",\"width\":\"80\",\"label\":\"生产日期\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"purchase_price\",\"label\":\"采购价\",\"align\":\"right\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"goods_num\",\"label\":\"入库数量\",\"align\":\"right\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"subtotal_price\",\"label\":\"小计金额\",\"align\":\"right\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"business_time\",\"label\":\"业务日期\",\"min-width\":\"120\"}})],1),_c('div',{staticClass:\"page_container\"},[_c('div',{staticClass:\"pageNumber\"},[_vm._v(\"每页显示\")]),_c('el-pagination',{staticClass:\"erp-pagination\",attrs:{\"current-page\":_vm.goPage,\"page-size\":_vm.pageSize1,\"page-sizes\":_vm.per_page,\"layout\":\"total,sizes, prev, pager, next,jumper\",\"prevText\":\"上一页\",\"nextText\":\"下一页\",\"total\":_vm.TableData.total},on:{\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.goPage=$event},\"update:current-page\":function($event){_vm.goPage=$event},\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-dialog :close-on-click-modal=\"false\" title=\"引用采购入库单据\" :visible.sync=\"$parent.isShowCustomBill\" width=\"1280px\" @close=\"cancel()\">\n      <el-form :inline=\"true\" ref=\"params\" :model=\"params\">\n        <el-form-item label=\"供应商(厂家):\" size=\"mini\" class=\"mini_elform\">\n          <span>{{params.supplier_name}}</span>\n        </el-form-item>\n        <el-form-item label=\"品牌:\" size=\"mini\" class=\"mini_elform\">\n          <span>{{params.brand_name?params.brand_name:\"空品牌\"}}</span>\n        </el-form-item>\n\n        <el-form-item label=\"业务日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据号\" clearable>\n          <el-input v-model=\"params.instorage_sn\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item size=\"mini\" class=\"search-style search\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n        </el-form-item>\n      </el-form>\n      <div style=\"margin-bottom:8px\">\n        采购入库单分录明细\n      </div>\n      <div class=\"table_container\">\n        <!-- 下边是表格 -->\n        <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border ref=\"multipleTable\" :data=\"TableData.tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\" max-height=\"450\" :loading=\"loading\">\n          <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\" :reserve-selection=\"false\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"instorage_sn\" label=\"单据号\" min-width=\"170\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" label=\"商品编号\" min-width=\"100\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_name\" label=\"商品名称\" min-width=\"500\">\n            <template slot-scope=\"scope\">\n              <pre>{{scope.row.goods_name}}</pre>\n            </template>\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"brand_name\" label=\"品牌\" min-width=\"150\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"batch\" label=\"年周/批次\" min-width=\"120\"></el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" :render-header=\"renderHeaderpro\" property=\"production_time\" width=\"80\" label=\"生产日期\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"purchase_price\" label=\"采购价\" align=\"right\" min-width=\"120\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_num\" label=\"入库数量\" align=\"right\" min-width=\"120\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"subtotal_price\" label=\"小计金额\" align=\"right\" min-width=\"120\">\n          </el-table-column>\n          <el-table-column :show-overflow-tooltip=\"true\" property=\"business_time\" label=\"业务日期\" min-width=\"120\">\n          </el-table-column>\n        </el-table>\n        <div class=\"page_container\">\n          <div class=\"pageNumber\">每页显示</div>\n          <el-pagination class=\"erp-pagination\" @size-change=\"handleSizeChange\" :current-page.sync=\"goPage\" :page-size=\"pageSize1\" @current-change=\"handleCurrentChange\" :page-sizes=\"per_page\" layout=\"total,sizes, prev, pager, next,jumper\" prevText=\"上一页\" nextText=\"下一页\" :total=\"TableData.total\">\n          </el-pagination>\n        </div>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { getData, opthionList } from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"selectCustomLayer\",\n  data() {\n    return {\n      authority: {},\n      flag: true,\n      searchParams: {},\n      TableData: {\n        tableData: [],\n        total: 10\n      },\n      gather: [],\n      timeValue: [],\n      list: [], //品牌管理相关\n      loading: true, //品牌管理相关\n      disabled: false\n    };\n  },\n  props: [\"Params\"],\n  methods: {\n    cancel() {\n      this.$parent.isShowCustomBill = false;\n    },\n    renderHeaderpro() {\n      return (\n        <el-tooltip class=\"item\" content=\"Bottom center\" effect=\"light\">\n          <p slot=\"content\">生产日期列后期将会隐藏，同时新增商品入库日期列</p>\n          <span\n            class=\"el-icon-question\"\n            style=\"cursor:pointer;font-weight:bold;\"\n          >\n            生产日期\n          </span>\n        </el-tooltip>\n      );\n    },\n    submit() {\n      if (!this.Params.brand_id) {\n        this.$emit(\"selectOutstockResult\", this.gather);\n        this.$parent.isShowCustomBill = false;\n      } else {\n        let flag = true;\n        this.gather.forEach(item => {\n          if (this.Params.brand_id != item.brand_id) {\n            flag = false;\n          }\n        });\n        if (flag) {\n          this.$emit(\"selectOutstockResult\", this.gather);\n          this.$parent.isShowCustomBill = false;\n        } else {\n          this.$message.warning(\"请选择与返利单中其他商品相同的品牌进行返利\");\n        }\n      }\n    },\n    onSearch() {\n      //查询\n      if (this.timeValue && this.timeValue.length == 2) {\n        this.params.business_start_time = this.timeValue[0];\n        this.params.business_end_time = this.timeValue[1];\n      } else {\n        this.params.business_start_time = this.params.business_end_time = \"\";\n      }\n      Object.assign(this.searchParams.params, this.params, {\n        page: 1\n      });\n      getData(this.searchParams);\n    },\n    handleSelectionChange(val) {\n      this.gather = val;\n    },\n    handleSizeChange(val) {\n      Object.assign(this.searchParams.params, {\n        per_page: val,\n        page: 1\n      });\n      getData(this.searchParams);\n    },\n    handleCurrentChange(val) {\n      Object.assign(this.searchParams.params, {\n        page: val\n      });\n      getData(this.searchParams);\n    }\n  },\n  mounted() {\n    opthionList(this, this.Params);\n    Object.assign(this.params, {\n      brand_name: this.Params.brand_name,\n      brand_id: Number(this.Params.brand_id),\n      supplier_id: this.Params.supplier_id,\n      supplier_name: this.Params.supplier_name\n    });\n    this.$set(this, \"searchParams\", {\n      params: {\n        supplier_id: this.Params.supplier_id,\n        brand_id: Number(this.Params.brand_id)\n      }, //1默认带的参数\n      TableData: this.TableData, //列表数据\n      API: \"getWareListPublics\", //接口名\n      vm: this //传递的this\n    });\n    getData(this.searchParams);\n  }\n};\n</script>\n\n<style scoped>\n.el-dialog .el-form-item--mini.el-form-item.mini_elform {\n  width: auto;\n}\n.el-dialog .el-form-item--mini.el-form-item.search-style {\n  width: 100px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectBill.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectBill.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectBill.vue?vue&type=template&id=4fa3b0c9&scoped=true&\"\nimport script from \"./selectBill.vue?vue&type=script&lang=js&\"\nexport * from \"./selectBill.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectBill.vue?vue&type=style&index=0&id=4fa3b0c9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fa3b0c9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>采购管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">厂家返利管理</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>{{title}}厂家返利单</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" ref=\"ruleForm\" class=\"demo-form-inline rebatemanageForm\">\n        <el-form-item label=\"采购组织\" size=\"mini\" prop=\"company_id\" :rules=\"rules.company_id\">\n          {{(function(){if(params.company_id == 0)params.company_id = null})()}}\n          <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" @focus=\"companyListInvok\" @change=\"companyChange\" filterable>\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"部门\" size=\"mini\">\n          {{(function(){if(params.department_id == 0)params.department_id = null})()}}\n          <el-select clearable v-model=\"params.department_id\" @focus=\"DepartmentListInvok\" @change=\"departmentChange\" placeholder=\"请选择\" filterable>\n            <el-option :label=\"item.department_name\" :value=\"item.department_id\" :key=\"item.department_id\" v-for=\"item in departmentList\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\" prop=\"supplier_id\" :rules=\"rules.supplier_name\">\n          <el-select clearable v-model=\"params.supplier_id\" maxlength=\"100\" :filter-method=\"supplierListInvok\" @change=\"changeSuppliter\" @focus=\"supplierListInvok\" filterable placeholder=\"请选择\">\n            <el-option v-for=\"item in supplierList\" :label=\"item.supplier_name\" :value=\"item.supplier_id\" :key=\"item.supplier_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"品牌\" size=\"mini\" prop=\"brand_id\" :rules=\"rules.brand_id\">\n          <getBrand v-model='params.brand_id' :fatherParams='params' />\n        </el-form-item>\n\n        <el-form-item label=\"返利金额\" size=\"mini\">\n          <el-input placeholder=\"金额\" v-model=\"params.total_price\">\n            <el-select v-model=\"params.share_mode\" class=\"styleInput\" slot=\"prepend\" placeholder=\"请选择\" @change=\"shareMoney\">\n              <el-option label=\"不分摊\" :value=\"0\"></el-option>\n              <el-option label=\"按金额分摊\" :value=\"1\"></el-option>\n            </el-select>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"采购员\" size=\"mini\">\n          {{(function(){if(params.buyer_id == 0)params.buyer_id = null})()}}\n          <el-select clearable v-model=\"params.buyer_id\" placeholder=\"请选择\" @focus=\"EmployeeListInvok\" filterable>\n            <el-option :label=\"item.employee_name\" :value=\"item.employee_id\" :key=\"item.employee_id\" v-for=\"item in employeeList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\">\n          <el-date-picker v-model=\"params.business_time\" type=\"date\" placeholder=\"选择日期\" value-format=\"yyyy-MM-dd\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据号\" size=\"mini\" v-if=\"title == '修改'\">\n          <template>\n            <span>{{params.rebate_sn}}</span>\n          </template>\n        </el-form-item>\n        <el-form-item label=\"返利类型\" size=\"mini\">\n          {{(function(){if(params.rebate_type_id == 0)params.rebate_type_id = null})()}}\n          <el-select clearable v-model=\"params.rebate_type_id\" @focus=\"RebateTypeListInvok\">\n            <el-option v-for=\"item in rebateType\" :label=\"item.rebate_type_name\" :value=\"item.rebate_type_id\" :key=\"item.rebate_type_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"返利周期\" size=\"mini\">\n          <el-select clearable v-model=\"params.cycle_id\" width=\"180px\" @focus=\"RebatecycleListInvok\">\n            <el-option v-for=\"item in rebatecycle\" :label=\"item.cycle_name\" :value=\"item.cycle_id\" :key=\"item.cycle_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"备注\" size=\"mini\">\n          <el-input v-model=\"params.remark\" type=\"text\" maxlength=\"300\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div class=\"add_delet\">\n        <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" class=\"addBtn\" size=\"mini\" @click=\"quoteOrder('ruleForm')\">分摊单据</el-button>\n        <el-button plain icon=\"el-icon-delete\" size=\"mini\" @click=\"delF\">删除</el-button>\n      </div>\n    </div>\n    <div class=\"table_container\">\n      <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"tableData\" @selection-change=\"handleSelectionChange\" style=\"width: 100%\" show-summary :summary-method=\"getSummaries\" max-height=\"600\">\n        <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\" @selection-change=\"handleSelectionChange\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"instorage_sn\" label=\"单据号\" min-width=\"180\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_id\" label=\"商品编号\" min-width=\"160\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_name\" label=\"商品名称\" min-width=\"500\">\n          <template slot-scope=\"scope\">\n            <pre>{{scope.row.goods_name}}</pre>\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"purchase_price\" label=\"采购价\" min-width=\"160\" align=\"right\">\n          <template slot-scope=\"scope\">\n            <pre>{{scope.row.purchase_price  | priceFormatNone}}</pre>\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"goods_num\" label=\"入库数量\" min-width=\"120\" align=\"right\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"subtotal_price\" label=\"小计金额\" align=\"right\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <pre>{{scope.row.subtotal_price  | priceFormatNone}}</pre>\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"business_time\" label=\"业务日期\" min-width=\"130\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"add_time\" label=\"单据时间\" min-width=\"160\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"type_name\" label=\"入库类型\" min-width=\"120\">\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"rebate_price\" label=\"分摊返利金额\" min-width=\"120\" align=\"right\">\n          <template slot-scope=\"scope\">\n            <pre>{{scope.row.rebate_price  | priceFormatNone}}</pre>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!--引用入库单-->\n    <div v-if=\"isShowCustomBill\">\n      <select-bill :isShowCustomBill=\"isShowCustomBill\" :Params=\"params\" @selectOutstockResult=\"selectOutstockResult\"></select-bill>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 定</el-button>\n    </div>\n  </div>\n</template>\n<script>\n// import goodsdialog from \"../../../../element/purchase/share/add_goodsdialog\";\nimport selectBill from \"./selectBill\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { getData, opthionList } from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"purchaseAddRebatemanage\",\n  components: {\n    // goodsdialog,\n    selectBill,\n  },\n  data() {\n    return {\n      authority: {},\n      tableData: [],\n      addmultipleSelection: [],\n      isShowCustomBill: false, //来源单号\n      outstockResult: [], //出库单列表\n      title: \"添加\",\n      list: [], //品牌管理相关\n      loading: true, //品牌管理相关\n    };\n  },\n  methods: {\n    ...mapActions([\"purchaseDefault_show\"]),\n    departmentChange(val) {\n      this.$set(this.params, \"buyer_id\", \"\");\n    },\n    changeSuppliter(val) {\n      if (val) {\n        this.params.supplier_name = this.supplierList.filter(\n          (obj) => obj.supplier_id === val\n        )[0].supplier_name;\n      }\n    },\n    goBack() {\n      if (!this.purchaseAdd_showGet.rebate_id) {\n        this.purchaseDefault_show({});\n        this.$router.push({ path: \"/purchase/rebatemanage\" });\n      } else {\n        this.purchaseDefault_show({\n          params: this.purchaseAdd_showGet.params,\n          goPage: this.purchaseAdd_showGet.goPage,\n          pageSize: this.purchaseAdd_showGet.pageSize,\n        });\n        this.$router.push({ path: \"/purchase/rebatemanage\" });\n      }\n    },\n    clearData() {\n      this.$set(this, \"tableData\", []);\n    },\n    toFixed2(val) {\n      this.$nextTick(() => {\n        if (!this.params[val]) {\n          this.params[val] = 0;\n        }\n        if (val == \"goods_num\") {\n          this.params[val] = Math.ceil(this.params[val]);\n        } else {\n          this.params[val] = this.params[val].toFixed(2);\n        }\n      });\n    },\n    companyChange(val) {\n      this.$set(this.params, \"department_id\", \"\");\n      this.$set(this.params, \"supplier_id\", \"\");\n      this.$set(this.params, \"buyer_id\", \"\");\n    },\n    handleSelectionChange(val) {\n      this.addmultipleSelection = val;\n    },\n    quoteOrder(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.isShowCustomBill = true;\n        }\n      });\n    },\n    delF() {\n      for (var i = 0; i < this.addmultipleSelection.length; i++) {\n        var index = this.tableData.indexOf(this.addmultipleSelection[i]);\n        this.tableData.splice(index, 1);\n      }\n      this.shareMoney(this.params.total_price);\n    },\n    shareMoney(val) {\n      val = val || this.params.total_price;\n      if (val < 0 || isNaN(val)) {\n        val = 0;\n      }\n      if (this.tableData.length) {\n        this.tableData.forEach((item, i, arr) => {\n          if (i != arr.length - 1) {\n            this.$set(\n              this.tableData[i],\n              \"rebate_price\",\n              this.params.share_mode == 1\n                ? (\n                    (Number(item.subtotal_price) / this.totalPrice) *\n                    val\n                  ).toFixed(2)\n                : \"0.00\"\n            );\n          } else {\n            let arrBeforeFour = this.tableData\n              .filter((item2, i2, arr2) => {\n                return i2 != arr2.length - 1;\n              })\n              .map((obj) => obj.rebate_price);\n\n            let arrBeforeFourTotal = 0;\n            if (arrBeforeFour.length) {\n              arrBeforeFourTotal = arrBeforeFour.reduce((total, num) => {\n                return Number(total) + Number(num);\n              });\n            }\n            let lastRebatePrice =\n              this.params.total_price - arrBeforeFourTotal || 0;\n            lastRebatePrice = Math.round(lastRebatePrice * 100) / 100 || \"0.00\";\n            this.$set(\n              this.tableData[i],\n              \"rebate_price\",\n              this.params.share_mode == 1 ? lastRebatePrice : \"0.00\"\n            );\n          }\n        });\n      }\n    },\n    submitForm(ruleForm) {\n      this.$refs[ruleForm].validate((valid) => {\n        if (valid) {\n          let json_info = this.tableData.map((item) => {\n            return {\n              instorage_id: item.instorage_id,\n              instorage_sn: item.instorage_sn,\n              instorage_goods_id: item.instorage_goods_id,\n              goods_id: item.goods_id,\n              goods_num: item.goods_num,\n              type: item.type, //小包子让新增的字段\n              purchase_price: item.purchase_price,\n              subtotal_price: item.subtotal_price,\n              rebate_price: item.rebate_price,\n              instorage_type: item.instorage_type,\n              business_time: item.business_time,\n              add_time: item.add_time, //小包子让新增的字段\n              batch: item.batch,\n              warehouse_id: item.warehouse_id,\n              allocation_id: item.allocation_id,\n            };\n          });\n          let api = !this.purchaseAdd_showGet.rebate_id\n            ? this.$api.addRebateOrder\n            : this.$api.editRebate;\n          this.$axios({\n            method: \"post\",\n            url: api,\n            data: Object.assign(\n              {},\n              {\n                json_info: JSON.stringify(json_info),\n              },\n              this.params\n            ),\n          }).then((res) => {\n            if (res.data.code == 200) {\n              this.$message({\n                message: \"成功\",\n                type: \"success\",\n              });\n              this.goBack();\n            }\n          });\n        }\n      });\n    },\n    selectOutstockResult(data) {\n      let flag = true;\n      if (data.length != 0) {\n        let instorageIdArr = this.tableData.map((item) => {\n          return item.instorage_id;\n        });\n        data.forEach((item) => {\n          if (!instorageIdArr.includes(item.instorage_id)) {\n            this.tableData.push(item);\n          }\n        });\n        this.shareMoney(this.params.total_price);\n      } else {\n        this.$message({\n          message: \"您没有选择采购入库单据\",\n          type: \"warning\",\n        });\n      }\n    },\n    getSummaries(param) {\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 1) {\n          sums[index] = \"合计\";\n          return;\n        }\n        if (column.property === \"subtotal_price\") {\n          const values = data.map((item) => Number(item[column.property]));\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            return prev + curr;\n          }, 0);\n          this.totalPrice = Number(sums[index] || 0);\n          sums[index] = Number(sums[index] || 0)\n            .toFixed(2)\n            .toString()\n            .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1\" + \",\");\n        }\n        if (column.property === \"rebate_price\") {\n          sums[index] = Number(this.params.total_price || 0)\n            .toFixed(2)\n            .toString()\n            .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1\" + \",\");\n          if (this.params.share_mode == 0)\n            sums[index] = (0)\n              .toFixed(2)\n              .toString()\n              .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1\" + \",\");\n        }\n      });\n      this.shareMoney(this.params.total_price);\n      return sums;\n    },\n  },\n  computed: {\n    ...mapGetters([\"purchaseAdd_showGet\"]),\n  },\n  mounted() {\n    if (this.purchaseAdd_showGet.rebate_id) {\n      var vm = this;\n      this.$axios({\n        method: \"get\",\n        url: vm.$api.getRebateInfo,\n        params: {\n          rebate_id: this.purchaseAdd_showGet.rebate_id,\n        },\n      }).then(({ data }) => {\n        if (data.code == 200) {\n          let datataple = data.data.rebateInfo;\n          Object.assign(datataple, {\n            employee_id: data.data.rebateInfo.buyer_id,\n            employee_name: data.data.rebateInfo.buyer_name,\n            cycle_id: data.data.rebateInfo.cycle_id,\n            cycle_name: data.data.rebateInfo.cycle_name,\n          });\n          opthionList(this, datataple);\n\n          this.params = data.data.rebateInfo;\n          this.params.instorage_sn = data.data.rebateInfo.reference_sn;\n          this.params.total_price = data.data.rebateInfo.total_price;\n          [\"rebate_id\", \"department_id\", \"supplier_id\", \"cycle_id\"].forEach(\n            (item) => {\n              this.$set(\n                this.params,\n                item,\n                !data.data.rebateInfo[item] ? \"\" : data.data.rebateInfo[item]\n              );\n            }\n          );\n          this.tableData = data.data.rebateGoodsInfo;\n          let tab = data.data.rebateGoodsInfo;\n          for (let i = 0; i < tab.length; i++) {\n            vm.tableData[i].goods_id = tab[i].goods_id;\n            vm.tableData[i].goods_sn = tab[i].goods_sn;\n          }\n        }\n      });\n      this.title = \"修改\";\n    } else {\n      let { employee_id, company_admin_id } = localStorage;\n      if ([0, 1, 2].includes(Number(employee_id)) || company_admin_id > 0) {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          business_time: this.$publicFution.formatData(new Date()),\n          share_mode: 0,\n        });\n      } else {\n        this.$set(this, \"params\", {\n          company_id: Number(localStorage.company_id),\n          department_id: Number(localStorage.department_id),\n          buyer_id: Number(localStorage.employee_id),\n          business_time: this.$publicFution.formatData(new Date()),\n          share_mode: 0,\n        });\n      }\n      opthionList(this, localStorage);\n    }\n  },\n};\n</script>\n\n<style lang=\"less\">\n.rebatemanageForm {\n  .el-select > .el-input {\n    width: 200px;\n  }\n  .styleInput {\n    width: 120px;\n  }\n  // bug页面标注\n  .styleInput > .el-input {\n    width: auto !important;\n  }\n  .quoteOrder .el-input-group {\n    width: 200px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addRebatemanage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addRebatemanage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addRebatemanage.vue?vue&type=template&id=51df2ffc&\"\nimport script from \"./addRebatemanage.vue?vue&type=script&lang=js&\"\nexport * from \"./addRebatemanage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addRebatemanage.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectBill.vue?vue&type=style&index=0&id=4fa3b0c9&scoped=true&lang=css&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addRebatemanage.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}