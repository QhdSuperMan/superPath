{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/report/inventoryreport/inventorysumrpt/inventorysumrpt.vue?c099","webpack://erpcode-[name]/src/components/element/report/inventoryreport/inventorysumrpt/inventorysumrpt.vue","webpack://erpcode-[name]/./src/components/element/report/inventoryreport/inventorysumrpt/inventorysumrpt.vue?96d8","webpack://erpcode-[name]/./src/components/element/report/inventoryreport/inventorysumrpt/inventorysumrpt.vue","webpack://erpcode-[name]/./src/components/element/report/inventoryreport/inventorysumrpt/inventorysumrpt.vue?5de0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","params","rules","company_id","on","getCompany","model","value","callback","$$v","$set","expression","_l","item","key","company_name","class","type","_v","_s","getWwarehouse","warehouseList","warehouse_id","warehouse_name","change","timeValue","$event","onSearch","onReset","authority","b_export","exportOrder","_e","directives","name","rawName","staticStyle","tableData","getSummaries","scopedSlots","_u","fn","scope","_f","row","early_price","income_price","sell_price","end_price","allList","add_time","user_name","start_time","end_time","staticRenderFns","data","searchParams","listShow","exportType","options","departmentList","companyList","loading","methods","val","columns","forEach","index","values","every","sums","reduce","isNaN","prev","curr","_this","total_early_num","total_early_price","total_income_num","total_income_price","total_sell_num","total_sell_price","total_end_num","total_end_price","$message","message","$axMethod","exportReceiveUrl","then","response","code","window","location","href","url","undefined","getReceiveCollecList","initData","companyFilter","$common","created","JSON","parse","localStorage","getItem","component"],"mappings":"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","file":"js/chunk-aa230422.90ca554c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"TableDataRef\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"库存组织\",\"size\":\"mini\",\"rules\":_vm.rules.company_id,\"prop\":\"company_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filterable:filter-method\":\"companyFilter\"},on:{\"focus\":_vm.getCompany},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"仓库\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"focus\":_vm.getWwarehouse},model:{value:(_vm.params.warehouse_id),callback:function ($$v) {_vm.$set(_vm.params, \"warehouse_id\", $$v)},expression:\"params.warehouse_id\"}},_vm._l((_vm.warehouseList.options),function(item){return _c('el-option',{key:item.warehouse_id,attrs:{\"label\":item.warehouse_name,\"value\":item.warehouse_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"-\",\"value-format\":\"yyyy-MM-dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"clearable\":\"\"},on:{\"change\":_vm.change},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onSearch('TableDataRef')}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.params.exportType),callback:function ($$v) {_vm.$set(_vm.params, \"exportType\", $$v)},expression:\"params.exportType\"}},[_c('el-option',{attrs:{\"label\":\"CSV逗号分隔\",\"value\":2}},[_vm._v(\"CSV逗号分隔\")]),_c('el-option',{attrs:{\"label\":\"Excel文件\",\"value\":1}},[_vm._v(\"Excel文件\")])],1),(_vm.authority.b_export==1)?_c('el-button',{staticClass:\"exporT\",attrs:{\"plain\":\"\",\"size\":\"mini\",\"icon\":\"iconfont icon-daochu10\"},on:{\"click\":_vm.exportOrder}},[_vm._v(\"导出\")]):_vm._e()],1),(_vm.listShow)?_c('div',{staticClass:\"table_container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.tableData,\"max-height\":\"500\",\"summary-method\":_vm.getSummaries,\"show-summary\":\"\"}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"warehouse_name\",\"label\":\"仓库名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"early_num\",\"label\":\"期初数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"early_price\",\"label\":\"期初金额\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.early_price))+\" \")]}}],null,false,2983379601)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"income_num\",\"label\":\"入库数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"income_price\",\"label\":\"入库金额\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.income_price))+\" \")]}}],null,false,1557417745)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"sell_num\",\"label\":\"出库数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"sell_price\",\"label\":\"出库金额\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.sell_price))+\" \")]}}],null,false,1773733092)}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"end_num\",\"label\":\"期末数量\",\"align\":\"right\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"end_price\",\"label\":\"期末金额\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"priceFormatNone\")(scope.row.end_price))+\" \")]}}],null,false,2252480701)})],1),_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',[_vm._v(\"生成时间：\"+_vm._s(_vm.allList.add_time))])]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"textAr\"},[_vm._v(\"制表人：\"+_vm._s(_vm.allList.user_name))])])],1),_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',[_vm._v(\"业务日期起始:\"+_vm._s(_vm.params.start_time))])]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"textAr\"},[_vm._v(\"业务日期截止:\"+_vm._s(_vm.params.end_time))])])],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- <h3 class=\"title_container\">库存收发汇总表</h3> -->\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" ref=\"TableDataRef\" :model=\"params\" class=\"demo-form-inline\">\n\n        <el-form-item label=\"库存组织\" size=\"mini\" :rules=\"rules.company_id\" prop=\"company_id\">\n          <el-select v-model=\"params.company_id\" placeholder=\"请选择\" filterable:filter-method=\"companyFilter\" @focus=\"getCompany\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"仓库\" size=\"mini\">\n          <el-select v-model=\"params.warehouse_id\" placeholder=\"请选择\" @focus=\"getWwarehouse\">\n            <el-option :label=\"item.warehouse_name\" :value=\"item.warehouse_id\" :key=\"item.warehouse_id\" v-for=\"item in warehouseList.options\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务日期\" size=\"mini\">\n          <el-date-picker v-model=\"timeValue\" @change=\"change\" type=\"daterange\" range-separator=\"-\" value-format=\"yyyy-MM-dd\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" clearable>\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item size=\"mini\" class=\"search-style search\">\n          <el-button type=\"primary\" @click=\"onSearch('TableDataRef')\" size=\"mini\">查询</el-button>\n          <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n        </el-form-item>\n\n      </el-form>\n    </div>\n    <div class=\"add_delet\">\n      <el-select v-model=\"params.exportType\" placeholder=\"请选择\">\n        <el-option label=\"CSV逗号分隔\" :value=\"2\">CSV逗号分隔</el-option>\n        <el-option label=\"Excel文件\" :value=\"1\">Excel文件</el-option>\n      </el-select>\n      <el-button plain size=\"mini\" @click=\"exportOrder\" icon=\"iconfont icon-daochu10\" class=\"exporT\" v-if=\"authority.b_export==1\">导出</el-button>\n    </div>\n\n    <div class=\"table_container\" v-if=\"listShow\">\n      <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"tableData\" style=\"width: 100%\" max-height=\"500\" v-loading=\"loading1\" :summary-method=\"getSummaries\" show-summary>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"warehouse_name\" label=\"仓库名称\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"early_num\" label=\"期初数量\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"early_price\" label=\"期初金额\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.early_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"income_num\" label=\"入库数量\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"income_price\" label=\"入库金额\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.income_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"sell_num\" label=\"出库数量\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"sell_price\" label=\"出库金额\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.sell_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"end_num\" label=\"期末数量\" align=\"right\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"end_price\" label=\"期末金额\" align=\"right\">\n          <template slot-scope=\"scope\">\n            {{scope.row.end_price|priceFormatNone}}\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-row type=\"flex\" class=\"row-bg\">\n        <el-col :span=\"12\">\n          <div>生成时间：{{allList.add_time}}</div>\n        </el-col>\n        <el-col :span=\"12\">\n          <div class=\"textAr\">制表人：{{allList.user_name}}</div>\n        </el-col>\n      </el-row>\n      <el-row type=\"flex\" class=\"row-bg\">\n        <el-col :span=\"12\">\n          <div>业务日期起始:{{params.start_time}}</div>\n        </el-col>\n        <el-col :span=\"12\">\n          <div class=\"textAr\">业务日期截止:{{params.end_time}}</div>\n        </el-col>\n      </el-row>\n    </div>\n\n  </div>\n</template>\n<script>\nimport {\n  getData,\n  getInventoryFinanceCompanyOpen\n} from \"common/utils/public_function/commonUtils\";\nexport default {\n  name: \"reportInventorysumrpt\",\n  data() {\n    return {\n      authority: {},\n      params: {},\n      searchParams: {},\n      listShow: false,\n      timeValue: [],\n      exportType: null,\n      warehouseList: {\n        options: []\n      }, //仓库管理\n      allList: {},\n      tableData: [],\n      departmentList: {\n        options: []\n      },\n      companyList: [],\n      loading: true\n    };\n  },\n\n  methods: {\n    change(val) {\n      //选择的日期\n      this.params.start_time = val[0];\n      this.params.end_time = val[1];\n    },\n    getSummaries(param) {\n      let _this = this;\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = \"合计\";\n          return;\n        }\n        const values = data.map(item => Number(item[column.property]));\n        if (!values.every(value => isNaN(value))) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n          if (index == 1) {\n            sums[index] = _this.allList.total_early_num;\n          } else if (index === 2) {\n            sums[index] = _this.allList.total_early_price;\n          } else if (index === 3) {\n            sums[index] = _this.allList.total_income_num;\n          } else if (index === 4) {\n            sums[index] = _this.allList.total_income_price;\n          } else if (index == 5) {\n            sums[index] = _this.allList.total_sell_num;\n          } else if (index === 6) {\n            sums[index] = _this.allList.total_sell_price;\n          } else if (index === 7) {\n            sums[index] = _this.allList.total_end_num;\n          } else if (index == 8) {\n            sums[index] = _this.allList.total_end_price;\n          }\n        } else {\n          sums[index] = \"\";\n        }\n      });\n\n      return sums;\n    },\n    onReset() {\n      /** 重置时 如需保存默认参数，则： */\n      this.$set(this, \"params\", {\n        company_id: \"\"\n      });\n      this.timeValue = [];\n      this.listShow = false;\n    },\n    exportOrder() {\n      // 导出库存收发汇总表\n      if (!this.params.exportType) {\n        this.$message({\n          message: \"请选择导出格式\",\n          type: \"warning\"\n        });\n        return false;\n      }\n      if (this.listShow == false) {\n        this.$message({\n          message: \"请查询需要导出的数据\",\n          type: \"warning\"\n        });\n        return false;\n      }\n      // let arg = {\n      //   params: this.params,\n      //   API: \"exportCustomerContactsListUrl\"\n      // };\n      // exportFile(arg);\n      this.$axMethod.exportReceiveUrl(this.params).then(response => {\n        if (response.data.code == 200) {\n          window.location.href = response.data.data.url;\n        }\n      });\n    },\n    onSearch() {\n      if (this.params.company_id == undefined) {\n        this.$message({\n          message: \"请先选择库存组织\",\n          type: \"error\"\n        });\n      } else {\n        //查询\n        this.listShow = true;\n        this.$axMethod.getReceiveCollecList(this.params).then(response => {\n          if (response.data.code == 200) {\n            this.loading = false;\n            this.tableData = response.data.data.goods_list;\n            this.allList = response.data.data.list;\n          }\n        });\n      }\n    },\n    initData() {\n      //详情数据\n    },\n    companyFilter(val) {\n      let options = {\n        type: 1,\n        company_name: val\n      };\n      getInventoryFinanceCompanyOpen(this, options);\n    },\n    getCompany() {\n      let options = {\n        type: 1,\n        company_name: null\n      };\n      getInventoryFinanceCompanyOpen(this, options);\n    },\n    getWwarehouse() {\n      this.$common.options(\"getWarehouseListOption\", this.warehouseList, {\n        company_id: this.params.company_id\n      }); //仓库下拉\n    }\n  },\n  created() {\n    this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\ntable {\n  width: 100%;\n  border: 1px solid #edf0f9;\n}\n\n.table_sum {\n  width: 100%;\n  overflow: hidden;\n  background: #f5f7fa;\n}\n\n.table_sum li {\n  float: left;\n  border: 1px solid #edf0f9;\n  border-top: none;\n  font-size: 14px;\n  color: #1f2d3d;\n  line-height: 33px;\n  text-align: center;\n  padding: 0px 10px;\n}\n\n.row-bg div {\n  font-size: 14px;\n  color: #1f2d3d;\n  background: #fff;\n  line-height: 33px;\n}\n\ntable td {\n  border-right: 1px solid #edf0f9;\n  line-height: 23px;\n  border-bottom: 1px solid #ebeef5;\n  padding: 4px 10px;\n}\n\ntable th {\n  white-space: nowrap;\n  overflow: hidden;\n  background-color: #6aa8f3;\n  color: #fff;\n  font-weight: normal;\n  line-height: 23px;\n  padding: 4px 10px;\n  text-align: left;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventorysumrpt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventorysumrpt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inventorysumrpt.vue?vue&type=template&id=465ee84f&scoped=true&\"\nimport script from \"./inventorysumrpt.vue?vue&type=script&lang=js&\"\nexport * from \"./inventorysumrpt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inventorysumrpt.vue?vue&type=style&index=0&id=465ee84f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"465ee84f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventorysumrpt.vue?vue&type=style&index=0&id=465ee84f&lang=less&scoped=true&\""],"sourceRoot":""}