(window["webpackJsonp_erpcode"]=window["webpackJsonp_erpcode"]||[]).push([["chunk-2d0a30fa"],{"0125":function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[a._v("厂家三包")]),t("el-breadcrumb-item",{staticClass:"attrbute"},[t("span",{on:{click:a.goBack}},[a._v("返胎出库")])]),t("el-breadcrumb-item",[a._v("查看返胎出库")])],1),t("div",{staticClass:"search_container"},[t("el-form",{ref:"TableDataRef",attrs:{inline:!0,model:a.params}},[t("el-form-item",{attrs:{label:"库存组织",size:"mini"}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:a.params.company_name,callback:function(e){a.$set(a.params,"company_name",e)},expression:"params.company_name"}})],1),t("el-form-item",{attrs:{label:"供应商(厂家)",size:"mini"}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:a.params.supplier_name,callback:function(e){a.$set(a.params,"supplier_name",e)},expression:"params.supplier_name"}})],1),t("el-form-item",{attrs:{label:"业务日期",size:"mini"}},[t("el-date-picker",{attrs:{disabled:"disabled",type:"date","value-format":"yyyy-MM-dd"},model:{value:a.params.business_time,callback:function(e){a.$set(a.params,"business_time",e)},expression:"params.business_time"}})],1),t("el-form-item",{attrs:{label:"所属区域",size:"mini",prop:"cityList"}},[t("span",[a._v(a._s(a.params.province_name)+"  "+a._s(a.params.city_name)+"  "+a._s(a.params.area_name))])]),t("el-form-item",{attrs:{label:"详细地址",size:"mini",prop:"address"}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:a.params.address,callback:function(e){a.$set(a.params,"address",e)},expression:"params.address"}})],1),t("el-form-item",{attrs:{label:"收货人",size:"mini",prop:"consignee_name"}},[t("el-input",{attrs:{disabled:"disabled",maxLength:"7"},model:{value:a.params.consignee_name,callback:function(e){a.$set(a.params,"consignee_name",e)},expression:"params.consignee_name"}})],1),t("el-form-item",{attrs:{label:"手机号码",size:"mini",prop:"consignee_mobile"}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:a.params.consignee_mobile,callback:function(e){a.$set(a.params,"consignee_mobile",e)},expression:"params.consignee_mobile"}})],1),t("el-form-item",{attrs:{label:"库存部门",size:"mini"}},[t("el-input",{attrs:{disabled:"disabled"},model:{value:a.params.department_name,callback:function(e){a.$set(a.params,"department_name",e)},expression:"params.department_name"}})],1),t("el-form-item",{attrs:{label:"出库类型",size:"mini"}},[[t("span",[a._v("返胎出库")])]],2),t("el-form-item",{attrs:{label:"摘要",size:"mini"}},[t("el-input",{attrs:{type:"text",disabled:"disabled",maxlength:"300"},model:{value:a.params.remark,callback:function(e){a.$set(a.params,"remark",e)},expression:"params.remark"}})],1)],1)],1),t("div",{staticClass:"table_container"},[t("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":!0,"tooltip-effect":"light",border:"",data:a.TableData,"max-height":"600"},on:{"selection-change":a.handleSelectionChange}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"brand_name",width:"150",label:"品牌名称"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_id",width:"150",label:"商品编号"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_name","min-width":"500",label:"商品名称"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("pre",[a._v(a._s(e.row.goods_name))])]}}])}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"warehouse_name",width:"132",label:"出库仓库"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"allocation_name",width:"120",label:"出库货位"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"goods_num",width:"160",label:"返胎数量",align:"right"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v(" "+a._s(e.row.goods_num=1)+" ")]}}])}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:"tire_un",label:"胎号",width:"180"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,property:" ",label:" "}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:a.goBack}},[a._v("返 回")])],1)],1)},s=[],o=t("2909"),r=t("5530"),n=(t("d81d"),t("d3b7"),t("159b"),t("caad"),t("2532"),t("e9c4"),t("6062"),t("3ca3"),t("ddb0"),t("4de4"),t("a630"),t("a15b"),t("a9e3"),t("2f62")),l=t("65b0"),d=t("d12c"),m=t("2f65"),p={name:"aftersaleAuditreeoutexamine",data:function(){return{authority:{},TableData:[],salesDocumentsV:!1,multipleSelection:[],params:{cityList:[]},departmentList:{options:[]},supplierList:[],defaultArea:[0],companyList:[],from:""}},components:{getAreaList:d["a"],appraisalDalog:m["a"]},computed:Object(r["a"])({},Object(n["c"])(["auditreeoutExamine_Get","auditreeoutIndex_Get"])),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["treeoutreeIndexACT"])),{},{goBack:function(){this.$router.push({path:"/aftersale/treeoutree"})},dongList:function(a){var e=this;if(a.length)if("1"==this.params.outstock_type){var t=this.TableData.map((function(a){return a.company_appraisal_goods_id}));a.forEach((function(a){t.includes(a.company_appraisal_goods_id)?e.$message({message:"此数据已引用",type:"error"}):e.TableData.push(a)}))}else{var i=this.TableData.map((function(a){return a.company_appraisal_goods_id}));a.forEach((function(a){i.includes(a.company_appraisal_goods_id)?e.$message({message:"此数据已引用",type:"error"}):e.TableData.push(a)}))}},handleSelectionChange:function(a){this.multipleSelection=a},supplier:function(){var a={company_id:this.params.company_id,supplier_name:null};Object(l["n"])(this,a)},submit:function(a){var e=this,t=[];if(!this.params.supplier_id)return this.$message({message:"请选择供应商",type:"error"}),!1;this.TableData.forEach((function(a,e){t.push({factory_appraisal_goods_id:a.factory_appraisal_goods_id,goods_id:a.goods_id,warehouse_id:a.warehouse_id,allocation_id:a.allocation_id,goods_num:a.goods_num})})),this.$refs[a].validate((function(a){if(a){var i=Object(r["a"])(Object(r["a"])({},e.params),{},{goods_json:JSON.stringify(t)});e.auditreeoutExamine_Get.reborn_outstock_id?e.$axMethod.editRebornOutstock(i).then((function(a){200==a.data.code&&(e.$message({message:a.data.data,type:"success"}),e.goBack())})):e.$axMethod.addRebornOutstock(i).then((function(a){200==a.data.code&&(e.$message({message:a.data.data,type:"success"}),e.goBack())}))}}))},deletes:function(){if(this.multipleSelection.length){var a=new Set(this.TableData),e=new Set(this.multipleSelection),t=new Set(Object(o["a"])(a).filter((function(a){return!e.has(a)})));this.TableData=Array.from(t)}else this.$message({message:"请先选择要删除的数据！",type:"warning"})},quoteOrder:function(){this.params.supplier_id?this.salesDocumentsV=!0:this.$message({message:"请选择供应商(厂家)",type:"warning"})},companyChange:function(a){1==a?Object(l["i"])(this,this.params):(this.$set(this.params,"supplier_id",""),Object(l["i"])(this,this.params,1))},changeDefaultArea:function(a){this.params.cityList=a.join(","),this.params.province_id=a[0],this.params.city_id=a[1],this.params.area_id=a[2]},supplierChange:function(a){var e=this;Object(l["e"])(this),this.$axMethod.getSupplierInfo({supplier_id:a}).then((function(a){200==a.data.code&&a.data.data.province_id&&(e.defaultArea=[a.data.data.province_id,a.data.data.city_id,a.data.data.area_id],e.params.cityList=e.defaultArea.join(","),e.params.province_id=e.defaultArea[0],e.params.city_id=e.defaultArea[1],e.params.area_id=e.defaultArea[2]);var t={consignee_name:a.data.data.principal_name,consignee_mobile:a.data.data.principal_mobile,address:a.data.data.address},i=Object.assign({},t,e.params);e.$set(e,"params",i),e.companyChange(1)}))}}),mounted:function(){var a=this;Object(l["e"])(this);this.auditreeoutExamine_Get.reborn_outstock_id&&this.$axMethod.getRebornOutstockInfo({reborn_outstock_id:this.auditreeoutExamine_Get.reborn_outstock_id}).then((function(e){200==e.data.code&&(a.params=e.data.data.info,a.TableData=e.data.data.goods_list,a.defaultArea=[e.data.data.info.province_id,e.data.data.info.city_id,e.data.data.info.area_id],Object(l["b"])(a,e.data.data.info,[["supplier_id","supplier_name","supplierList"],["department_id","department_name","departmentList","options"]]),a.params.cityList=a.defaultArea.join(","),a.params.province_id=a.defaultArea[0],a.params.city_id=a.defaultArea[1],a.params.area_id=a.defaultArea[2])})),this.companyChange(1);var e=localStorage,t=e.employee_id,i=e.company_admin_id;[0,1,2].includes(Number(t))||i>0?this.$set(this,"params",{business_time:this.$publicFution.formatData(new Date),company_id:Number(localStorage.company_id)}):this.$set(this,"params",{business_time:this.$publicFution.formatData(new Date),company_id:Number(localStorage.company_id),department_id:Number(localStorage.department_id)})}},c=p,u=t("2877"),_=Object(u["a"])(c,i,s,!1,null,"3938b1a0",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0a30fa.ae783612.js.map