{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/custom/customertype/customertype.vue?30f5","webpack://erpcode-[name]/src/components/element/custom/customertype/customertype.vue","webpack://erpcode-[name]/./src/components/element/custom/customertype/customertype.vue?93c4","webpack://erpcode-[name]/./src/components/element/custom/customertype/customertype.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","params","on","companyListInvok","companyChange","model","value","callback","$$v","$set","expression","_l","item","key","company_id","company_name","class","type","_v","_s","onSearch","onReset","authority","b_add","addFun","_e","b_del","deletes","directives","name","rawName","staticStyle","TableData","tableData","handleSelectionChange","scopedSlots","_u","fn","scope","b_edit","row","$event","handleEdit","goPage","pageSize1","per_page","total","handleSizeChange","handleCurrentChange","dialogFormVisible","ref","ruleForm","required","message","trigger","slot","dialogFormsubmit","staticRenderFns","data","loading","computed","methods","val","companyList","filter","Object","assign","searchParams","page","customertypeIndexACT","pageSize","API","vm","keys","forEach","length","_company_id","Number","localStorage","arr","push","$refs","validate","valid","undefined","customer_type_id","eachData","UrlApi","closeDialog","list","esData","deledata","deleID","deleSelect","multipleSelection","deleApi","$common","mounted","customertypeIndexGet","component"],"mappings":"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","file":"js/chunk-2d229428.e7987875.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_container\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.companyListInvok,\"change\":_vm.companyChange},model:{value:(_vm.params.company_id),callback:function ($$v) {_vm.$set(_vm.params, \"company_id\", $$v)},expression:\"params.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"名称\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.customer_type_name),callback:function ($$v) {_vm.$set(_vm.params, \"customer_type_name\", $$v)},expression:\"params.customer_type_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"编号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.customer_type_id),callback:function ($$v) {_vm.$set(_vm.params, \"customer_type_id\", $$v)},expression:\"params.customer_type_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"助记码\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"placeholder\":\"请输入\"},model:{value:(_vm.params.logogram),callback:function ($$v) {_vm.$set(_vm.params, \"logogram\", $$v)},expression:\"params.logogram\"}})],1),_c('el-form-item',{staticClass:\"search-style search\",attrs:{\"size\":\"mini\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"add_delet\"},[(_vm.authority.b_add==1)?_c('el-button',{staticClass:\"addBtn\",attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addFun}},[_vm._v(\"新增\")]):_vm._e(),(_vm.authority.b_del==1)?_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deletes}},[_vm._v(\"删除\")]):_vm._e()],1),_c('div',{staticClass:\"table_container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":true,\"tooltip-effect\":\"light\",\"border\":\"\",\"data\":_vm.TableData.tableData,\"max-height\":\"600\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"type\":\"selection\",\"fixed\":\"left\",\"align\":\"center\",\"width\":\"44\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.authority.b_edit==1 && scope.row.company_id!=0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\" 修改 \")]):_c('el-button',{attrs:{\"disabled\":\"\",\"type\":\"text\",\"size\":\"small\"}},[_vm._v(\" 修改 \")])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"company_name\",\"label\":\"销售组织\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"customer_type_name\",\"label\":\"客户分类名称\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"customer_type_id\",\"label\":\"编号\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"logogram\",\"label\":\"助记码\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"property\":\"remark\",\"label\":\"备注\"}})],1)],1),_c('div',{staticClass:\"page_container\"},[_c('div',{staticClass:\"pageNumber\"},[_vm._v(\"每页显示\")]),_c('el-pagination',{staticClass:\"erp-pagination\",attrs:{\"current-page\":_vm.goPage,\"page-size\":_vm.pageSize1,\"page-sizes\":_vm.per_page,\"layout\":\"total,sizes, prev, pager, next,jumper\",\"prevText\":\"上一页\",\"nextText\":\"下一页\",\"total\":_vm.TableData.total},on:{\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.goPage=$event},\"update:current-page\":function($event){_vm.goPage=$event},\"current-change\":_vm.handleCurrentChange}})],1),(_vm.dialogFormVisible)?_c('div',[_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"title\":\"客户分类管理\",\"center\":\"\",\"visible\":_vm.dialogFormVisible,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"errorItem errorItemMl121\",attrs:{\"model\":_vm.ruleForm}},[_c('el-form-item',{attrs:{\"label\":\"销售组织\",\"size\":\"mini\",\"rules\":[{ required: true, message: '请选择销售组织', trigger: 'blur' }],\"prop\":\"company_id\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.ruleForm.company_id == 0){ _vm.ruleForm.company_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"focus\":_vm.companyListInvok},model:{value:(_vm.ruleForm.company_id),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"company_id\", $$v)},expression:\"ruleForm.company_id\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.company_id,attrs:{\"label\":item.company_name,\"value\":item.company_id}},[_c('span',{class:item.type==1 ? 'optionStyle': ''},[_vm._v(_vm._s(item.company_name))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"客户分类名称\",\"prop\":\"customer_type_name\",\"size\":\"mini\",\"rules\":[{ required: true, message: '请输入客户分类名称', trigger: 'blur' }]}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.ruleForm.customer_type_name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"customer_type_name\", $$v)},expression:\"ruleForm.customer_type_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"300\",\"placeholder\":\"请输入\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dialogFormsubmit('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\">\n        <el-form-item label=\"销售组织\" size=\"mini\">\n          <el-select clearable v-model=\"params.company_id\" placeholder=\"请选择\" @focus=\"companyListInvok\" filterable @change=\"companyChange\">\n            <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n              <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"名称\" size=\"mini\">\n          <el-input v-model=\"params.customer_type_name\" maxlength=\"50\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"编号\" size=\"mini\">\n          <el-input v-model=\"params.customer_type_id\" maxlength=\"50\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"助记码\" size=\"mini\">\n          <el-input v-model=\"params.logogram\" maxlength=\"50\" placeholder=\"请输入\"></el-input>\n        </el-form-item>\n\n        <el-form-item size=\"mini\" class=\"search-style search\">\n          <el-button @click=\"onSearch\" size=\"mini\" type=\"primary\">查询</el-button>\n          <el-button plain @click=\"onReset\" size=\"mini\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"add_delet\">\n      <el-button icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"addFun\" class=\"addBtn\" size=\"mini\" v-if=\"authority.b_add==1\">新增</el-button>\n      <el-button plain icon=\"el-icon-delete\" @click=\"deletes\" size=\"mini\" v-if=\"authority.b_del==1\">删除</el-button>\n    </div>\n    <div class=\"table_container\">\n      <el-table :highlight-current-row=\"true\" tooltip-effect=\"light\" border :data=\"TableData.tableData\" max-height=\"600\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\" v-loading=\"loading1\">\n        <el-table-column :show-overflow-tooltip=\"true\" type=\"selection\" fixed=\"left\" align=\"center\" width=\"44\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" label=\"操作\" fixed=\"right\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"handleEdit(scope.row)\" type=\"text\" size=\"small\" v-if=\"authority.b_edit==1 && scope.row.company_id!=0\">\n              修改\n            </el-button>\n            <el-button disabled type=\"text\" size=\"small\" v-else>\n              修改\n            </el-button>\n          </template>\n        </el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"company_name\" label=\"销售组织\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"customer_type_name\" label=\"客户分类名称\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"customer_type_id\" label=\"编号\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"logogram\" label=\"助记码\"></el-table-column>\n        <el-table-column :show-overflow-tooltip=\"true\" property=\"remark\" label=\"备注\"></el-table-column>\n      </el-table>\n    </div>\n    <div class=\"page_container\">\n      <div class=\"pageNumber\">每页显示</div>\n      <el-pagination class=\"erp-pagination\" @size-change=\"handleSizeChange\" :current-page.sync=\"goPage\" :page-size=\"pageSize1\" @current-change=\"handleCurrentChange\" :page-sizes=\"per_page\" layout=\"total,sizes, prev, pager, next,jumper\" prevText=\"上一页\" nextText=\"下一页\" :total=\"TableData.total\">\n      </el-pagination>\n    </div>\n    <div v-if=\"dialogFormVisible\">\n      <el-dialog :close-on-click-modal=\"false\" title=\"客户分类管理\" center :visible.sync=\"dialogFormVisible\" width=\"480px\">\n        <el-form :model=\"ruleForm\" ref=\"ruleForm\" class=\"errorItem errorItemMl121\">\n          <el-form-item label=\"销售组织\" size=\"mini\" :rules=\"[{ required: true, message: '请选择销售组织', trigger: 'blur' }]\" prop=\"company_id\">\n            {{(function(){if(ruleForm.company_id == 0)ruleForm.company_id = null})()}}\n            <el-select clearable v-model=\"ruleForm.company_id\" placeholder=\"请选择\" @focus=\"companyListInvok\" filterable>\n              <el-option v-for=\"item in companyList\" :key=\"item.company_id\" :label=\"item.company_name\" :value=\"item.company_id\">\n                <span :class=\"item.type==1 ? 'optionStyle': '' \">{{ item.company_name }}</span>\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"客户分类名称\" prop=\"customer_type_name\" size=\"mini\" :rules=\"[{ required: true, message: '请输入客户分类名称', trigger: 'blur' }]\">\n            <el-input v-model=\"ruleForm.customer_type_name\" maxlength=\"50\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"备注\" prop=\"remark\">\n            <el-input type=\"text\" v-model=\"ruleForm.remark\" maxlength=\"300\" placeholder=\"请输入\"></el-input>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"dialogFormsubmit('ruleForm')\">确 定</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getData, opthionList } from \"common/utils/public_function/commonUtils\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  name: \"customCustomertype\",\n  data() {\n    return {\n      dialogFormVisible: false,\n      ruleForm: {},\n      loading:false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"customertypeIndexGet\"])\n  },\n  methods: {\n    ...mapActions([\"customertypeIndexACT\"]),\n    companyChange(val) {\n      if (val) {\n        this.params.company_name = this.companyList.filter(\n          obj => obj.company_id === val\n        )[0].company_name;\n      }\n    },\n    onSearch() {\n      Object.assign(this.searchParams.params, this.params, {\n        page: 1\n      });\n      this.customertypeIndexACT({\n        goPage: this.goPage,\n        params: this.params,\n        pageSize: this.pageSize\n      });\n      getData(this.searchParams);\n    },\n    onReset() {\n      /** 重置时 如需保存默认参数，则： */\n      this.$set(this, \"params\", {\n        // company_id: Number(localStorage.company_id)\n      });\n      this.$set(this, \"searchParams\", {\n        //  company_id: Number(localStorage.company_id)\n        params: {},\n        TableData: this.TableData, //列表数据\n        API: \"getCustomerTypeList\", //接口名\n        vm: this //传递的this\n      });\n      this.onSearch();\n    },\n    addFun() {\n      this.dialogFormVisible = true;\n      Object.keys(this.ruleForm).forEach(key => {\n        this.ruleForm[key] = \"\";\n      });\n      if (this.companyList.length <= 0) {\n        this.$set(this, \"companyList\", [\n          {\n            company_id: Number(localStorage.company_id),\n            company_name: localStorage.company_name\n          }\n        ]);\n      }\n      let arr = Object.assign([], this.companyList),\n        _company_id = \"\";\n      let obj = {\n        company_id: \"\",\n        company_name: \"\"\n      };\n      // 修改弹框数据初始化\n      if (this.params.company_id) {\n        _company_id = this.params.company_id;\n      } else {\n        _company_id = Number(localStorage.company_id);\n      }\n      this.$set(this, \"ruleForm\", {\n        company_id: _company_id\n      });\n      this.$set(this, \"companyList\", arr);\n    },\n    handleEdit(row) {\n      this.dialogFormVisible = true;\n      this.ruleForm = Object.assign({}, row);\n\n      this.companyList.push({\n        company_id: row.company_id,\n        company_name: row.company_name\n      });\n    },\n    dialogFormsubmit(ruleForm) {\n      var vm = this;\n      this.$refs[ruleForm].validate(valid => {\n        if (valid) {\n          if (vm.ruleForm.customer_type_id == undefined) {\n            let funcan = {\n              eachData: this.ruleForm,\n              UrlApi: \"addCustomerType\",\n              closeDialog: (this.dialogFormVisible = false),\n              list: {\n                UrlApi: \"getCustomerTypeList\",\n                data: this.TableData,\n                esData: this.searchParams.params\n              }\n            };\n            this.$common.addAndupdateFun(funcan);\n          } else {\n            let funcan = {\n              eachData: this.ruleForm,\n              UrlApi: \"editCustomerType\",\n              closeDialog: (this.dialogFormVisible = false),\n              list: {\n                UrlApi: \"getCustomerTypeList\",\n                data: this.TableData,\n                esData: this.searchParams.params\n              }\n            };\n            this.$common.addAndupdateFun(funcan);\n          }\n        }\n      });\n    },\n    deletes() {\n      Object.assign(this.searchParams.params, {\n        page: 1\n      });\n      var deledata = {\n        deleID: \"customer_type_id\",\n        deleSelect: this.multipleSelection,\n        deleApi: \"delCustomerType\",\n        list: {\n          UrlApi: \"getCustomerTypeList\",\n          data: this.TableData,\n          esData: this.searchParams.params\n        }\n      };\n      this.$common.deletes(deledata, \"删除\", this);\n    }\n    // handleSelectionChange(val) {\n    //   this.multipleSelection = val;\n    // },\n    // handleSizeChange(val) {\n    //   Object.assign(this.searchParams.params, {\n    //     per_page: val,\n    //     page: 1\n    //   });\n    //   getData(this.searchParams);\n    // },\n    // handleCurrentChange(val) {\n    //   Object.assign(this.searchParams.params, {\n    //     page: val\n    //   });\n    //   getData(this.searchParams);\n    // }\n  },\n  mounted() {\n    // this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n    if (this.customertypeIndexGet && this.customertypeIndexGet.params) {\n      this.$set(this, \"params\", this.customertypeIndexGet.params);\n      // bindIdsF(this, this.customertypeIndexGet.params, [\n      //   [\"company_id\", \"company_name\", \"companyList\"]\n      // ]);\n      opthionList(this, this.customertypeIndexGet.params);\n    }\n    this.$set(this, \"searchParams\", {\n      params: this.params, //1默认带的参数\n      TableData: this.TableData, //列表数据\n      API: \"getCustomerTypeList\", //接口名\n      vm: this //传递的this\n    });\n    getData(this.searchParams);\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customertype.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customertype.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customertype.vue?vue&type=template&id=f04902e8&scoped=true&\"\nimport script from \"./customertype.vue?vue&type=script&lang=js&\"\nexport * from \"./customertype.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f04902e8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}