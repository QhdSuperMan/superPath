{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/inventory/outstorage/threeoutstorage/threeoutstorageModifyOrder.vue?ad3a","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/threeoutstorage/threeoutstorage/threeoutstorage.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/threeoutstorage/threeoutstorageModifyOrder.vue?9a92","webpack://erpcode-[name]/src/components/element/inventory/outstorage/threeoutstorage/threeoutstorageModifyOrder.vue","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/threeoutstorage/threeoutstorageModifyOrder.vue?17c1","webpack://erpcode-[name]/./src/components/element/inventory/outstorage/threeoutstorage/threeoutstorageModifyOrder.vue"],"names":["mixins","data","tableColumn","type","width","field","title","editRender","autoselect","name","getParams","scope","params","company_id","warehouse_id","goods_id","row","bill_type","events","change","val","warehouse_name","allocation_name","allocation_id","available_stocks","batch","batch_id","Object","assign","showOverflow","formatter","tableData","methods","activeMethod","column","$rowIndex","property","business_type_name","addRow","xtable","this","$refs","xTable","createRow","production_time","getWeek","then","newRow","insertAt","referenceDisabled","footerMethod","columns","map","columnIndex","includes","totalPrice","$utils","sum","toFixed","$","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","x","n","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","t","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","result","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","on","goBack","directives","rawName","ref","model","value","callback","$$v","$set","expression","rules","business_time","staticStyle","defaultAreaName","_s","settlement_customer_id","payment_method","logisticsInvok","logisticsChanges","_l","item","key","logistics_id","logistics_name","rowClassName","selected","isArrow","isDel","isTab","isEdit","trigger","mode","autoClear","$event","toFixed2","nativeOn","countSettlementPrice","apply","arguments","_f","rebate_balance","credit_balance","deposits","seeMoneyDetail","settlement_price","slot","submit","staticRenderFns","authority","defaultArea","rowIndex","TableData","total","multipleSelection","multiGoodsList","cityList","props","computed","cleasrsettlement_customer_id","threeoutstorageIndexACT","goPage","threeoutstorageModifyGet","pageSize","$router","push","path","valArry","forEach","$nextTick","handleEdit","real_num","isNaN","ceil","getCustomerInfo","customer_id","is_three_packs","$axMethod","getCustomerInfoNEWqx","warehouseChange","changeDefaultArea","addressId","join","province_id","city_id","area_id","rebate_price","goods_info","formName","validate","valid","order_goods_id","unit_name","discount_unit_price","unit_credit_price","unit_rebate_price","unit_deposits_price","company_name","remark","goods_num","total_price","claim_price","business_type","goods_price","new_goods_price","abrasion_price","intube_price","outstock_goods_id","infolist","JSON","parse","filter","box","sale_price","mounted","outstock_id","$axios","method","url","$api","infoThreeOutStorage","code","component"],"mappings":"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","file":"js/chunk-73c3bb9a.aba3d732.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeoutstorageModifyOrder.vue?vue&type=style&index=0&id=1278ba9c&scoped=true&lang=less&\"","const mixins = {\n  data() {\n    return {\n      tableColumn: [{\n        type: 'checkbox',\n        width: 40\n      },\n      {\n        field: 'business_type_name',\n        title: '业务类型',\n        width: 150\n      },\n      {\n        field: 'brand_name',\n        title: '品牌',\n        width: 150\n      },\n      {\n        field: 'goods_id',\n        title: '商品编号',\n        width: 80\n      },\n      {\n        field: 'goods_name',\n        title: '商品名称',\n        width: 300,\n      },\n      {\n        field: 'batch',\n        title: '年周/批次',\n        width: 200,\n        editRender: {\n          autoselect: true,\n          name: 'vBatch',\n          getParams: (scope) => {\n            let _this = this\n            return {\n              params: {\n                company_id: this.params.company_id,\n                warehouse_id: this.params.warehouse_id,\n                goods_id: scope.row.goods_id,\n                bill_type: 2\n              }\n            }\n          },\n          events: {\n            change: (val, { row }) => {\n              if (!row.goods_id) {\n                return false\n              }\n              const {\n                warehouse_id,\n                warehouse_name,\n                allocation_name,\n                allocation_id,\n                available_stocks,\n                batch,\n                batch_id\n              } = val;\n              Object.assign(row, {\n                warehouse_id,\n                warehouse_name,\n                allocation_name,\n                allocation_id,\n                available_stocks,\n                batch,\n                batch_id\n              });\n            }\n          }\n        }\n      },\n      {\n        field: 'unit_name',\n        title: '单位',\n        width: 80\n      },\n      {\n        field: 'warehouse_name',\n        title: '仓库',\n        width: 132\n      },\n      {\n        field: 'allocation_name',\n        title: '货位',\n        width: 170\n      },\n      {\n        field: 'real_num',\n        title: '数量',\n        width: 130\n      },\n      {\n        field: 'goods_price',\n        title: '原销售价',\n        width: 130\n      },\n      {\n        field: 'discount_unit_price',\n        title: '原折后价',\n        width: 130\n      },\n      {\n        field: 'abrasion_price',\n        title: '磨损费',\n        width: 130\n      },\n      {\n        field: 'intube_price',\n        title: '内垫费',\n        width: 130\n      },\n      {\n        field: 'claim_price',\n        title: '理赔单价',\n        width: 130\n      },\n      {\n        field: 'new_goods_price',\n        title: '最新销售价',\n        width: 130\n      },\n      {\n        field: 'total_price',\n        title: '小计金额',\n        width: 130\n      },\n      {\n        field: 'remark',\n        title: '备注',\n        width: 150,\n        showOverflow: true,\n        editRender: {\n          name: 'Vinput',\n          formatter: 'String'\n        }\n      }\n      ],\n      tableData: [],\n    }\n  },\n  methods: {\n    activeMethod({ column, row, $rowIndex }) {\n      if (column.property === 'remark') {\n        return true\n      }\n      if (column.property === \"batch\") {\n        if (row.business_type_name == '三包折款') {\n\n          return false\n        } else {\n          return true\n        }\n\n      }\n    },\n    addRow() {\n      let xtable = this.$refs.xTable;\n      xtable\n        .createRow({\n          production_time: \"\",\n          allocation_id: null,\n          batch: this.getWeek()\n        })\n        .then(newRow => {\n          xtable.insertAt(newRow, -1);\n        });\n      this.referenceDisabled = true;\n    },\n    footerMethod({\n      columns,\n      data\n    }) {\n      return [\n        columns.map((column, columnIndex) => {\n          if (columnIndex === 1) {\n            return \"合计\";\n          }\n          if (\n            [\"total_price\"].includes(\n              column.property\n            )\n          ) {\n            this.totalPrice = this.$utils.sum(data, column.property).toFixed(2);\n            return this.$utils.sum(data, column.property).toFixed(2);\n          }\n          return null;\n        })\n      ];\n    }\n  }\n}\nexport default mixins","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"库存管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"三包出库\")])]),_c('el-breadcrumb-item',[_vm._v(\"修改三包出库\")])],1),_c('div',{directives:[{name:\"clock\",rawName:\"v-clock\"}],staticClass:\"search_container\"},[_c('el-form',{ref:\"TableDataRef\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"库存组织\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.company_name),callback:function ($$v) {_vm.$set(_vm.params, \"company_name\", $$v)},expression:\"params.company_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"部门\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.department_name),callback:function ($$v) {_vm.$set(_vm.params, \"department_name\", $$v)},expression:\"params.department_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务员\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.business_name),callback:function ($$v) {_vm.$set(_vm.params, \"business_name\", $$v)},expression:\"params.business_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择客户\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.customer_name),callback:function ($$v) {_vm.$set(_vm.params, \"customer_name\", $$v)},expression:\"params.customer_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"业务日期\",\"size\":\"mini\",\"prop\":\"business_time\",\"rules\":_vm.rules.business_time}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.params.business_time),callback:function ($$v) {_vm.$set(_vm.params, \"business_time\", $$v)},expression:\"params.business_time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"送货需求\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.delivery_demand_name),callback:function ($$v) {_vm.$set(_vm.params, \"delivery_demand_name\", $$v)},expression:\"params.delivery_demand_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"交货方式\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.hand_over_name),callback:function ($$v) {_vm.$set(_vm.params, \"hand_over_name\", $$v)},expression:\"params.hand_over_name\"}})],1),_c('el-form-item',{staticClass:\"wauto\",staticStyle:{\"min-width\":\"312px\"},attrs:{\"label\":\"所属区域\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.defaultAreaName),callback:function ($$v) {_vm.defaultAreaName=$$v},expression:\"defaultAreaName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"详细地址\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.address),callback:function ($$v) {_vm.$set(_vm.params, \"address\", $$v)},expression:\"params.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"收货人\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.consignee_name),callback:function ($$v) {_vm.$set(_vm.params, \"consignee_name\", $$v)},expression:\"params.consignee_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.params.consignee_mobile),callback:function ($$v) {_vm.$set(_vm.params, \"consignee_mobile\", $$v)},expression:\"params.consignee_mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出库类型\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"value\":\"三包出库\",\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"回款方式\",\"size\":\"mini\",\"prop\":\"payment_method\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.settlement_customer_id == 0){ _vm.params.settlement_customer_id = null }})())+\" \"),_c('el-select',{model:{value:(_vm.params.payment_method),callback:function ($$v) {_vm.$set(_vm.params, \"payment_method\", $$v)},expression:\"params.payment_method\"}},[_c('el-option',{attrs:{\"label\":\"客户自结\",\"value\":1}},[_vm._v(\"客户自结\")]),_c('el-option',{attrs:{\"label\":\"物流代收\",\"value\":2}},[_vm._v(\"物流代收\")])],1)],1),(_vm.params.payment_method === 2)?_c('el-form-item',{attrs:{\"label\":\"物流公司\",\"size\":\"mini\",\"prop\":\"settlement_customer_id\",\"rules\":_vm.rules.settlement_customer_id}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.settlement_customer_id == 0){ _vm.params.settlement_customer_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"filter-method\":_vm.logisticsInvok},on:{\"focus\":_vm.logisticsInvok,\"change\":_vm.logisticsChanges},model:{value:(_vm.params.settlement_customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"settlement_customer_id\", $$v)},expression:\"params.settlement_customer_id\"}},_vm._l((_vm.logisticsList),function(item){return _c('el-option',{key:item.logistics_id,attrs:{\"label\":item.logistics_name,\"value\":item.logistics_id}})}),1)],1):_c('el-form-item',{attrs:{\"label\":\"物流公司\",\"size\":\"mini\",\"prop\":\"settlement_customer_id\"}},[_vm._v(\" \"+_vm._s((function(){if(_vm.params.settlement_customer_id == 0){ _vm.params.settlement_customer_id = null }})())+\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"filter-method\":_vm.logisticsInvok},on:{\"focus\":_vm.logisticsInvok,\"change\":_vm.logisticsChanges},model:{value:(_vm.params.settlement_customer_id),callback:function ($$v) {_vm.$set(_vm.params, \"settlement_customer_id\", $$v)},expression:\"params.settlement_customer_id\"}},_vm._l((_vm.logisticsList),function(item){return _c('el-option',{key:item.logistics_id,attrs:{\"label\":item.logistics_name,\"value\":item.logistics_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"摘要\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.params.abstract),callback:function ($$v) {_vm.$set(_vm.params, \"abstract\", $$v)},expression:\"params.abstract\"}})],1)],1)],1),_c('div',{staticClass:\"table_container\"},[_c('vxe-grid',{ref:\"xTable\",attrs:{\"border\":\"\",\"show-footer\":\"true\",\"show-overflow\":\"tooltip\",\"row-style\":_vm.rowClassName,\"size\":\"mini\",\"footer-method\":_vm.footerMethod,\"max-height\":\"500px\",\"data\":_vm.tableData,\"resizable\":\"\",\"height\":\"500px\",\"column-min-width\":\"100\",\"mouse-config\":{selected: true},\"columns\":_vm.tableColumn,\"keyboard-config\":{isArrow: true, isDel: false, isTab: true, isEdit: true},\"edit-config\":{trigger: 'click', mode: 'cell',autoClear:false,activeMethod:_vm.activeMethod}}})],1),_c('br'),_c('el-form',{ref:\"TableDataRef2\",staticClass:\"priceFoot\",attrs:{\"model\":_vm.params,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"本单使用返利：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"type\":\"number\",\"suffix-icon\":\"el-icon-edit-outline\",\"disabled\":\"\"},on:{\"change\":function($event){return _vm.toFixed2('rebate_price')}},nativeOn:{\"keyup\":function($event){return _vm.countSettlementPrice.apply(null, arguments)}},model:{value:(_vm.params.rebate_price),callback:function ($$v) {_vm.$set(_vm.params, \"rebate_price\", $$v)},expression:\"params.rebate_price\"}}),_vm._v(\" 元 \"),_c('span',{staticClass:\"yeban\"},[_vm._v(\"余额:\"+_vm._s(_vm._f(\"priceFormat\")(_vm.params.rebate_balance?_vm.params.rebate_balance:0)))])],1),_c('el-form-item',{attrs:{\"label\":\"本单使用授信：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"type\":\"number\",\"suffix-icon\":\"el-icon-edit-outline\",\"disabled\":\"\"},on:{\"change\":function($event){return _vm.toFixed2('credit_price')}},nativeOn:{\"keyup\":function($event){return _vm.countSettlementPrice.apply(null, arguments)}},model:{value:(_vm.params.credit_price),callback:function ($$v) {_vm.$set(_vm.params, \"credit_price\", $$v)},expression:\"params.credit_price\"}}),_vm._v(\" 元 \"),_c('span',{staticClass:\"yeban\"},[_vm._v(\"余额:\"+_vm._s(_vm._f(\"priceFormat\")(_vm.params.credit_balance?_vm.params.credit_balance:0)))])],1),_c('el-form-item',{attrs:{\"label\":\"本单使用预收：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"suffix-icon\":\"el-icon-edit-outline\",\"type\":\"number\",\"disabled\":\"\"},on:{\"change\":function($event){return _vm.toFixed2('deposits_price')}},nativeOn:{\"keyup\":function($event){return _vm.countSettlementPrice.apply(null, arguments)}},model:{value:(_vm.params.deposits_price),callback:function ($$v) {_vm.$set(_vm.params, \"deposits_price\", $$v)},expression:\"params.deposits_price\"}}),_vm._v(\" 元 \"),_c('span',{staticClass:\"yeban\"},[_vm._v(\"余额:\"+_vm._s(_vm._f(\"priceFormat\")(_vm.params.deposits?_vm.params.deposits:0)))])],1),_c('el-form-item',{attrs:{\"label\":\"客户余额：\"}},[_c('el-input',{staticClass:\"element_input\",attrs:{\"disabled\":\"\"},model:{value:(_vm.params.balance),callback:function ($$v) {_vm.$set(_vm.params, \"balance\", $$v)},expression:\"params.balance\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.seeMoneyDetail}},[_vm._v(\"查看往来\")])],1),_c('el-form-item',{attrs:{\"label\":\"本单结算金额：\"}},[_c('span',[_vm._v(_vm._s(_vm.params.settlement_price))])])],1),_c('br'),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('TableDataRef')}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>库存管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">三包出库</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>修改三包出库</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\" v-clock>\n      <el-form :inline=\"true\" :model=\"params\" ref=\"TableDataRef\">\n        <el-form-item label=\"库存组织\" size=\"mini\">\n          <el-input v-model=\"params.company_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"部门\" size=\"mini\">\n          <el-input v-model=\"params.department_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"业务员\" size=\"mini\">\n          <el-input v-model=\"params.business_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"选择客户\" size=\"mini\">\n          <el-input v-model=\"params.customer_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"业务日期\" size=\"mini\" prop=\"business_time\" :rules=\"rules.business_time\">\n          <el-date-picker v-model=\"params.business_time\" type=\"date\" value-format=\"yyyy-MM-dd\">\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"送货需求\" size=\"mini\">\n          <el-input v-model=\"params.delivery_demand_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"交货方式\" size=\"mini\">\n          <el-input v-model=\"params.hand_over_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"所属区域\" size=\"mini\" class=\"wauto\" style=\"min-width:312px\">\n          <el-input v-model=\"defaultAreaName\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"详细地址\" size=\"mini\">\n          <el-input v-model=\"params.address\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"收货人\" size=\"mini\">\n          <el-input v-model=\"params.consignee_name\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"手机号\" size=\"mini\">\n          <el-input v-model=\"params.consignee_mobile\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"出库类型\" size=\"mini\">\n          <el-input value=\"三包出库\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"回款方式\" size=\"mini\" prop=\"payment_method\">\n          {{(function(){if(params.settlement_customer_id == 0)params.settlement_customer_id = null})()}}\n          <el-select v-model=\"params.payment_method\">\n            <el-option label=\"客户自结\" :value=\"1\">客户自结</el-option>\n            <el-option label=\"物流代收\" :value=\"2\">物流代收</el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"物流公司\" size=\"mini\" prop=\"settlement_customer_id\" :rules=\"rules.settlement_customer_id\" v-if='params.payment_method === 2'>\n          {{(function(){if(params.settlement_customer_id == 0)params.settlement_customer_id = null})()}}\n          <el-select clearable v-model=\"params.settlement_customer_id\" filterable @focus=\"logisticsInvok\" @change=\"logisticsChanges\" :filter-method=\"logisticsInvok\">\n            <el-option v-for=\"item in logisticsList\" :label=\"item.logistics_name\" :value=\"item.logistics_id\" :key=\"item.logistics_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"物流公司\" size=\"mini\" prop=\"settlement_customer_id\" v-else>\n          {{(function(){if(params.settlement_customer_id == 0)params.settlement_customer_id = null})()}}\n          <el-select clearable v-model=\"params.settlement_customer_id\" filterable @focus=\"logisticsInvok\" @change=\"logisticsChanges\" :filter-method=\"logisticsInvok\">\n            <el-option v-for=\"item in logisticsList\" :label=\"item.logistics_name\" :value=\"item.logistics_id\" :key=\"item.logistics_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"摘要\" size=\"mini\">\n          <el-input v-model=\"params.abstract\" type=\"text\"></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"table_container\">\n      <vxe-grid border ref=\"xTable\" show-footer=\"true\" show-overflow='tooltip' :row-style=\"rowClassName\" size=\"mini\" :footer-method=\"footerMethod\" max-height=\"500px\" :data=\"tableData\" resizable height=\"500px\" column-min-width=\"100\" :mouse-config=\"{selected: true}\" :columns=\"tableColumn\" :keyboard-config=\"{isArrow: true, isDel: false, isTab: true, isEdit: true}\" :edit-config=\"{trigger: 'click', mode: 'cell',autoClear:false,activeMethod:activeMethod}\"></vxe-grid>\n    </div>\n    <br />\n    <el-form :model=\"params\" ref=\"TableDataRef2\" class=\"priceFoot\" :inline=\"true\">\n      <el-form-item label=\"本单使用返利：\">\n        <el-input v-model=\"params.rebate_price\" type=\"number\" class=\"element_input\" @keyup.native=\"countSettlementPrice\" suffix-icon=\"el-icon-edit-outline\" @change=\"toFixed2('rebate_price')\" disabled></el-input> 元\n        <span class=\"yeban\">余额:{{params.rebate_balance?params.rebate_balance:0|priceFormat}}</span>\n      </el-form-item>\n      <el-form-item label=\"本单使用授信：\">\n        <el-input v-model=\"params.credit_price\" class=\"element_input\" @keyup.native=\"countSettlementPrice\" type=\"number\" suffix-icon=\"el-icon-edit-outline\" @change=\"toFixed2('credit_price')\" disabled></el-input> 元\n        <span class=\"yeban\">余额:{{params.credit_balance?params.credit_balance:0|priceFormat}}</span>\n      </el-form-item>\n      <el-form-item label=\"本单使用预收：\">\n        <el-input v-model=\"params.deposits_price\" class=\"element_input\" suffix-icon=\"el-icon-edit-outline\" type=\"number\" @change=\"toFixed2('deposits_price')\" @keyup.native=\"countSettlementPrice\" disabled></el-input> 元\n        <span class=\"yeban\">余额:{{params.deposits?params.deposits:0|priceFormat}}</span>\n      </el-form-item>\n      <el-form-item label=\"客户余额：\">\n        <el-input v-model=\"params.balance\" class=\"element_input\" disabled></el-input>\n        <el-button type=\"primary\" @click=\"seeMoneyDetail\">查看往来</el-button>\n      </el-form-item>\n      <el-form-item label=\"本单结算金额：\">\n        <span>{{params.settlement_price}}</span>\n      </el-form-item>\n    </el-form>\n    <br />\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"goBack\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit('TableDataRef')\">确 定</el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { repertory } from \"common/utils/public_function/commonUtils\";\nimport mixin from \"./threeoutstorage/threeoutstorage.js\";\nexport default {\n  name: \"instorageThreeoutstorageThreeoutstorageModifyOrder\",\n  mixins: [mixin],\n  data() {\n    return {\n      authority: {},\n      defaultArea: [0], //默认的区域id\n      defaultAreaName: \"\",\n      rowIndex: null, //选择的当前表格索引\n      params: {},\n      TableData: {\n        tableData: [],\n        total: 10,\n      },\n      multipleSelection: [], //已选项\n      multiGoodsList: {},\n      cityList: [],\n      totalPrice: 0,\n    };\n  },\n  props: [\"outstockId\"],\n  computed: {\n    ...mapGetters([\"threeoutstorageModifyGet\"]),\n  },\n  methods: {\n    ...mapActions([\n      \"threeoutstorageAddACT\",\n      \"threeoutstorageIndexACT\",\n      \"creditmanageAdd_show\",\n    ]),\n    cleasrsettlement_customer_id() {\n      this.$set(this.params, \"settlement_customer_id\", 0);\n    },\n    goBack() {\n      this.threeoutstorageIndexACT({\n        goPage: this.threeoutstorageModifyGet.goPage,\n        params: this.threeoutstorageModifyGet.params,\n        pageSize: this.threeoutstorageModifyGet.pageSize,\n      });\n      this.$router.push({\n        path: \"/inventory/threeoutstorage\",\n      });\n    },\n    countSettlementPrice() {\n      // 本单使用返利+本单使用授信+本单结算金额=订单的合计金额；\n      let valArry = [\"rebate_price\", \"credit_price\", \"deposits_price\"];\n      valArry.forEach((value) => {\n        this.$set(\n          this.params,\n          value,\n          !this.params[value] || this.params[value] < 0 ? 0 : this.params[value]\n        );\n      });\n      let settlement_price =\n        Number(this.totalPrice) -\n        Number(this.params.rebate_price) -\n        Number(this.params.credit_price) -\n        Number(this.params.deposits_price);\n      this.$set(this.params, \"settlement_price\", settlement_price.toFixed(2));\n    },\n    toFixed2(val) {\n      this.$nextTick(() => {\n        if (!this.params[val] || isNaN(this.params[val])) {\n          this.params[val] = 0;\n        }\n        if (this.params[val] >= 1e8) {\n          this.$message.warning(\"数值不能超过一亿\");\n          this.params[val] = 0;\n        }\n        this.params[val] = Number(this.params[val]).toFixed(2);\n      });\n    },\n    handleEdit(index, val) {\n      this.$nextTick(() => {\n        if (val.real_num < 0 || isNaN(val.real_num)) {\n          val.real_num = 0;\n        }\n        if (val.real_num >= 1e8) {\n          this.$message.warning(\"数值不能超过一亿\");\n          val.real_num = 0;\n        }\n        val.real_num = Math.ceil(val.real_num);\n      });\n    },\n    seeMoneyDetail() {\n      this.$router.push({\n        path: \"/custom/accountlog\",\n      });\n    },\n    getCustomerInfo() {\n      //获取客户资料详情\n      let params = {\n        customer_id: this.params.customer_id,\n        company_id: this.params.company_id,\n        is_three_packs: 1,\n      };\n      this.$axMethod.getCustomerInfoNEWqx(params).then(({ data }) => {\n        this.$set(this.params, \"deposits\", data.data.deposits); //授信余额\n        this.$set(this.params, \"credit_balance\", data.data.credit_balance); //授信余额\n        this.$set(this.params, \"balance\", data.data.balance); //客户余额\n        this.$set(this.params, \"rebate_balance\", data.data.rebate_balance); //客户返利余额\n      });\n    },\n    warehouseChange() {\n      this.$set(this.params, \"warehouse_id\", this.params.warehouse_id);\n      this.$set(this.params, \"customer_id\", this.params.customer_id);\n      this.$set(this.TableData, \"tableData\", null);\n    },\n    changeDefaultArea(addressId) {\n      this.params.cityList = addressId.join(\",\");\n      this.params.province_id = addressId[0];\n      this.params.city_id = addressId[1];\n      this.params.area_id = addressId[2];\n    },\n    submit(formName) {\n      let vm = this;\n      let flag = true;\n      let flag2 = true;\n      if (!this.params.rebate_price) {\n        this.params.rebate_price = 0;\n      }\n      this.params.goods_info = [];\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (!this.$refs.xTable.getTableData().fullData.length) {\n            this.$message.error(\"请先选择订单\");\n            return false;\n          }\n          this.$refs.xTable.getTableData().fullData.forEach((item) => {\n            this.params.goods_info.push({\n              order_goods_id: item.order_goods_id,\n              goods_id: item.goods_id,\n              batch_id: item.batch_id,\n              unit_name: item.unit_name,\n              warehouse_id: item.warehouse_id,\n              warehouse_name: item.warehouse_name,\n              allocation_id: item.allocation_id ? item.allocation_id : 0,\n              allocation_name: item.allocation_name ? item.allocation_name : \"\",\n              discount_unit_price: item.discount_unit_price,\n              unit_credit_price: item.unit_credit_price,\n              unit_rebate_price: item.unit_rebate_price,\n              unit_deposits_price: item.unit_deposits_price,\n              company_id: this.params.company_id,\n              company_name: this.params.company_name,\n              remark: item.remark,\n              real_num: item.real_num,\n              goods_num: item.real_num,\n              total_price: item.total_price,\n              claim_price: item.claim_price,\n              business_type: item.business_type,\n              goods_price: item.goods_price,\n              batch: item.batch,\n              new_goods_price: item.new_goods_price,\n              abrasion_price: item.abrasion_price,\n              intube_price: item.intube_price,\n              outstock_goods_id: item.outstock_goods_id,\n            });\n          });\n\n          this.params.goods_info = JSON.stringify(this.params.goods_info);\n\n          let infolist = this.params.goods_info;\n          infolist = JSON.parse(infolist);\n\n          infolist = infolist.filter((item) => item.business_type == 2);\n          // 校验安全库存金额参数\n          var box = infolist.map((item) => {\n            return {\n              warehouse_id: item.warehouse_id,\n              warehouse_name: item.warehouse_name,\n              allocation_id: item.allocation_id,\n              goods_id: item.goods_id,\n              batch: item.batch,\n              order_goods_id: item.order_goods_id || 0,\n              sale_price: item.new_goods_price || 0,\n              batch_id: item.batch_id,\n              goods_num: item.real_num,\n            };\n          });\n          // 校验对接车郎中\n          this.$baseData\n            .checkCarDoctor({\n              company_id: this.params.company_id,\n              company_name: this.params.company_name,\n              bill_type: 13,\n              bill_id: this.outstock_id,\n              operation_type: 2,\n              goods_info: JSON.stringify(box),\n            })\n            .then(() => {\n              // 校验安全库存金额\n              this.$axMethod\n                .safetyStockCheck({\n                  bill_sn: this.params.outstock_sn,\n                  bill_id: this.outstock_id,\n                  company_id: this.params.company_id,\n                  company_name: this.params.company_name,\n                  business_time: this.params.business_time,\n                  bill_logogram: \"tbck\",\n                  order_type: 1,\n                  goods_info: JSON.stringify(box),\n                })\n                .then(() => {\n                  repertory(\n                    this,\n                    {\n                      company_id: this.params.company_id,\n                      goods_info: JSON.stringify(infolist),\n                      status: 1,\n                      type: 3,\n                    },\n                    function () {\n                      vm.$axMethod\n                        .editThreeOutStorage(vm.params)\n                        .then(({ data }) => {\n                          if (data.code == \"200\") {\n                            vm.$message({\n                              message: data.data,\n                              type: \"success\",\n                            });\n                            vm.goBack();\n                          }\n                        });\n                    }\n                  );\n                });\n            });\n        }\n      });\n    },\n  },\n  mounted() {\n    this.outstock_id = this.threeoutstorageModifyGet.outstock_id;\n    this.$axios({\n      method: \"get\",\n      url: this.$api.infoThreeOutStorage,\n      params: {\n        outstock_id: this.outstock_id,\n      },\n    }).then(({ data }) => {\n      if (data.code == 200) {\n        this.$set(this, \"params\", data.data);\n        this.defaultAreaName = `${data.data.province_name}/${data.data.city_name}/${data.data.area_name}`;\n        let params = {\n          customer_id: this.params.customer_id,\n          company_id: this.params.company_id,\n          is_three_packs: 1,\n        };\n        this.logisticsList = [\n          {\n            logistics_name: data.data.settlement_customer_name,\n            logistics_id: data.data.settlement_customer_id,\n          },\n        ];\n        this.$axMethod.getCustomerInfoNEWqx(params).then(({ data }) => {\n          this.$set(this.params, \"deposits\", data.data.deposits);\n          this.$set(this.params, \"credit_balance\", data.data.credit_balance); //授信余额\n          this.$set(this.params, \"balance\", data.data.balance); //客户余额\n          this.$set(this.params, \"rebate_balance\", data.data.rebate_balance); //客户返利余额\n        });\n        this.tableData = data.data.goods_info;\n      }\n    });\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.title {\n  line-height: 50px;\n  border-bottom: 1px solid #dddddd;\n}\n.goods_ul2 {\n  min-width: 570px;\n}\n.el-table td div {\n  width: 100%;\n}\n.batch-ul {\n  overflow: hidden;\n}\n\n.batch-ul2 {\n  padding: 0 20px;\n}\n\n.line1 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.batch-ul3 li:nth-child(2) {\n  min-width: 300px !important;\n  .line1;\n}\n\n.batch-ul li {\n  float: left;\n  line-height: 34px;\n  height: 34px;\n  .line1;\n}\n\n.batch-ul li:nth-child(1) {\n  width: 80px;\n}\n\n.batch-ul li:nth-child(2) {\n  width: 140px;\n}\n\n.batch-ul li:nth-child(3) {\n  width: 140px;\n}\n\n.batch-ul li:nth-child(4) {\n  width: 80px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeoutstorageModifyOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeoutstorageModifyOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./threeoutstorageModifyOrder.vue?vue&type=template&id=1278ba9c&scoped=true&\"\nimport script from \"./threeoutstorageModifyOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./threeoutstorageModifyOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./threeoutstorageModifyOrder.vue?vue&type=style&index=0&id=1278ba9c&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1278ba9c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}