{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/purchase/purchaseplan/plan/planSee.vue?e0d1","webpack://erpcode-[name]/./src/components/element/purchase/purchaseplan/plan/planSee.vue?0dac","webpack://erpcode-[name]/./src/components/element/purchase/purchaseplan/plan/planSee.vue?b360","webpack://erpcode-[name]/src/components/element/purchase/purchaseplan/plan/planSee.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseplan/plan/planSee.vue?7d48","webpack://erpcode-[name]/./src/components/element/purchase/purchaseplan/plan/planSee.vue","webpack://erpcode-[name]/./src/components/element/purchase/purchaseplan/plan/config/planAdd.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","goBack","ref","params","_s","company_name","plan_sn","supplier_name","warehouse_name","requirement_delivery_time_name","buyer_name","department_name","delivery_status_name","auditor_status_name","tableData","isEdit","tableColumn","staticStyle","remark","model","value","callback","$$v","$set","expression","slot","auditor_status","authority","b_pass","shenHe","_e","b_invalid","deletes","staticRenderFns","mixins","name","data","chaid","methods","$router","push","is_jc","$axios","method","url","$api","purchaseAuditorPass","plan_id","res","code","message","msg","type","$message","error","purchaseAuditorInvalid","created","$publicFution","filterTableColumn","JSON","parse","localStorage","getItem","$route","query","id","getPlanInfo","component","sumbitRowModule","paramsModule","company_id","supplier_id","warehouse_id","requirement_delivery_time","buyer_id","department_id","tableHead","formRules","required","editRules","goods_num","goods_name","purchase_price","purchase_total_price","is_invoices_name","width","align","title","field","editRender","getParams","row","showObj","goods_id","unit_name","brand_name","specification_type","factory_code","getIcon","icon","iconMethod","i","events","change","goods_sn","handleEdit","column","property","headerAlign","autoselect","input","showOverflow","modelKey","list","label","formatter","obj","num","price","goodsPrice","computeTotal","$refs","xTable","_proxy","warning","deleteRow","length","addRow","undefined","isShowShopPop","initTurnOrder","_routeParams","transferType","$axMethod","stockEarlyWarningChangeOrderInfo","portParams","then","info","abstract","Date","goods_list","map","val","companyList"],"mappings":"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","file":"js/chunk-54593f7a.5d77dfff.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planSee.vue?vue&type=style&index=0&id=45c08d82&scoped=true&lang=less&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planSee.vue?vue&type=style&index=1&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"seePage\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"采购管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"采购计划\")])]),_c('el-breadcrumb-item',[_vm._v(\"查看采购计划\")])],1),_c('div',{staticClass:\"search_container\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"采购组织\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.company_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"单据号:\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.plan_sn)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"供应商(厂家)\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.supplier_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"仓库名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.warehouse_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"交货日期\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.requirement_delivery_time_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"采购员\",\"size\":\"mini\",\"prop\":\"buyer_id\"}},[_vm._v(\" \"+_vm._s(_vm.params.buyer_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"所属部门\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.department_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"收货状态\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.delivery_status_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"审核状态\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.auditor_status_name)+\" \")])],1)],1),_c('div',{staticClass:\"table_container\"},[_c('xTable',{ref:\"xTable\",attrs:{\"xData\":_vm.tableData,\"isEdit\":_vm.isEdit,\"tableColumn\":_vm.tableColumn,\"totalArray\":['goods_num','subtotal_price']}})],1),_c('div',[_c('el-form',{ref:\"paramsFooter\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{staticStyle:{\"width\":\"900px\"},attrs:{\"label\":\"单据备注：\",\"size\":\"mini\"}},[_c('span',[_vm._v(_vm._s(_vm.params.remark))])]),_c('br'),_c('el-form-item',{attrs:{\"label\":\"创建人：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.add_user_name),callback:function ($$v) {_vm.$set(_vm.params, \"add_user_name\", $$v)},expression:\"params.add_user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"创建时间：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.add_time_name),callback:function ($$v) {_vm.$set(_vm.params, \"add_time_name\", $$v)},expression:\"params.add_time_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"修改人：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.update_user_name),callback:function ($$v) {_vm.$set(_vm.params, \"update_user_name\", $$v)},expression:\"params.update_user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"修改时间：\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"disabled\":\"\"},model:{value:(_vm.params.update_time_name),callback:function ($$v) {_vm.$set(_vm.params, \"update_time_name\", $$v)},expression:\"params.update_time_name\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.params.auditor_status==1)?[(_vm.authority.b_pass==1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.shenHe}},[_vm._v(\"审 核\")]):_vm._e(),(_vm.authority.b_invalid==1)?_c('el-button',{on:{\"click\":_vm.deletes}},[_vm._v(\"作 废\")]):_vm._e()]:_vm._e(),(_vm.params.auditor_status==2)?[(_vm.authority.b_invalid==1)?_c('el-button',{on:{\"click\":_vm.deletes}},[_vm._v(\"作 废\")]):_vm._e()]:_vm._e(),(_vm.params.auditor_status==3 || (_vm.authority.b_invalid!=1 && _vm.authority.b_pass!=1))?[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"返 回\")])]:[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")])]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"seePage\">\n    <!-- 采购计划列表查看 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>采购管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">采购计划</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>查看采购计划</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_container\">\n      <el-form :inline=\"true\" :model=\"params\" ref=\"ruleForm\" class=\"demo-form-inline\">\n        <el-form-item label=\"采购组织\" size=\"mini\">\n          {{params.company_name}}\n        </el-form-item>\n        <el-form-item label=\"单据号:\" size=\"mini\">\n          {{ params.plan_sn }}\n        </el-form-item>\n        <el-form-item label=\"供应商(厂家)\" size=\"mini\">\n          {{params.supplier_name}}\n        </el-form-item>\n        <el-form-item label=\"仓库名称\" size=\"mini\">\n          {{params.warehouse_name}}\n        </el-form-item>\n        <el-form-item label=\"交货日期\" size=\"mini\">\n          {{ params.requirement_delivery_time_name }}\n        </el-form-item>\n        <el-form-item label=\"采购员\" size=\"mini\" prop=\"buyer_id\">\n          {{ params.buyer_name }}\n        </el-form-item>\n        <el-form-item label=\"所属部门\" size=\"mini\">\n          {{ params.department_name }}\n        </el-form-item>\n        <el-form-item label=\"收货状态\" size=\"mini\">\n          {{ params.delivery_status_name }}\n        </el-form-item>\n        <el-form-item label=\"审核状态\" size=\"mini\">\n          {{ params.auditor_status_name }}\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"table_container\">\n      <xTable ref='xTable' :xData='tableData' :isEdit='isEdit' :tableColumn='tableColumn' :totalArray=\"['goods_num','subtotal_price']\" />\n    </div>\n    <div>\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\" ref=\"paramsFooter\">\n        <el-form-item label=\"单据备注：\" size=\"mini\" style=\"width:900px\">\n          <span>{{params.remark}}</span>\n        </el-form-item>\n        <br />\n        <el-form-item label=\"创建人：\" size=\"mini\">\n          <el-input v-model=\"params.add_user_name\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"创建时间：\" size=\"mini\">\n          <el-input v-model=\"params.add_time_name\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"修改人：\" size=\"mini\">\n          <el-input v-model=\"params.update_user_name\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"修改时间：\" size=\"mini\">\n          <el-input v-model=\"params.update_time_name\" maxlength=\"100\" disabled></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <!--未审核-->\n      <template v-if=\"params.auditor_status==1\">\n        <el-button type=\"primary\" @click=\"shenHe\" v-if=\"authority.b_pass==1\">审 核</el-button>\n        <el-button @click=\"deletes\" v-if=\"authority.b_invalid==1\">作 废</el-button>\n      </template>\n      <!--已审核-->\n      <template v-if=\"params.auditor_status==2\">\n        <el-button @click=\"deletes\" v-if=\"authority.b_invalid==1\">作 废</el-button>\n      </template>\n      <!--作废-->\n      <template v-if=\"params.auditor_status==3 || (authority.b_invalid!=1 && authority.b_pass!=1)\">\n        <el-button @click=\"goBack\">返 回</el-button>\n      </template>\n      <template v-else>\n        <el-button @click=\"goBack\">取 消</el-button>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { tableHead } from \"./config/planAdd\";\nexport default {\n  mixins: [tableHead],\n  name: \"purchasePlanSee\",\n  data() {\n    return {\n      authority: {},\n      tableData: [],\n      chaid: false,\n      params: {}\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.push({ path: \"/purchase/plan\" });\n    },\n    shenHe() {\n      if (this.params.is_jc === 1) {\n        this.$message.error(\"对接集采的采购申请不可审核\");\n        return;\n      }\n      //审核\n      this.$axios({\n        method: \"post\",\n        url: this.$api.purchaseAuditorPass,\n        data: {\n          plan_id: this.plan_id\n        }\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.$message({\n            message: res.data.msg ? res.data.msg : res.data.data,\n            type: \"success\"\n          });\n          this.goBack();\n        }\n      });\n    },\n    // 作废\n    deletes() {\n      this.$axios({\n        method: \"post\",\n        url: this.$api.purchaseAuditorInvalid,\n        data: {\n          plan_id: this.plan_id\n        }\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.$message({\n            message: res.data.msg ? res.data.msg : res.data.data ,\n            type: \"success\"\n          });\n          this.goBack();\n        }\n      });\n    }\n  },\n  created() {\n    this.tableColumn = this.$publicFution.filterTableColumn(this.tableColumn);\n    this.authority = JSON.parse(localStorage.getItem(\"authority\"));\n    /** 采购计划详情 */\n    if (this.$route.query && this.$route.query.id) {\n      this.plan_id = this.$route.query.id;\n      this.$axios({\n        method: \"get\",\n        url: this.$api.getPlanInfo,\n        params: {\n          plan_id: this.plan_id\n        }\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.tableData = res.data.data.goods_list;\n          this.params = res.data.data.info;\n          this.params.requirement_delivery_time = this.params.requirement_delivery_time_name;\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.refundauditFoot {\n  text-align: right;\n  margin-top: 20px;\n  font-size: 13px;\n\n  span {\n    display: inline-block;\n    margin-right: 20px;\n  }\n}\n\n.searchRemark {\n  display: inline-block;\n  width: 193px;\n  height: 73px;\n  overflow: scroll;\n}\n\n.el-form > div {\n  min-width: 280px;\n}\n</style>\n<style lang=\"less\">\n//备注以及搜索状态超长情况可以加此类 详见其他入库查看页面\n.textLongstyle {\n  width: 200px;\n  max-height: 100px;\n  overflow-y: auto;\n  display: inline-block;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planSee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planSee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./planSee.vue?vue&type=template&id=45c08d82&scoped=true&\"\nimport script from \"./planSee.vue?vue&type=script&lang=js&\"\nexport * from \"./planSee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./planSee.vue?vue&type=style&index=0&id=45c08d82&scoped=true&lang=less&\"\nimport style1 from \"./planSee.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45c08d82\",\n  null\n  \n)\n\nexport default component.exports","\n// 提交行数据模板\nexport const sumbitRowModule = {\n  \"goods_id\": '',\n  \"goods_name\": '',\n  \"purchase_price\": '',\n  \"goods_num\": '',\n  \"goods_sn\": '',\n  \"subtotal_price\": '',\n  \"is_invoices\": '',\n  \"remark\": \"\"\n}\n// 提交行数据模板\nexport const paramsModule = {\n  remark: '',\n  company_id: '',\n  company_name: '',\n  plan_sn: '',\n  supplier_id: '',\n  supplier_name: '',\n  warehouse_id: '',\n  warehouse_name: '',\n  requirement_delivery_time: '',\n  buyer_id: '',\n  department_id: '',\n  delivery_status_name: ''\n}\n// 渲染行数据模板\nexport const rowModule = {\n  \"goods_name\": '',\n  \"goods_id\": '',\n  \"goods_sn\": '',\n  \"goods_num\": '', // 申请数量\n  \"purchase_price\": '', // 申请采购价\n  \"is_invoices\": '',// 是否带票\n  \"is_invoices_name\": '',// 是否带票\n  \"requirement_delivery_time\": '',// 要求交货日期\n  \"remark\": \"\"\n}\nexport const tableHead = {\n  data() {\n    return {\n      formRules: {\n        company_id: [\n          { required: true, message: '请选择采购组织跟' }\n        ],\n        warehouse_id: [\n          { required: true, message: '请选择仓库' }\n        ],\n        requirement_delivery_time: [\n          { required: true, message: '请选择交货日期' }\n        ],\n        buyer_id: [\n          { required: true, message: '请选择采购员' }\n        ]\n      },\n      editRules: {\n        goods_num: [\n          { required: true, message: '数量输入请在0-99999999之间' }\n        ],\n        goods_name: [\n          { required: true, message: '请选择商品' }\n        ],\n        purchase_price: [\n          { required: true, message: '请输入采购价' }\n        ],\n        purchase_total_price: [\n          { required: true, message: '请输入采购金额' }\n        ],\n        is_invoices_name: [\n          {\n            required: true,\n            message: \"请选择是否带票\"\n          }\n        ]\n      },\n      tableColumn: [{\n        type: \"checkbox\",\n        width: 44,\n        align: 'center'\n      },\n      {\n        title: '序号',\n        type: \"seq\",\n        width: 50\n      },\n      {\n        title: '商品编号',\n        field: 'goods_id',\n        width: 80\n      },\n      {\n        title: '商品名称',\n        field: 'goods_name',\n        width: 400,\n        editRender: {\n          name: 'vGoods',\n          getParams: ({ row }) => {\n            return {\n              params: {\n                company_id: this.params.company_id\n              },\n              showObj: {\n                goods_id: \"商品编号\",\n                goods_name: \"商品名称\",\n                unit_name: \"单位\",\n                brand_name: \"品牌\",\n                specification_type: \"规格型号\",\n                factory_code: \"工厂代码\"\n              },\n              getIcon: () => {\n                if (row.goods_name) {\n                  return [{\n                    icon: 'el-icon-close',\n                    title: '删除商品',\n                    iconMethod: () => {\n                      for (var i in row) {\n                        row[i] = ''\n                      }\n                    }\n                  }]\n                } else {\n                  return []\n                }\n              }\n            }\n          },\n          events: {\n            change: (value, { row }) => {\n              row.brand_name = value.brand_name\n              row.unit_name = value.unit_name\n              row.goods_id = value.goods_id\n              row.specification_type = value.specification_type\n              row.goods_sn = value.goods_sn\n              row.factory_code = value.factory_code\n              row.purchase_price = value.purchase_price;\n              this.handleEdit({ row: row, column: { property: 'purchase_price' } })\n            },\n          }\n        }\n      },\n      {\n        title: '工厂代码',\n        field: 'factory_code',\n        width: 100\n      },\n      // {\n      //   title: '品牌',\n      //   field: 'brand_name',\n      //   width: 100\n      // },\n      // {\n      //   title: '规格型号',\n      //   field: 'specification_type',\n      //   width: 100\n      // },\n      // {\n      //   title: '单位',\n      //   field: 'unit_name',\n      //   width: 60\n      // },\n      {\n        title: '申请数量',\n        field: 'goods_num',\n        width: 132,\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        editRender: {\n          name: 'number',\n          autoselect: true,\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '申请采购价',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        field: 'purchase_price',\n        width: 132,\n        editRender: {\n          name: 'Vinput',\n          autoselect: true,\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      {\n        title: '申请金额',\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n        field: 'subtotal_price',\n        width: 132,\n        editRender: {\n          name: 'Vinput',\n          autoselect: true,\n          events: {\n            input: this.handleEdit\n          }\n        }\n      },\n      // {\n      //   title: '仓库名称',\n      //   field: 'warehouse_name',\n      //   width: 150,\n      //   showOverflow: true,\n      //   editRender: {\n      //     name: 'vSelect',\n      //     getParams: () => {\n      //       return {\n      //         url: 'getWarehouseListJC',\n      //         params: { customer_id: this.params.customer_id },\n      //         returnString: 'data.data.data',\n      //         itemObj: {\n      //           id: 'warehouse_id',\n      //           name: 'warehouse_name'\n      //         }\n      //       }\n      //     }\n      //   }\n      // },\n      {\n        title: '是否带票',\n        field: 'is_invoices_name',\n        width: 150,\n        showOverflow: true,\n        editRender: {\n          name: 'vSelect',\n          getParams: () => {\n            return {\n              modelKey: 'is_invoices',\n              list: [\n                {\n                  value: 1,\n                  label: '带票'\n                },\n                {\n                  value: 2,\n                  label: '不带票'\n                }\n              ]\n            }\n          }\n        }\n      },\n      {\n        title: '已收货数量',\n        field: 'delivery_num',\n        width: 132,\n        headerAlign: \"right\", // 表头对齐方式\n        align: \"right\", // 列对齐方式\n      },\n      {\n        title: '收货状态',\n        field: 'delivery_status_name',\n        width: 132,\n      },\n      {\n        title: '审批状态',\n        field: 'auditor_status_name',\n        width: 132,\n      },\n      {\n        title: '审批人',\n        field: 'auditor_user_name',\n        width: 132,\n      },\n      {\n        title: '审批时间',\n        field: 'auditor_time_name',\n        width: 160,\n      },\n      // {\n      //   title: '审批意见',\n      //   field: 'auditor_content',\n      //   width: 132,\n      // },\n      {\n        title: '商品备注',\n        field: 'remark',\n        width: 200,\n        editRender: {\n          name: 'Vinput',\n          formatter: 'String'\n        }\n      }\n      ]\n    }\n  },\n  methods: {\n    // 计算\n    handleEdit({ row, column }) {\n      var obj = {\n        num: \"goods_num\", // 商品数量的key\n        price: \"purchase_price\", // 商品价格的key\n        goodsPrice: \"subtotal_price\" // 商品总金额的key  数量 * 单价\n      };\n      this.$publicFution.computeTotal(row, obj, column.property, this);\n      this.$refs.xTable._proxy(\"updateFooter\");\n    },\n    isEdit({ row }) {\n      if (row.auditor_status && row.auditor_status !== 1 && row.auditor_status !== 3) {\n        this.$message.warning('只能修改未审核和驳回的单据行！')\n        return false\n      }\n      return true\n    },\n    // 删行\n    deleteRow() {\n      if (this.$refs.xTable._proxy(\"getSelectRecords\").length) {\n        this.$refs.xTable._proxy(\"removeSelecteds\");\n      } else {\n        this.$message.warning(\"请先选择要删除的商品！\");\n      }\n    },\n    // 增行\n    addRow() {\n      if (this.params.company_id == undefined || this.params.company_id == \"\") {\n        this.$message.error(\"请选择采购组织\");\n        return false;\n      }\n      this.isShowShopPop = true;\n    },\n    // 初始化转单\n    initTurnOrder() {\n      let _routeParams = this.$route.params\n      if (_routeParams.transferType) { // 如果是通过库存预警过来转单的则执行\n        this.$axMethod.stockEarlyWarningChangeOrderInfo(_routeParams.portParams).then(({ data }) => {\n          if (data.code === 200) {\n            this.params.company_id = data.data.info.company_id\n            this.params.company_name = data.data.info.company_name\n            this.params.remark = data.data.info.abstract\n            this.params.requirement_delivery_time = new Date()\n            data.data.goods_list.map(val => {\n              this.handleEdit({ row: val, column: { property: 'goods_num' } })\n              return val\n            })\n            this.companyList = [{\n              company_id: this.params.company_id,\n              company_name: this.params.company_name,\n            }]\n            this.$refs.xTable._proxy(\"loadData\", data.data.goods_list)\n          }\n        })\n      }\n    }\n  }\n}"],"sourceRoot":""}