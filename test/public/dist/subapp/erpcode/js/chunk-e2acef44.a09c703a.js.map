{"version":3,"sources":["webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/factoryPolicySee.vue?dadb","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/config/factoryPolicyAdd.js","webpack://erpcode-[name]/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/factoryPolicySee.vue?0b40","webpack://erpcode-[name]/src/components/element/purchase/rebate/factoryPolicy/factoryPolicySee.vue","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/factoryPolicySee.vue?c3cf","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/factoryPolicySee.vue","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/config/cycleBox.vue?3de3","webpack://erpcode-[name]/src/components/element/purchase/rebate/factoryPolicy/config/cycleBox.vue","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/config/cycleBox.vue?19b8","webpack://erpcode-[name]/./src/components/element/purchase/rebate/factoryPolicy/config/cycleBox.vue"],"names":["paramsModule","company_id","localStorage","getItem","company_name","ladder_mode","rebate_mode","effective_start_time","effective_end_time","rebate_cycle","img_path","rowModule","ladder_start_num","ladder_end_num","rebate_type","rebate_type_name","rebate_price","shopRowModule","goods_type_id","goods_type_name","factory_code","unit_name","unit_id","brand_id","brand_name","goods_id","goods_name","tableHead","data","editRules","required","message","editRulesShop","contentTableColumn","contentBaseTableColumn","title","field","width","headerAlign","align","editRender","name","autoselect","formatter","events","change","row","$message","warning","$rowIndex","Number","isNaN","parseInt","next","addContentRow","shopTableColumn","type","fixed","getParams","params","value","forEach","val","box","$refs","xTable","_proxy","fullData","length","addShopRow","excess","excessTableColumn","modelKey","list","label","scope","$table","rowId","concat","map","getOutSlots","msg","methods","dealDetaiData","array","result","$publicFution","deepCopy","toFixed","rebateModeChange","this","tableColumn","initColumn","contentColumn","unshift","contentTable","tableColumnTwo","tableData","prev","contentTableUpdate","indexSign","index","pop","delContentRow","delShopRow","obj","isEdit","column","property","confirm","$","global","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","RangeError","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","x","n","acc","log","x2","multiply","c","c2","divide","dataToString","s","t","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","on","goBack","ref","_s","supplier_name","rebate_policy_name","getTime","model","callback","$$v","$set","expression","_e","directives","rawName","staticStyle","staticRenderFns","mixins","policyDay","editType","shift","goPage","$route","query","id","$router","push","components","cycleBox","created","mounted","$axios","method","url","$api","getRebatePolicyInfoPurchase","code","goods_list","common_list","component","disabled","getList","_l","item","key","props","Boolean","default","hasAll","$emit"],"mappings":"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","file":"js/chunk-e2acef44.a09c703a.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./factoryPolicySee.vue?vue&type=style&index=0&id=4f50a218&scoped=true&lang=less&\"","// params 模板\nexport const paramsModule = {\n  company_id: localStorage.getItem('company_id'),\n  company_name: localStorage.getItem('company_name'),\n  ladder_mode: 2,// 有无阶梯\n  rebate_mode: 1,// 满量返点\n  effective_start_time: '',\n  effective_end_time: '',\n  rebate_cycle: '',// \n  img_path: []\n}\nexport const sumbitParams = {\n  purchase_in_storage_id: '',\n  company_id: localStorage.getItem(\"purchase_center_company_id\"),\n  purchase_order_id: '',\n  purchase_order_sn: '',\n  supplier_id: '',\n  payment_method: '',\n  transaction_type: '',\n  remark: ''\n}\n// 返利内容模板\nexport const rowModule = {\n  ladder_start_num: '',// 阶梯起始数量\n  ladder_end_num: '无穷',\n  rebate_type: 1,\n  rebate_type_name: '返点',\n  rebate_price: '',\n}\nexport const shopRowModule = {\n  ladder_start_num: '',// 阶梯起始数量\n  ladder_end_num: '',\n  rebate_type: 1,\n  rebate_price: '',\n  rebate_type_name: '',\n  goods_type_id: '',\n  goods_type_name: '',\n  factory_code: '',\n  unit_name: '',\n  unit_id: '',\n  brand_id: '',\n  brand_name: '',\n  goods_id: '',\n  goods_name: '',\n}\nexport const tableHead = {\n  data() {\n    return {\n      editRules: {\n        ladder_start_num: [\n          { required: true, message: '阶梯起始数量请在0-99999999之间' }\n        ],\n        ladder_end_num: [\n          { required: true, message: '阶梯截止数量请在0-99999999之间' }\n        ],\n        rebate_type_name: [\n          { required: true, message: '请选择返利名称' }\n        ],\n        rebate_price: [\n          { required: true, message: '请输入返利' }\n        ]\n      },\n      editRulesShop: {\n        goods_name: [\n          { required: true, message: '请选择商品' }\n        ],\n        rebate_type_name: [\n          { required: true, message: '请选择返利名称' }\n        ],\n        rebate_price: [\n          { required: true, message: '请输入返利' }\n        ]\n      },\n      // 返利内容表格\n      contentTableColumn: [],\n      // 返利内容基础表格\n      contentBaseTableColumn: [\n        {\n          title: '阶梯起始数量',\n          field: 'ladder_start_num',\n          width: 140,\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          editRender: {\n            name: 'number',\n            autoselect: true,\n            formatter: 'Positive',\n            events: {\n              change: ({ row }) => {\n                if (row.ladder_end_num && row.ladder_end_num <= row.ladder_start_num) {\n                  this.$message.warning('阶梯截止数量不能小于等于阶梯起始数量！')\n                  row.ladder_start_num = 0\n                }\n              }\n            }\n          }\n        },\n        {\n          title: '阶梯截止数量',\n          field: 'ladder_end_num',\n          width: 140,\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          editRender: {\n            name: 'Vinput',\n            autoselect: true,\n            formatter: 'String',\n            events: {\n              change: ({ row, $rowIndex, data }) => {\n                row.ladder_start_num = Number(row.ladder_start_num)\n                if (!row.ladder_end_num || row.ladder_end_num == '无穷') {\n                  row.ladder_end_num = '无穷'\n                } else {\n                  row.ladder_end_num = isNaN(parseInt(row.ladder_end_num)) ? 0 : parseInt(row.ladder_end_num);\n                  if (row.ladder_end_num < row.ladder_start_num) {\n                    this.$message.warning('阶梯截止数量不能小于等于阶梯起始数量！')\n                    row.ladder_end_num = row.ladder_start_num + 1\n                  }\n                  var next = data[$rowIndex + 1]\n                  if (next) {\n                    if (next.ladder_end_num && row.ladder_end_num + 1 >= next.ladder_end_num) {\n                      row.ladder_end_num = row.ladder_start_num + 1\n                      this.$message.warning('下一行阶梯截止数量不能小于等于阶梯起始数量！')\n                      return\n                    }\n                    next.ladder_start_num = row.ladder_end_num + 1\n                  } else {\n                    this.addContentRow()\n                  }\n                }\n\n              }\n            }\n          }\n        }\n      ],\n      // 商品信息表格\n      shopTableColumn: [\n        {\n          type: \"checkbox\",\n          width: 44,\n          align: 'center',\n          fixed: 'left'\n        },\n        {\n          title: '商品类型',\n          field: 'goods_type_name',\n          width: 150\n        },\n        {\n          title: '品牌',\n          field: 'brand_name',\n          width: 150\n        },\n        {\n          title: '商品编号',\n          field: 'goods_id',\n          width: 150\n        },\n        {\n          title: '商品名称',\n          field: 'goods_name',\n          width: 400,\n          editRender: {\n            name: 'vGoods',\n            getParams: ({ row }) => {\n              return {\n                params: {\n                  company_id: this.params.company_id\n                },\n              }\n            },\n            events: {\n              change: (value, { row }) => {\n                ['inventory_goods_id', 'unit_id', 'unit_name', 'brand_id', 'brand_name', 'specification_model', 'factory_code', 'specification_type', 'goods_type_name', 'goods_type_id'].forEach(val => {\n                  row[val] = value[val]\n                });\n                // row.goods_brand_name = row.brand_name\n                // row.goods_brand_id = row.brand_id\n                // row.goods_unit_id = row.unit_id\n                // row.goods_unit_name = row.unit_name\n                var box = this.$refs.xTable._proxy(\"getTableData\").fullData;\n                if (box.length === 0 || box[box.length - 1].goods_name) {\n                  this.addShopRow();\n                }\n              }\n            }\n          }\n        },\n        {\n          title: '工厂代码',\n          field: 'factory_code',\n          width: 150\n        },\n        {\n          title: '单位',\n          field: 'unit_name',\n          width: 150\n        }\n      ],\n      excess: [// 短期促销专属\n        {\n          title: '促销进价(元)',\n          field: 'promotion_price',\n          width: 140,\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          editRender: {\n            name: 'Vinput',\n            autoselect: true,\n          }\n        }\n      ],\n      // 扩展表格\n      excessTableColumn: [\n        {\n          title: '返利方式',\n          field: 'rebate_type_name',\n          width: 140,\n          editRender: {\n            name: 'vSelect',\n            getParams: () => {\n              return {\n                modelKey: 'rebate_type',\n                list: [\n                  {\n                    value: 1,\n                    label: '返点(%)'\n                  },\n                  {\n                    value: 2,\n                    label: '金额(元)'\n                  }\n                ]\n              }\n            },\n            events: {\n              change: (scope) => {\n                var { $table, row } = scope\n                if (!row.rebate_type) {\n                  row.rebate_price = ''\n                }\n                if ($table.rowId === 'contentId') {// rowID 是表格的唯一标识 策略内容改变同步到下面的商品信息\n                  var box = this.$refs.xTable._proxy(\"getTableData\").fullData.concat([]);\n                  box = box.map(val => {\n                    val.rebate_type = row.rebate_type\n                    val.rebate_type_name = row.rebate_type_name\n                    return val\n                  })\n                  this.$refs.xTable._proxy(\"loadData\", box)\n                }\n              }\n            }\n          }\n        },\n        {\n          title: '返利',\n          field: 'rebate_price',\n          width: 140,\n          headerAlign: \"right\", // 表头对齐方式\n          align: \"right\", // 列对齐方式\n          editRender: {\n            name: 'Vinput',\n            autoselect: true,\n            events: {\n              change: (scope) => {\n                var { $table, row } = scope\n                if ($table.rowId === 'contentId') {// owID 是表格的唯一标识 策略内容改变同步到下面的商品信息\n                  var box = this.$refs.xTable._proxy(\"getTableData\").fullData.concat([]);\n                  box = box.map(val => {\n                    val.rebate_price = row.rebate_price\n                    return val\n                  })\n                  this.$refs.xTable._proxy(\"loadData\", box)\n                }\n              }\n            },\n            getOutSlots: ({ row }) => {\n              var msg\n              if (row.rebate_type === 1) {\n                msg = '%'\n              } else if (row.rebate_type === 2) {\n                msg = '元'\n              }\n              return [<span style='color: blue' >{msg}</span>]\n            }\n          }\n        }\n      ]\n    }\n  },\n  methods: {\n    // 新增返点要除以100 修改详情要乘以一百\n    dealDetaiData(array) {\n      var result = array.map(val => {\n        if (val.rebate_type === 1) {\n          var row = this.$publicFution.deepCopy(val);\n          row.rebate_price = row.rebate_price * 100;\n          row.rebate_price = row.rebate_price.toFixed(2)\n          return row;\n        }\n        val.rebate_price = Number(val.rebate_price).toFixed(2)\n        return val;\n      });\n      return result\n    },\n    // 短期促销\n    rebateModeChange() {\n      if (this.params.rebate_mode === 2) {// 短期促销\n        var tableColumn = this.shopTableColumn.concat(this.excess);\n        this.$refs.xTable && this.$refs.xTable.initColumn(tableColumn);\n      } else {// 满量慢点\n        if (this.params.ladder_mode === 2) {// 有阶梯\n          this.$refs.xTable && this.$refs.xTable.initColumn(this.shopTableColumn);\n          var contentColumn = this.contentBaseTableColumn.concat(\n            this.excessTableColumn\n          );\n          contentColumn.unshift({\n            type: \"checkbox\",\n            width: 44,\n            align: \"center\",\n            fixed: \"left\"\n          });\n          this.$refs.contentTable &&\n            this.$refs.contentTable.initColumn(contentColumn);\n        } else {// 无阶梯\n          var tableColumnTwo = this.shopTableColumn.concat(this.excessTableColumn);\n          this.$refs.xTable && this.$refs.xTable.initColumn(tableColumnTwo);\n          this.$refs.contentTable &&\n            this.$refs.contentTable.initColumn(this.excessTableColumn.concat([]));\n        }\n      }\n    },\n    // 返利内容增行\n    addContentRow() {\n      if (this.$refs.contentTable) {\n        var row = this.$publicFution.deepCopy(rowModule)\n        var tableData = this.$refs.contentTable._proxy(\"getTableData\").fullData.concat([])\n        var prev = tableData[tableData.length - 1]\n        if (prev) {\n          if (typeof (prev.ladder_end_num) !== 'number') {\n            prev.ladder_end_num = Number(prev.ladder_start_num) + 1\n          }\n          row.ladder_start_num = Number(prev.ladder_end_num) + 1\n        } else {\n          row.ladder_start_num = 1\n        }\n        this.$refs.contentTable._proxy(\"insertAt\", row, -1);\n      }\n    },\n    // 返利内容表格变动\n    contentTableUpdate() {\n      var tableData = this.$refs.contentTable._proxy(\"getTableData\").fullData.concat([])\n      this.indexSign = tableData.map((val, index) => index)\n      if (this.indexSign.length > 1) {\n        this.indexSign.pop()\n      }\n    },\n    // 删策略内容\n    delContentRow() {\n      if (this.$refs.contentTable._proxy(\"getSelectRecords\").length) {\n        this.$refs.contentTable._proxy(\"removeSelecteds\");\n      } else {\n        this.$message.warning(\"请先选择要删除的商品！\");\n      }\n    },\n    // 删商品内容\n    delShopRow() {\n      if (this.$refs.xTable._proxy(\"getSelectRecords\").length) {\n        this.$refs.xTable._proxy(\"removeSelecteds\");\n      } else {\n        this.$message.warning(\"请先选择要删除的商品！\");\n      }\n    },\n    // 商品信息增行\n    addShopRow() {\n      if (this.$refs.xTable) {\n        var obj = this.$publicFution.deepCopy(shopRowModule)\n        if (this.params.ladder_mode === 1) {\n          var row = this.$refs.contentTable._proxy(\"getTableData\").fullData\n          row = row[0] ? row[0] : {}\n          obj.rebate_price = row.rebate_price\n          obj.rebate_type_name = row.rebate_type_name\n          obj.rebate_type = row.rebate_type\n        }\n        this.$refs.xTable._proxy(\n          \"insertAt\",\n          obj,\n          -1\n        );\n      }\n    },\n    isEdit({ column, row, $rowIndex }) {\n      if (column.property === 'ladder_start_num' && $rowIndex !== 0) {\n        this.$publicFution.confirm('只能修改第一行的起始数量')\n        return false\n      }\n      return true\n    },\n\n  }\n}","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container squareFormSpan\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"采购管理\")]),_c('el-breadcrumb-item',{staticClass:\"attrbute\"},[_c('span',{on:{\"click\":_vm.goBack}},[_vm._v(\"厂家返利政策\")])]),_c('el-breadcrumb-item',[_vm._v(\"查看厂家返利政策\")])],1),_c('div',{staticClass:\"editOrderbox\"},[_c('h5',{staticClass:\"firstTitle\"},[_vm._v(\"返利信息\")]),_c('el-form',{ref:\"params\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params}},[_c('el-form-item',{attrs:{\"label\":\"组织名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.company_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"厂家名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.supplier_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"返利政策名称\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.rebate_policy_name)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"返利有效期\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.$publicFution.getTime(_vm.params.effective_start_time * 1000) + '-' + _vm.$publicFution.getTime(_vm.params.effective_end_time * 1000))+\" \")]),(_vm.params.rebate_mode === 1)?_c('el-form-item',{attrs:{\"label\":\"返利周期\",\"size\":\"mini\"}},[_c('cycleBox',{attrs:{\"hasAll\":false,\"disabled\":true},model:{value:(_vm.params.rebate_cycle),callback:function ($$v) {_vm.$set(_vm.params, \"rebate_cycle\", $$v)},expression:\"params.rebate_cycle\"}})],1):_vm._e(),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.rebate_mode === 1),expression:\"params.rebate_mode === 1\"}],attrs:{\"label\":\"阶梯模式\",\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.params.ladder_mode === 2 ? '有阶梯' : '无阶梯')+\" \")])],1),_c('div',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"-20px\"}},[_c('el-tabs',{model:{value:(_vm.params.rebate_mode),callback:function ($$v) {_vm.$set(_vm.params, \"rebate_mode\", $$v)},expression:\"params.rebate_mode\"}},[(_vm.params.rebate_mode === 1)?_c('el-tab-pane',{attrs:{\"label\":\"满量返点\",\"name\":1}}):_vm._e(),(_vm.params.rebate_mode === 2)?_c('el-tab-pane',{attrs:{\"label\":\"短期促销\",\"name\":2}}):_vm._e()],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.rebate_mode === 1),expression:\"params.rebate_mode === 1\"}]},[_c('h5',{staticClass:\"baseTitle\"},[_vm._v(\"返利内容\")]),_c('div',{staticClass:\"table_container\",staticStyle:{\"display\":\"inline-block\"}},[_c('xTable',{ref:\"contentTable\",attrs:{\"maxHeight\":\"500\",\"isEdit\":function () { return false; },\"tableColumn\":_vm.contentBaseTableColumn}})],1)]),_c('h5',{staticClass:\"baseTitle\"},[_vm._v(\"商品信息\")]),_c('div',{staticClass:\"add_delet\"},[_c('span',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"品牌：\"+_vm._s(_vm.params.brand_name))])]),_c('div',{staticClass:\"table_container\",staticStyle:{\"display\":\"inline-block\"}},[_c('xTable',{ref:\"xTable\",attrs:{\"tableColumn\":_vm.shopTableColumn,\"isEdit\":function () { return false; }}})],1),_c('div',[_c('h5',{staticClass:\"baseTitle\"},[_vm._v(\"附件信息\")]),_c('uploadCommon',{ref:\"uploadFile\",attrs:{\"beforeRemove\":function () { return false; }},model:{value:(_vm.params.img_path),callback:function ($$v) {_vm.$set(_vm.params, \"img_path\", $$v)},expression:\"params.img_path\"}})],1),_c('div',{staticClass:\"sumbitButton\"},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 采购申请新增修改 -->\n  <div class='container squareFormSpan'>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>采购管理</el-breadcrumb-item>\n      <el-breadcrumb-item class=\"attrbute\">\n        <span @click=\"goBack\">厂家返利政策</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>查看厂家返利政策</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class='editOrderbox'>\n      <h5 class=\"firstTitle\">返利信息</h5>\n      <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\" ref=\"params\">\n        <el-form-item label=\"组织名称\" size=\"mini\">\n          {{ params.company_name }}\n        </el-form-item>\n        <el-form-item label=\"厂家名称\" size=\"mini\">\n          {{ params.supplier_name }}\n        </el-form-item>\n        <el-form-item label=\"返利政策名称\" size=\"mini\">\n          {{ params.rebate_policy_name }}\n        </el-form-item>\n        <el-form-item label=\"返利有效期\" size=\"mini\">\n          {{ $publicFution.getTime(params.effective_start_time * 1000) + '-' + $publicFution.getTime(params.effective_end_time * 1000) }}\n        </el-form-item>\n        <el-form-item label=\"返利周期\" size=\"mini\" v-if='params.rebate_mode === 1'> \n          <cycleBox v-model=\"params.rebate_cycle\" :hasAll='false' :disabled=\"true\" />\n        </el-form-item>\n        <el-form-item label=\"阶梯模式\" size=\"mini\" v-show='params.rebate_mode === 1'>\n          {{ params.ladder_mode === 2 ? '有阶梯' : '无阶梯' }}\n        </el-form-item>\n      </el-form>\n      <div style='margin-top: 30px;margin-bottom: -20px'>\n        <el-tabs v-model=\"params.rebate_mode\">\n          <el-tab-pane label=\"满量返点\" v-if='params.rebate_mode === 1' :name=\"1\"></el-tab-pane>\n          <el-tab-pane label=\"短期促销\" v-if='params.rebate_mode === 2' :name=\"2\"></el-tab-pane>\n        </el-tabs>\n      </div>\n      <div v-show='params.rebate_mode === 1'>\n        <h5 class=\"baseTitle\">返利内容</h5>\n        <div class=\"table_container\" style='display:inline-block;'>\n          <xTable ref='contentTable' maxHeight='500' :isEdit='() => false' :tableColumn='contentBaseTableColumn' />\n        </div>\n      </div>\n      <h5 class=\"baseTitle\">商品信息</h5>\n      <div class=\"add_delet\">\n        <span style='font-size: 12px;'>品牌：{{ params.brand_name }}</span>\n      </div>\n      <div class=\"table_container\" style='display:inline-block;'>\n        <xTable ref='xTable' :tableColumn='shopTableColumn' :isEdit='() => false' />\n      </div>\n      <div>\n        <h5 class=\"baseTitle\">附件信息</h5>\n        <uploadCommon v-model=\"params.img_path\" ref='uploadFile' :beforeRemove='() => false' />\n      </div>\n      <div class=\"sumbitButton\">\n        <el-button plain @click=\"goBack\" size=\"small\">返回</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { tableHead } from \"./config/factoryPolicyAdd\";\nimport cycleBox from \"./config/cycleBox\";\nexport default {\n  name: \"factoryPolicy/factoryPolicySee\",\n  mixins: [tableHead],\n  data() {\n    return {\n      policyDay: [],\n      params: {},\n      editType: 1 // 操作类型 1是新增  2是编辑\n    };\n  },\n  methods: {\n    // 短期促销\n    rebateModeChange() {\n      if (this.params.rebate_mode === 2) {// 短期促销\n        var tableColumn = this.shopTableColumn.concat(this.excess);\n        tableColumn.shift()\n        this.$refs.xTable && this.$refs.xTable.initColumn(tableColumn);\n      } else {// 满量慢点\n        if (this.params.ladder_mode === 2) {// 有阶梯\n          this.$refs.xTable && this.$refs.xTable.initColumn(this.shopTableColumn);\n          var contentColumn = this.contentBaseTableColumn.concat(\n            this.excessTableColumn\n          );\n          this.$refs.contentTable &&\n            this.$refs.contentTable.initColumn(contentColumn);\n        } else {// 无阶梯\n          var tableColumnTwo = this.shopTableColumn.concat(this.excessTableColumn);\n          this.$refs.xTable && this.$refs.xTable.initColumn(tableColumnTwo);\n          this.$refs.contentTable &&\n            this.$refs.contentTable.initColumn(this.excessTableColumn.concat([]));\n        }\n      }\n    },\n    goBack() {\n      this.$publicFution.goPage(this.$route.query && this.$route.query.id);\n      this.$router.push(\"/purchase/factoryPolicy\");\n    }\n  },\n  components: {\n    cycleBox\n  },\n  created () {\n    this.shopTableColumn.shift()\n  },\n  mounted() {\n    this.editType = 1;\n    if (this.$route.query && this.$route.query.id) {\n      this.editType = 2;\n      this.$axios({\n        params: { rebate_policy_id: this.$route.query.id },\n        method: \"get\",\n        url: this.$api.getRebatePolicyInfoPurchase\n      }).then(({ data }) => {\n        if (data.code) {\n          this.params = data.data.info;\n          this.rebateModeChange(); // 短期促销 与满量返点的切换\n          data.data.goods_list = this.dealDetaiData(data.data.goods_list);\n          data.data.common_list = this.dealDetaiData(data.data.common_list);\n          this.$refs.xTable._proxy(\"loadData\", data.data.goods_list);\n          this.$refs.contentTable._proxy(\"loadData\", data.data.common_list);\n          this.$refs.uploadFile._initList(data.data.photo_list.fileList);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang='less'>\n.container {\n  /deep/ .el-radio-button:first-child .el-radio-button__inner {\n    border: 1px solid #dcdfe6;\n  }\n}\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./factoryPolicySee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./factoryPolicySee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./factoryPolicySee.vue?vue&type=template&id=4f50a218&scoped=true&\"\nimport script from \"./factoryPolicySee.vue?vue&type=script&lang=js&\"\nexport * from \"./factoryPolicySee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./factoryPolicySee.vue?vue&type=style&index=0&id=4f50a218&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f50a218\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"disabled\":_vm.disabled,\"filterable\":\"\"},on:{\"focus\":_vm.getList,\"change\":_vm.change},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.list),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 来源渠道 -->\n  <el-select v-model=\"value\" placeholder=\"请选择\" clearable :disabled='disabled' filterable @focus=\"getList\" @change=\"change\">\n    <el-option v-for=\"item in list\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n    </el-option>\n  </el-select>\n</template>\n\n<script>\nexport default {\n  name: \"cycleBox\",\n  data() {\n    return {\n      list: [\n        {\n          value: 0,\n          label: \"全部\"\n        },\n        {\n          value: 1,\n          label: \"本月返\"\n        },\n        {\n          value: 2,\n          label: \"本季返\"\n        },\n        {\n          value: 3,\n          label: \"本半年返\"\n        },\n        {\n          value: 4,\n          label: \"本年返\"\n        },\n        {\n          value: 5,\n          label: \"次月返\"\n        },\n        {\n          value: 6,\n          label: \"次季返\"\n        },\n        {\n          value: 7,\n          label: \"次半年返\"\n        },\n        {\n          value: 8,\n          label: \"次年返\"\n        }\n      ]\n    };\n  },\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    hasAll: {\n      // 是否有全部\n      type: Boolean,\n      default: true\n    },\n    value: null\n  },\n  created() {\n    if (!this.hasAll) {\n      this.list.shift()\n    }\n  },\n  methods: {\n    getList() {\n      // this.$axios\n      //   .axios({\n      //     url: \"/open/Warehouse/getWarehouseList\",\n      //     method: \"get\",\n      //     params: this.searchParams\n      //   })\n      //   .then(({ data }) => {\n      //     if (data.cdoe === 200) {\n      //       this.list = data.data\n      //     }\n      //   });\n    },\n    change(val) {\n      this.$emit(\"input\", val);\n      this.$emit(\"change\", val);\n    }\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cycleBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cycleBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cycleBox.vue?vue&type=template&id=7414660a&\"\nimport script from \"./cycleBox.vue?vue&type=script&lang=js&\"\nexport * from \"./cycleBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}