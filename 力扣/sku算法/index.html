<!--
 * @Author: 吴玉荣
 * @LastEditors: 吴玉荣
 * @Date: 2021-06-23 16:51:51
 * @LastEditTime: 2021-10-15 10:43:10
 * @info: 描述
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      var arr = [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8]
      ]
      var obj = {}
      var len = arr.length
      arr.forEach((val, index) => {
        val.forEach(twoVal => {
          var result = obj[twoVal] = [String(twoVal)]
          var restArr = arr.concat([])
          restArr.splice(index, 1)
          var currentIndex = 1
          while (currentIndex < len) {
            arryFunThree(restArr, currentIndex).forEach(threeVal => {
              var demo = cartesian([
                [twoVal]
              ].concat(threeVal))
              demo.forEach(twoVal => {
                result.push(twoVal.join(':'))
              })
            })
            currentIndex++
          }
        })
      })
      // 笛卡尔积
      function cartesian(arr) {
        if (arr.length < 2) return arr[0] || [];
        return [].reduce.call(arr, function (col, set) {
          let res = [];
          col.forEach(c => {
            set.forEach(s => {
              let t = [].concat(Array.isArray(c) ? c : [c]);
              t.push(s);
              res.push(t);
            })
          });
          return res;
        });
      }
      // 组合算法
      function arryFunThree(a, m) {
        let r = []
        if (m <= 0 || m > a.length) {
          return r
        }
        for (let i = 0; i < a.length; i++) {
          let t = []
          t.push(a[i])
          if (m === 1) {
            r.push(t)
          } else {
            let b = a.slice(i + 1)
            let c = this.arryFunThree(b, m - 1)
            for (let j = 0; j < c.length; j++) {
              r.push(t.concat(c[j]))
            }
          }
        }
        return r
      }
      console.log(obj)
    </script>
  </body>

</html>