<!--
 * @Author: 吴玉荣
 * @LastEditors: 吴玉荣
 * @Date: 2021-03-12 10:37:56
 * @LastEditTime: 2021-03-12 10:45:35
 * @info: 描述
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      var s = "aab"
      var partition = function (s) {
        const dfs = (i) => {
          if (i === n) {
            ret.push(ans.slice());
            return;
          }
          for (let j = i; j < n; ++j) {
            if (f[i][j]) {
              ans.push(s.slice(i, j + 1));
              dfs(j + 1);
              ans.pop();
            }
          }
        }

        const n = s.length;
        const f = new Array(n).fill(0).map(() => new Array(n).fill(true));
        let ret = [],
          ans = [];

        for (let i = n - 1; i >= 0; --i) {
          for (let j = i + 1; j < n; ++j) {
            f[i][j] = (s[i] === s[j]) && f[i + 1][j - 1];
          }
        }
        dfs(0);
        return ret;
      };
      console.log(partition(s))
    </script>
  </body>

</html>