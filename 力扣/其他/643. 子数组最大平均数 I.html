<!--
 * @Author: 吴玉荣
 * @LastEditors: 吴玉荣
 * @Date: 2021-02-04 10:11:14
 * @LastEditTime: 2021-02-04 10:30:25
 * @info: 描述
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      var nums = [1, 12, -5, -6, 50, 3],
        k = 4
      var findMaxAverage = function (nums, k) {
        var n = nums.length
        var total = 0
        for (var i = 0; i < k; i++) {
          total += nums[i]
        }
        if (k >= n) {
          return total / k
        }
        var result = total
        var left = 0
        var right = k
        while (right < n) {
          total = total - nums[left] + nums[right]
          result = Math.max(result, total)
          right++
          left++
        }

        return result / k
      };
      console.log(findMaxAverage(nums, k))
    </script>
  </body>

</html>