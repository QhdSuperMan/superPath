<!--
 * @Author: 吴玉荣
 * @LastEditors: 吴玉荣
 * @Date: 2021-08-24 11:41:22
 * @LastEditTime: 2021-08-26 11:14:55
 * @info: 描述
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      var n = 10,
        flights = [
          [3, 4, 4],
          [2, 5, 6],
          [4, 7, 10],
          [9, 6, 5],
          [7, 4, 4],
          [6, 2, 10],
          [6, 8, 6],
          [7, 9, 4],
          [1, 5, 4],
          [1, 0, 4],
          [9, 7, 3],
          [7, 0, 5],
          [6, 5, 8],
          [1, 7, 6],
          [4, 0, 9],
          [5, 9, 1],
          [8, 7, 3],
          [1, 2, 6],
          [4, 1, 5],
          [5, 2, 4],
          [1, 9, 1],
          [7, 8, 10],
          [0, 4, 2],
          [7, 2, 8]
        ]
      src = 6, dst = 0, k = 7
      // f[t][i] 表示通过恰好 t 次航班，从出发城市 \textit{src} 到达城市 i 需要的最小花费
      var findCheapestPrice = function (n, flights, src, dst, k) {
        const INF = 10000 * 101 + 1;
        const f = new Array(k + 2).fill(0).map(() => new Array(n).fill(INF));
        f[0][src] = 0
        for (var i = 1; i <= k + 1; i++) {
          for (var j = 0; j < flights.length; j++) {
            f[i][flights[j][1]] = Math.min(f[i - 1][flights[j][0]] + flights[j][2], f[i][flights[j][1]])
          }
        }
        let ans = INF;
        for (let t = 1; t <= k + 1; ++t) {
          ans = Math.min(ans, f[t][dst]);
        }
        return ans == INF ? -1 : ans;
      };
      console.log(findCheapestPrice(n, flights, src, dst, k))
    </script>
  </body>

</html>