<!--
 * @Author: 吴玉荣
 * @LastEditors: 吴玉荣
 * @Date: 2021-08-10 10:58:16
 * @LastEditTime: 2021-08-10 15:52:53
 * @info: 描述
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      var n = 10
      // var nthUglyNumber = function (num) {
      //   var result = []
      //   for (var i = 0; i < 5201; i++) {
      //     if (isUgly(i)) {
      //       result.push(i)
      //       if (result.length === num) {
      //         console.log(result)
      //         return result[result.length - 1]
      //       }
      //     }
      //   }

      //   function isUgly(n) {
      //     if (result.includes(n / 2) || result.includes(n / 3) || result.includes(n / 5)) {
      //       return true
      //     }
      //     while (n > 1) {
      //       if (n % 2 == 0) {
      //         n = n / 2
      //       } else if (n % 3 == 0) {
      //         n = n / 3
      //       } else if (n % 5 == 0) {
      //         n = n / 5
      //       } else {
      //         return false
      //       }
      //     }
      //     if (n == 1) return true
      //   }
      // };
      // [1, 2, 3, 4, 5, 6, 8, 9, 10, 12] 
      var nthUglyNumber = function (num) {
        var dp = [1],
          s = [0, 0, 0]
        for (var i = 1; i < num; i++) {
          while (dp[s[0]] * 2 <= dp[i - 1]) s[0]++;
          while (dp[s[1]] * 3 <= dp[i - 1]) s[1]++;
          while (dp[s[2]] * 5 <= dp[i - 1]) s[2]++;
          dp[i] = Math.min(dp[s[0]] * 2, dp[s[1]] * 3, dp[s[2]] * 5)
        }
        return dp[dp.length - 1]
      };
      console.log(nthUglyNumber(10))
    </script>
  </body>

</html>