<!--
 * @Author: 吴玉荣
 * @LastEditors: 吴玉荣
 * @Date: 2021-12-17 09:28:03
 * @LastEditTime: 2021-12-17 11:21:52
 * @info: 描述
-->
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      var s = "pbbcggttciiippooaais",
        k = 2
      var removeDuplicates = function (s, k) {
        let stack = [] //字母栈
        let countStack = [] //数字栈
        let i = 0
        while (i < s.length) {
          if (stack[stack.length - 1] == s[i]) {
            stack.push(s[i])
            countStack[countStack.length - 1] += 1
            if (countStack[countStack.length - 1] == k) {
              for (let j = 0; j < k; j++) { //字母栈出栈
                stack.pop()
              }
              countStack.pop() //数字栈出栈
            }
          } else {
            stack.push(s[i])
            countStack.push(1)
          }
          i++
        }
        return stack.join('')
      }
      console.log(removeDuplicates(s, k))
    </script>
  </body>

</html>